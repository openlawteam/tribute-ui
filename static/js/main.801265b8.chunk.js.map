{"version":3,"sources":["util/validation.ts","hooks/useAbortController.ts","hooks/useCounter.ts","hooks/useDao.ts","hooks/useIsMounted.ts","hooks/useMemberActionDisabled.tsx","assets/svg/TimesSVG.tsx","config.ts","components/web3/hooks/useWeb3ModalManager.ts","components/feedback/CycleMessage.tsx","util/helpers/chooseRandom.ts","util/helpers/disableReactDevTools.ts","util/helpers/dontCloseWindowWarning.ts","util/helpers/formatDecimal.ts","util/helpers/formatNumber.ts","util/helpers/getValidationError.ts","util/helpers/normalizeString.ts","util/helpers/stripFormatNumber.ts","util/helpers/truncateEthAddress.ts","components/adapters-extensions/enums.ts","store/connectedMember/actions.ts","components/web3/helpers/getExtensionAddress.ts","components/web3/Web3ModalManager.tsx","components/proposals/voting/types.ts","gql/queryDao.ts","gql/queryAdaptersAndExtensions.ts","components/common/FadeIn.tsx","components/web3/hooks/useContractSend.ts","components/web3/hooks/useETHGasPrice.ts","components/web3/hooks/useIsDefaultChain.ts","components/web3/hooks/useInitContracts.ts","components/web3/hooks/useIsAddressDelegated.ts","components/feedback/CycleEllipsis.tsx","util/enums.ts","util/types.ts","store/contracts/actions.ts","components/web3/helpers/contractSend.ts","components/web3/helpers/getAdapterAddress.ts","components/web3/helpers/getAdapterAddressFromContracts.ts","components/web3/helpers/getContractByAddress.ts","components/web3/helpers/getDAOConfigEntry.ts","components/web3/helpers/getDaoState.ts","components/web3/helpers/multicall.ts","components/common/ErrorMessageWithDetails.tsx","components/proposals/types.ts","components/feedback/Loader.tsx","components/proposals/hooks/useOffchainVotingResults.ts","components/proposals/hooks/useOffchainVotingStartEnd.ts","components/proposals/hooks/useProposalOrDraft.ts","components/proposals/hooks/useProposalWithOffchainVoteStatus.ts","components/proposals/hooks/useSignAndSendVote.ts","components/proposals/hooks/useSignAndSubmitProposal.ts","components/web3/types.ts","components/web3/config.ts","components/web3/EtherscanURL.tsx","components/web3/hooks/useWeb3Modal.ts","store/connectedMember/reducers.ts","store/contracts/reducers.ts","store/reducers.ts","store/index.ts","components/Footer.tsx","components/logo/Logo.tsx","components/logo/index.tsx","assets/svg/MetaMaskSVG.tsx","assets/svg/WalletConnectSVG.tsx","components/web3/WalletIcons.tsx","components/feedback/LoaderWithEmoji.tsx","components/common/Modal.tsx","components/web3/Web3ModalButton.tsx","assets/svg/HamburgerSVG.tsx","components/Nav.tsx","components/Header.tsx","Head.tsx","components/common/Wrap.tsx","pages/start/GetStarted.tsx","components/common/InputError.tsx","pages/membership/CreateMembershipProposal.tsx","pages/membership/Membership.tsx","pages/subpages/NotFound.tsx","components/proposals/ProposalActions.tsx","components/proposals/ProposalAmount.tsx","components/proposals/ProposalDetails.tsx","pages/membership/MembershipDetails.tsx","pages/transfers/CreateTransferProposal.tsx","pages/tributes/CreateTributeProposal.tsx","pages/transfers/Transfers.tsx","pages/transfers/TransferDetails.tsx","pages/tributes/Tributes.tsx","pages/tributes/TributeDetails.tsx","pages/governance/CreateGovernanceProposal.tsx","pages/governance/GovernanceProposals.tsx","pages/governance/GovernanceProposalDetails.tsx","pages/members/MemberCard.tsx","pages/members/_mockData.ts","pages/members/Members.tsx","components/adapters-extensions/helpers.ts","components/adapters-extensions/config.ts","components/adapters-extensions/hooks/useAdaptersOrExtensions.ts","components/adapters-extensions/hooks/useValidation.ts","components/common/Checkbox.tsx","components/adapters-extensions/AdapterOrExtensionManager.tsx","Init.tsx","components/adapters-extensions/ConfigurationForm.tsx","components/adapters-extensions/ConfigurationModal.tsx","components/adapters-extensions/AdapterOrExtensionSelectTarget.tsx","pages/members/MemberProfile.tsx","Routes.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["isEthAddressValid","ethAddress","Web3","utils","isAddress","useAbortController","useState","abortController","setAbortController","isMountedRef","useRef","useEffect","current","AbortController","abort","initialState","count","reducer","state","action","type","useCounter","useReducer","dispatch","useDao","daoRegistryContract","useSelector","s","contracts","DaoRegistryContract","useLazyQuery","GET_DAO","variables","id","contractAddress","toLowerCase","getDao","called","loading","data","error","dao","setDao","gqlError","setGqlError","getDaoRegistryCallback","useCallback","molochv3S","length","Error","useIsMounted","useMemberActionDisabled","otherDisabledReasons","setOtherDisabledReasons","shouldShowWhyModal","setShouldShowWhyModal","isActiveMember","connectedMember","connected","useWeb3Modal","otherReasonNext","find","r","isDisabled","disabledReason","getDisabledReason","canShowDisabledReason","WhyDisabledModalCached","props","title","ariaHideApp","className","isOpen","onRequestClose","overlayClassName","role","style","overlay","zIndex","FadeIn","onClick","TimesSVG","handleSetOtherDisabledReasonsCached","otherReasons","filter","Boolean","openWhyDisabledModal","WhyDisabledModal","xmlns","aria-hidden","data-icon","data-prefix","viewBox","fill","d","process","REACT_APP_DAO_REGISTRY_CONTRACT_ADDRESS","REACT_APP_DEFAULT_CHAIN_NAME_LOCAL","REACT_APP_ENVIRONMENT","REACT_APP_INFURA_PROJECT_ID_DEV","REACT_APP_INFURA_PROJECT_ID_LOCAL","REACT_APP_INFURA_PROJECT_ID_PROD","REACT_APP_MULTICALL_CONTRACT_ADDRESS","REACT_APP_SNAPSHOT_HUB_API_URL","REACT_APP_GRAPH_API_URL","ENVIRONMENT","SNAPSHOT_HUB_API_URL","INFURA_PROJECT_ID","GRAPH_API_URL","CHAINS","MAINNET","ROPSTEN","RINKEBY","GOERLI","KOVAN","GANACHE","CHAIN_NAME","ETHERSCAN_URLS","DAO_REGISTRY_CONTRACT_ADDRESS","DAO_FACTORY_CONTRACT_ADDRESS","BANK_EXTENSION_CONTRACT_ADDRESS","VOTING_CONTRACT_ADDRESS","CONFIGURATION_CONTRACT_ADDRESS","RAGEQUIT_CONTRACT_ADDRESS","DISTRIBUTE_CONTRACT_ADDRESS","FINANCING_CONTRACT_ADDRESS","GUILDKICK_CONTRACT_ADDRESS","MANAGING_CONTRACT_ADDRESS","OFFCHAINVOTING_CONTRACT_ADDRESS","ONBOARDING_CONTRACT_ADDRESS","TRIBUTE_CONTRACT_ADDRESS","WITHDRAW_CONTRACT_ADDRESS","MULTICALL_CONTRACT_ADDRESS","DEFAULT_CHAIN","GUILD_ADDRESS","TOTAL_ADDRESS","SHARES_ADDRESS","ETH_TOKEN_ADDRESS","SPACE","development","localhost","production","GQL_QUERY_POLLING_INTERVAL","DefaultTheme","ActionType","WEB3_CONNECT_CACHED_PROVIDER","payload","INIT_WEB3MODAL","web3Modal","ACTIVATE_PROVIDER","provider","networkId","account","UPDATE","web3Instance","undefined","UPDATE_FROM_ERROR","ERROR","ERROR_FROM_ACTIVATION","DEACTIVATE_PROVIDER","useWeb3ModalManager","defaultChain","defaultTheme","providerOptions","web3ModalTheme","web3ModalChain","onConnectToCached","onConnectTo","getNetworkNameCached","NetworkIDs","NetworkNames","connectorId","a","connectTo","subscribeProvider","web3","eth","getAccounts","accounts","net","getId","console","close","clearCachedProvider","on","chainId","cachedProvider","parseInt","Number","handleChainChanged","info","Web3Modal","cacheProvider","network","theme","localStorage","getItem","activeWeb3ModalCached","onDisconnect","CycleMessage","intervalMs","messages","INITIAL_ITEM","useFirstItemStart","chooseRandom","activeMessage","setActiveMessage","intervalId","setInterval","prevMessage","clearInterval","render","array","doNotChooseItem","arrayToUse","Math","floor","random","disableReactDevTools","noop","DEV_TOOLS","window","__REACT_DEVTOOLS_GLOBAL_HOOK__","Object","entries","key","value","dontCloseWindowWarning","callback","event","preventDefault","returnValue","addEventListener","removeEventListener","formatDecimal","n","toFixed","formatNumber","regEx","RegExp","toString","replace","getValidationError","field","errors","message","normalizeString","stringToNormalize","trim","stripFormatNumber","truncateEthAddress","addr","maxLength","firstSegment","substring","secondPart","DaoConstants","VotingAdapterName","SET_CONNECTED_MEMBER","CLEAR_CONNECTED_MEMBER","getConnectedMember","daoRegistryInstance","instance","clearConnectedMember","methods","memberAddressesByDelegatedKey","call","from","memberAddressByDelegateKey","getCurrentDelegateKey","currentDelegateKey","isActiveMemberChecks","startsWith","delegateKey","memberAddress","getExtensionAddress","extensionName","daoContractInstance","sha3","Web3ModalContext","createContext","Web3ModalManager","children","DARK","web3ModalProviderArguments","web3ModalContext","Provider","VotingState","gql","GET_ADAPTERS_AND_EXTENSIONS","defaultStyle","transition","duration","opacity","transitionStyles","entering","entered","exiting","exited","inline","appear","in","show","timeout","useContractSend","txError","setTxError","txEtherscanURL","setTxEtherscanURL","txIsPromptOpen","setTxIsPromptOpen","txReceipt","setTxReceipt","Web3TxStatus","STANDBY","txStatus","setTxStatus","handleOnTxProcess","txHash","PENDING","unsubscribeDontCloseWindow","AWAITING_CONFIRM","contractSendParams","contractSend","receipt","FULFILLED","REJECTED","txSend","URL","useETHGasPrice","gasURL","gasPrices","useIsDefaultChain","isDefaultChain","setIsDefaultChain","defaultChainError","setDefaultChainError","useInitContracts","useDispatch","initContractDaoRegistry","initContractDaoFactory","initContractConfiguration","initContractFinancing","initContractGuildKick","initContractManaging","initContractRagequit","initContractWithdraw","initContractBankExtension","initContractOnboarding","initContractTribute","initContractDistribute","initRegisteredVotingAdapter","useIsAddressDelegated","MESSAGES","rootStyles","position","nbspStyles","height","width","CycleEllipsis","fadeInProps","fadeInPropsMerged","upToIndex","setUpToIndex","prevIndex","FormFieldErrors","ProposalHeaderNames","AsyncStatus","CONTRACT_BANK_EXTENSION","CONTRACT_CONFIGURATION","CONTRACT_DAO_FACTORY","CONTRACT_DAO_REGISTRY","CONTRACT_DISTRIBUTE","CONTRACT_FINANCING","CONTRACT_GUILDKICK","CONTRACT_MANAGING","CONTRACT_ONBOARDING","CONTRACT_RAGEQUIT","CONTRACT_TRIBUTE","CONTRACT_VOTING","CONTRACT_VOTING_OP_ROLLUP","CONTRACT_WITHDRAW","lazyDaoFactoryABI","default","daoFactoryContract","Contract","createContractAction","abi","lazyDaoRegistryABI","initContractVoting","initContractThunkFactory","actionType","adapterOrExtensionName","ContractAdapterNames","voting","adapterNameForRedux","VotingContract","lazyImport","initContractVotingOpRollup","OffchainVotingContract","ONBOARDING","onboarding","BANK","ContractExtensionNames","bank","isExtension","TRIBUTE","tribute","DISTRIBUTE","distribute","MANAGING","managing","WITHDRAW","withdraw","RAGEQUIT","ragequit","GUILDKICK","guildkick","FINANCING","financing","CONFIGURATION","configuration","getState","lazyIVotingABI","warn","votingAdapterName","address","getVotingAdapterName","getAdapterName","getAdapterAddress","lazyABI","contractABI","methodName","contractInstanceMethods","methodArguments","txArguments","onProcess","Promise","resolve","reject","method","estimateGas","gas","send","adapterName","getContractAddressOrThrow","contract","getAdapterAddressFromContracts","name","DistributeContract","ManagingContract","OnboardingContract","TributeContract","getContractByAddress","values","c","getDAOConfigEntry","configKey","getConfiguration","DaoState","getDaoState","daoRegistryMethods","CREATION","READY","multicall","blockNumber","calls","lazyMulticallABI","multicallMethods","aggregate","map","params","encodeFunctionCall","returnData","hexString","i","outputsABIItem","outputs","decodedOutputs","decodeParameters","__length__","ErrorMessageWithDetails","renderText","isWalletRejectedRequest","code","test","detailsProps","cursor","outline","ProposalFlag","ProposalFlowStatus","DistributionStatus","Spinner","Loader","showAfterMs","text","textProps","loaderProps","showLoaderAfterMs","setShowLoaderAfterMs","timeoutId","setTimeout","clearTimeout","useOffchainVotingResults","proposal","snapshotProposal","votes","snapshot","msg","bankABI","BankExtensionContract","bankAddress","voterAddressesAndChoices","setVoterAddressesAndChoices","sharesResults","setSharesResults","getPriorAmountABI","item","getSharesPerChoiceCached","VoteChoices","Yes","percentage","shares","No","results","totalSharesCall","sharesCalls","totalSharesResult","forEach","choice","VoteChoicesIndex","totalShares","prevState","voterEntries","v","vote","keys","metadata","fromEntries","useOffchainVotingStartEnd","votingStartEndStatusRef","start","end","hasOffchainVotingStarted","setHasOffchainVotingStarted","hasOffchainVotingEnded","setHasOffchainVotingEnded","isInitReady","offchainVotingStartEndInitReady","setOffchainVotingStartEndInitReady","every","SnapshotType","intervalID","hasStartedCheck","Date","now","hasEndedCheck","ceil","ERROR_PROPOSAL","ERROR_PROPOSAL_NOT_FOUND","useProposalOrDraft","daoProposal","snapshotDraft","setSnapshotDraft","setSnapshotProposal","proposalNotFound","setProposalNotFound","proposalError","setProposalError","proposalStatus","setProposalStatus","refetchCount","updateRefetchCount","handleGetDraftCached","signal","handleGetProposalCached","handleGetProposalOrDraftCached","snapshotType","draft","proposalData","getCommonSnapshotProposalData","refetchProposalOrDraft","fetch","response","ok","json","responseJSON","idKey","idInDAO","idInSnapshot","proposalId","erc712DraftHash","useProposalWithOffchainVoteStatus","daoRegistryAddress","daoRegistryABI","offchainVotingAddress","offchainVotingABI","setDAOProposal","daoProposalVotes","setDAOProposalVotes","daoProposalVoteResult","setDAOProposalVoteResult","pollingIntervalIdRef","pollStatusFromContractCached","atExistsInDAO","flags","EXISTS","atSponsoredInDAO","SPONSORED","atProcessedInDAO","PROCESSED","offchainResultSubmitted","reporter","resultRoot","isInVotingGracePeriod","GRACE_PERIOD","getReturnData","status","transitionMessage","proposalsABI","voteResultABI","votesABI","voteResult","Sponsor","OffchainVoting","OffchainVotingSubmitResult","OffchainVotingGracePeriod","Process","Completed","useSignAndSendVote","voteData","setVoteData","voteDataError","setVoteDataError","voteDataStatus","setVoteDataStatus","partialVoteData","proposalIdInDAO","proposalIdInSnapshot","adapterAddress","delegateAddress","getSpace","snapshotSpace","voteProposalData","proposalHash","space","token","buildVoteMessage","erc712Message","prepareVoteMessage","timestamp","getDomainDefinition","domain","types","dataToSign","JSON","stringify","primaryType","PRIMARY_TYPE_ERC712","signMessage","signature","submitMessage","actionId","verifyingContract","dataToReturn","uniqueId","signAndSendVote","useSignAndSubmitProposal","setProposalData","proposalSignAndSendError","setProposalSignAndSendError","proposalSignAndSendStatus","setProposalSignAndSendStatus","buildProposalMessageHelper","commonData","getBlockNumber","ContractDAOConfigKeys","offchainVotingVotingPeriod","votingTimeSeconds","buildProposalMessage","partialProposalData","body","buildDraftMessage","prepareDraftMessage","prepareProposalMessage","uniqueIdDraft","signAndSendProposal","TX_CYCLE_MESSAGES","EtherscanURL","url","isPending","href","rel","target","useContext","INITIAL_STATE","setConnectedMemberReducer","clearConnectedMemberReducer","ConfigurationContract","DaoFactoryContract","FinancingContract","GuildBankContract","RagequitContract","WithdrawContract","contractDAOFactory","contractDAORegistry","contractBankExtension","contractConfiguration","contractDistribute","contractFinancing","contractGuildBank","contractOnboarding","contractRagequit","contractTribute","contractVoting","contractManaging","contractWithdraw","combineReducers","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","thunk","Footer","Logo","size","ModalLogo","LeftLogo","CenterLogo","MetaMaskSVG","st1","stroke","strokeWidth","strokeLinecap","strokeLinejoin","st6","x","y","enableBackground","version","xmlSpace","WalletConnectSVG","fillRule","svgWalletIcon","injected","walletconnect","LoaderWithEmoji","aria-label","Modal","keyProp","styleProps","modalClassNames","isOpenHandler","ConnectWallet","customWalletText","showWalletETHBadge","history","useHistory","openModal","setOpenModal","isWrongNetwork","isChainGanache","displayWalletText","isMobile","handleNavigate","push","ProviderSVG","providerName","providerOptionsFiltered","p","displayOptions","disabled","display","DisplayChainError","displayProviders","margin","React","memo","HamburgerSVG","transitionOpeningStyles","right","transitionClosingStyles","NavLinks","data-testid","tabIndex","to","Nav","shouldShowMenuModal","setShouldShowMenuModal","setTransitionStyles","location","useLocation","isIndexPath","pathname","handleMenuModalClose","closeMenu","query","matches","aria-controls","Transition","Header","RenderLogo","Head","Helmet","content","Wrap","rest","MolochV3Cube","data-aos","data-aos-delay","GetStarted","AOS","init","offset","delay","mirror","once","InputError","restProps","Fields","CreateMembershipProposal","form","useForm","mode","reValidateMode","submitError","setSubmitError","userAccountBalance","setUserAccountBalance","getValues","setValue","register","trigger","createMemberError","isConnected","isInProcess","isDone","isInProcessOrDone","getUserAccountBalanceCached","getBalance","accountBalanceInWei","wei","fromWei","handleSubmit","ethAmount","ethAmountInWei","toWei","amountUnit","onboardArguments","gasPrice","fast","RenderWrapper","onSubmit","e","htmlFor","aria-describedby","aria-invalid","ref","validate","INVALID_ETHEREUM_ADDRESS","REQUIRED","onChange","amount","isNaN","INVALID_NUMBER","renderSubmitStatus","Membership","votingProposals","requestProposals","passedProposals","failedProposals","VOTING","REQUESTS","PASSED","FAILED","NotFound","textAlign","fontSize","ProposalWithOffchainVoteActions","lazy","cycleEllipsisStyles","ProposalActions","fallback","renderActions","ProposalAmount","amount2","amount2Unit","ProposalDetails","renderAmountBadge","MembershipDetails","useParams","CreateTransferProposal","daoTokens","setDaoTokens","selectedTokenBalance","setSelectedTokenBalance","watch","isTypeAllMembers","selectedTokenValue","createTransferError","erc20ABI","ERC20ABI","getDaoTokensCached","getSelectedTokenBalanceCached","bankMethods","nbTokens","parsedAndSortedTokens","getTokenABI","getTokenCalls","Array","index","fetchedTokens","balanceOfABI","getDaoTokenBalanceCalls","daoTokenBalances","tokensArray","daoBalance","tokenObj","toBN","gt","ethToken","symbol","decimals","erc20Tokens","nameABI","nameCalls","symbolABI","symbolCalls","decimalsABI","decimalsCalls","erc20DetailsCalls","chunkedResults","splice","names","symbols","parsedAndSortedERC20Tokens","sort","b","localeCompare","selectedTokenObj","parse","balance","balanceBN","divisor","pow","beforeDecimal","div","afterDecimal","mod","balanceReadable","eq","selectedToken","notes","tokenAddress","amountArg","multiplier","amountWithDecimals","mul","bodyIntro","tokenDecimals","returnSignature","memberAddressArg","preparedVoteVerificationBytes","prepareVoteProposalData","choices","sig","transferArguments","isActiveMemberWithShares","balanceOf","sharesBalance","amountToNumber","isSelectedTokenEth","isInteger","placeholder","Transfers","TransferDetails","transferAmount","isTransferAmountInt","CreateTributeProposal","txErrorTokenApprove","txEtherscanURLTokenApprove","txIsPromptOpenTokenApprove","txSendTokenApprove","txStatusTokenApprove","userERC20Balance","setUserERC20Balance","erc20Details","setERC20Details","erc20Contract","setERC20Contract","erc20AddressValue","createTributeError","getERC20ContractCached","getERC20DetailsCached","getUserERC20BalanceCached","lazyERC20ABI","handleSubmitTokenApprove","tributeAmountWithDecimals","allowanceBN","difference","sub","approveValue","add","tokenApproveArguments","applicantAddress","erc20Address","tributeAmount","requestAmount","description","requestAmountArg","allowance","tributeAmountUnit","tributeTokenDecimals","requestAmountUnit","tributeArguments","Tributes","TributeDetails","isTributeAmountInt","CreateGovernanceProposal","GovernanceProposals","GovernanceProposalDetails","MemberCard","member","ethereumAddress","fakeMembers","Members","activeMembers","getAdapterOrExtensionId","getConfigurationABIFunction","OFFCHAINVOTING","getAccessControlLayer","acl","accessFlags","SUBMIT_PROPOSAL","PROCESS_PROPOSAL","SPONSOR_PROPOSAL","SET_CONFIGURATION","INTERNAL_TRANSFER","NEW_MEMBER","ADD_TO_BALANCE","REGISTER_NEW_TOKEN","SUB_FROM_BALANCE","JAIL_MEMBER","UNJAIL_MEMBER","REMOVE_ADAPTER","ADD_ADAPTER","UPDATE_DELEGATE_KEY","idx","reduce","entry","ADD_EXTENSION","REMOVE_EXTENSION","defaultAdaptersAndExtensions","extensionId","adapterId","options","displayName","optionDefaultTarget","useAdaptersOrExtensions","adapterExtensionContracts","pollInterval","daoAddress","getRegisteredAdaptersAndExtensions","registeredAdaptersOrExtensions","setRegisteredAdaptersOrExtensions","unRegisteredAdaptersOrExtensions","setUnRegisteredAdaptersOrExtensions","adapterExtensionStatus","setAdapterExtensionStatus","getAdaptersAndExtensionsCached","registeredDaoAdapters","registeredDaoExtensions","registeredList","unRegisteredList","getAdapterFromGql","adapter","getExtensionFromGql","extension","adapterOrExtension","gqlExtension","maybeSomeAdapters","some","maybeSomeExtensions","shouldSkip","option","gqlAdapter","adapters","extensions","getAdapterOrExtensionFromRedux","ae","ParamType","CheckboxSize","WhyDisableModalTitles","ProcessName","useValidation","isParamInputValid","paramInput","paramType","parameter","ADDRESS","checkAddressChecksum","isAddressValid","BYTES32","isHex","isBytes32Valid","BYTES32_ARRAY","split","isBytes32ArrayValid","UINT256","isUint256Valid","UINT256_ARRAY","isUint256ArrayValid","getFormFieldError","INVALID_BYTES32","INVALID_BYTES32_ARRAY","INVALID_NUMBER_ARRAY","formatInputByType","inputValue","inputType","ConfigurationForm","abiConfigurationInputs","abiMethodName","closeHandler","configureAdapterStatus","setConfigureAdapterStatus","removeStatus","setRemoveStatus","formState","configureAdapterError","isValid","isConfigureInProcess","isRemoveInProcess","isConfigureDone","isRemoveDone","isConfigureInProcessOrDone","isRemoveInProcessOrDone","removeArguments","adapterConfigArguments","abiInput","formattedValue","input","ConfiguratorModal","configurationInputs","toUpperCase","AdapterExtensionSelectTarget","defaultTarget","renderCheckboxAction","selectedTargetOption","setSelectedTargetOption","selectedTargetOptionProps","setSelectedTargetOptionProps","selectedTargetProps","selectedOption","renderDescription","Checkbox","aria-checked","checked","SMALL","label","AdapterOrExtensionManager","setABIMethodName","daoState","setDaoState","setIsDone","inputParameters","setInputParameters","selectAll","setSelectAll","selectionCount","setSelectionCount","selections","setSelections","configureAdapterOrExtension","setConfigureAdapterOrExtension","setIsInProcess","whyDisabledReason","setWhyDisabledReason","isDAOExisting","isDAOReady","isAdaptersUnavailable","isLoadingAdapters","checkDaoStateCached","finalizedMessage","daoRegistryState","handleAddAdapter","then","addAdapterOrExtension","catch","handleAddExtension","adapterOrExtensionAddress","adapterOrExtensionType","adapterOrExtensionId","addAdapterOrExtensionArguments","txSendMethod","errorMessage","adaptersArguments","addAdaptersArguments","checkboxesSelection","abiFunctionName","inputs","alert","scrollTo","top","left","behavior","LARGE","handleSelectTargetChange","handleConfigure","CONFIGURATION_REASON","confirm","handleFinalizeDao","FINALIZED_REASON","MemberProfile","activeMember","Routes","exact","path","component","App","Init","setError","isInitComplete","setIsInitComplete","initSnapshotAPI","processReadyMap","setProcessReadyMap","initContracts","handleInitContractsCached","handleGetMemberCached","handleGetSnapshotAPIStatusCached","getSnapshotAPIStatus","fs","InitError","padding","maxWidth","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","root","document","getElementById","ethereum","autoRefreshOnNetworkChange","apolloClient","ApolloClient","uri","cache","InMemoryCache","typePolicies","Adapter","fields","merge","existing","incoming","Extension","ReactDOM","package","WalletConnectProvider","infuraId","qrcodeModalOptions","mobileLinks","LIGHT","client"],"mappings":"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","file":"static/js/main.801265b8.chunk.js","sourcesContent":["import Web3 from 'web3';\n\nexport const isEthAddressValid = (ethAddress: string) =>\n  Web3.utils.isAddress(ethAddress);\n","import {useState, useEffect, useRef} from 'react';\n\ntype UseAbortControllerReturn = {\n  abortController: AbortController | undefined;\n  isMountedRef: React.MutableRefObject<boolean>;\n};\n\n/**\n * useAbortController\n *\n * Provides an `AbortController` to cancel requests.\n * Also provides a helper `isMountedRef` to see if the React component has\n * been unmounted and therefore should not run any setting of state.\n */\nexport function useAbortController(): UseAbortControllerReturn {\n  /**\n   * State\n   */\n\n  const [abortController, setAbortController] = useState<AbortController>();\n\n  /**\n   * Refs\n   */\n\n  const isMountedRef = useRef<boolean>(false);\n\n  /**\n   * Effects\n   */\n\n  useEffect(() => {\n    isMountedRef.current = true;\n\n    !abortController && setAbortController(new AbortController());\n\n    return () => {\n      isMountedRef.current = false;\n\n      abortController && abortController.abort();\n    };\n  }, [abortController]);\n\n  return {\n    abortController,\n    isMountedRef,\n  };\n}\n","import {useReducer} from 'react';\n\ntype CounterState = {\n  count: number;\n};\n\ntype CounterAction = {\n  type: 'increment';\n};\n\ntype CounterReturn = [number, React.Dispatch<CounterAction>];\n\nconst initialState = {count: 0};\n\nfunction reducer(state: CounterState, action: CounterAction) {\n  switch (action.type) {\n    case 'increment':\n      return {count: state.count + 1};\n    default:\n      return state;\n  }\n}\n\n/**\n * useCounter\n *\n * A counter which is kept track of via a reducer.\n *\n * @note This is mainly to use inside a custom hook's callback resulting in a\n *  changed dependency for consumer's useEffect when a consumer higher up wants to trigger a \"re-run\"\n *  (i.e. re-fetch, refresh some data), similarly to dispatching a Redux action again to update the state.\n */\nexport function useCounter(): CounterReturn {\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  return [state.count, dispatch];\n}\n","import {useCallback, useEffect, useState} from 'react';\nimport {useLazyQuery} from '@apollo/react-hooks';\n\nimport {StoreState} from '../store/types';\nimport {useSelector} from 'react-redux';\n\nimport {GET_DAO} from '../gql';\n\ntype UseDaoReturn = {\n  dao: Record<string, any> | undefined;\n  gqlError: Error | undefined;\n};\n\n/**\n * useDao\n *\n * This component queries The Graph API to get data on the dao\n *\n * @returns {UseDaoReturn}\n */\nexport function useDao(): UseDaoReturn {\n  const daoRegistryContract = useSelector(\n    (s: StoreState) => s.contracts.DaoRegistryContract\n  );\n\n  const [getDao, {called, loading, data, error}] = useLazyQuery(GET_DAO, {\n    variables: {id: daoRegistryContract?.contractAddress.toLowerCase()},\n  });\n\n  const [dao, setDao] = useState<Record<string, any> | undefined>();\n  const [gqlError, setGqlError] = useState<Error>();\n\n  const getDaoRegistryCallback = useCallback(getDaoRegistry, [\n    daoRegistryContract?.contractAddress,\n    data,\n    error,\n    loading,\n  ]);\n\n  useEffect(() => {\n    if (!called) {\n      getDao();\n    }\n  }, [called, getDao]);\n\n  useEffect(() => {\n    if (!loading && daoRegistryContract?.contractAddress) {\n      getDaoRegistryCallback();\n    }\n  }, [daoRegistryContract?.contractAddress, getDaoRegistryCallback, loading]);\n\n  function getDaoRegistry() {\n    try {\n      if (!loading && data) {\n        setDao(data.molochv3S[0]);\n\n        if (data.molochv3S.length === 0) {\n          const error = new Error(\n            `\"${daoRegistryContract?.contractAddress}\" dao address not found.`\n          );\n\n          throw error;\n        }\n      } else {\n        if (error) {\n          const error = new Error(\n            `\"${daoRegistryContract?.contractAddress}\" is not a valid dao address.`\n          );\n\n          throw error;\n        }\n      }\n    } catch (error) {\n      setGqlError(error);\n    }\n  }\n\n  return {dao, gqlError};\n}\n","import {useEffect, useRef} from 'react';\n\ntype UseIsMountedReturn = {\n  isMountedRef: React.MutableRefObject<boolean>;\n};\n\n/**\n * useIsMounted\n *\n * A hook that returns a React Ref which tells if the component is mounted, or not.\n * This is helpful when needing to stop state updates in hooks with effects.\n */\nexport function useIsMounted(): UseIsMountedReturn {\n  /**\n   * Refs\n   */\n\n  const isMountedRef = useRef<boolean>(false);\n\n  /**\n   * Effects\n   */\n\n  useEffect(() => {\n    isMountedRef.current = true;\n\n    return () => {\n      isMountedRef.current = false;\n    };\n  }, []);\n\n  return {\n    isMountedRef,\n  };\n}\n","import React, {useCallback, useState} from 'react';\nimport ReactModal from 'react-modal';\n\nimport {StoreState} from '../store/types';\nimport {useSelector} from 'react-redux';\nimport {useWeb3Modal} from '../components/web3/hooks';\nimport FadeIn from '../components/common/FadeIn';\nimport TimesSVG from '../assets/svg/TimesSVG';\n\ntype UseMemberActionDisabledReturn = {\n  disabledReason: string;\n  isDisabled: boolean;\n  openWhyDisabledModal: () => void;\n  setOtherDisabledReasons: (r: string[]) => void;\n  WhyDisabledModal: (p: WhyDisabledModalProps) => JSX.Element | null;\n};\n\ntype WhyDisabledModalProps = {\n  title?: string;\n};\n\n/**\n * useMemberActionDisabled\n *\n * This component covers the most common cases for why a member action button should be disabled.\n * More reasons for disabling the button can be added via props using `setOtherDisabledReasons`.\n *\n * @param {ProposalActionWhyDisabledProps} props\n * @returns {UseMemberActionDisabledReturn}\n */\nexport function useMemberActionDisabled(): UseMemberActionDisabledReturn {\n  /**\n   * State\n   */\n\n  const [otherDisabledReasons, setOtherDisabledReasons] = useState<string[]>(\n    []\n  );\n  const [shouldShowWhyModal, setShouldShowWhyModal] = useState<boolean>(false);\n\n  /**\n   * Selectors\n   */\n\n  const isActiveMember = useSelector(\n    (s: StoreState) => s.connectedMember?.isActiveMember\n  );\n\n  /**\n   * Our hooks\n   */\n\n  const {connected} = useWeb3Modal();\n\n  /**\n   * Variables\n   */\n\n  // Get the first index of other reasons.\n  const otherReasonNext =\n    otherDisabledReasons && otherDisabledReasons.find((r) => r);\n  const isDisabled =\n    !connected || !isActiveMember || (otherReasonNext ? true : false);\n  const disabledReason = getDisabledReason();\n  const canShowDisabledReason = isDisabled && disabledReason ? true : false;\n\n  /**\n   * Cached callbacks\n   */\n\n  const WhyDisabledModalCached = useCallback(WhyDisabledModal, [\n    canShowDisabledReason,\n    disabledReason,\n    shouldShowWhyModal,\n  ]);\n\n  const handleSetOtherDisabledReasonsCached = useCallback(\n    handleSetOtherDisabledReasons,\n    []\n  );\n\n  /**\n   * Functions\n   */\n\n  function handleSetOtherDisabledReasons(otherReasons: string[]) {\n    setOtherDisabledReasons(otherReasons.filter(Boolean));\n  }\n\n  function getDisabledReason() {\n    if (!connected) {\n      return 'Your wallet is not connected.';\n    }\n\n    if (!isActiveMember) {\n      return 'Either you are not a member, or your membership is not active.';\n    }\n\n    return otherReasonNext || '';\n  }\n\n  function handleOpenWhyDisabledModal() {\n    setShouldShowWhyModal(true);\n  }\n\n  function WhyDisabledModal(props: WhyDisabledModalProps): JSX.Element | null {\n    if (!canShowDisabledReason) return null;\n\n    const {title} = props;\n\n    return (\n      <ReactModal\n        ariaHideApp={false}\n        className=\"modal-container\"\n        isOpen={shouldShowWhyModal}\n        onRequestClose={() => {\n          setShouldShowWhyModal(false);\n        }}\n        overlayClassName=\"modal-overlay\"\n        role=\"dialog\"\n        style={{overlay: {zIndex: 1000}}}>\n        <FadeIn>\n          <div className=\"modal\">\n            <button\n              className=\"modal__close-button modal__close-button--icon\"\n              onClick={() => {\n                setShouldShowWhyModal(false);\n              }}>\n              <TimesSVG />\n            </button>\n            <div className=\"card\">\n              <h2 className=\"modal__title\">{title || 'Why disabled?'}</h2>\n              <p>{disabledReason}</p>\n            </div>\n          </div>\n        </FadeIn>\n      </ReactModal>\n    );\n  }\n\n  return {\n    disabledReason,\n    isDisabled,\n    openWhyDisabledModal: handleOpenWhyDisabledModal,\n    setOtherDisabledReasons: handleSetOtherDisabledReasonsCached,\n    WhyDisabledModal: WhyDisabledModalCached,\n  };\n}\n","export default function TimesSVG() {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      aria-hidden=\"true\"\n      data-icon=\"times\"\n      data-prefix=\"fal\"\n      viewBox=\"0 0 320 512\">\n      <path\n        fill=\"currentColor\"\n        d=\"M193.94 256L296.5 153.44l21.15-21.15c3.12-3.12 3.12-8.19 0-11.31l-22.63-22.63c-3.12-3.12-8.19-3.12-11.31 0L160 222.06 36.29 98.34c-3.12-3.12-8.19-3.12-11.31 0L2.34 120.97c-3.12 3.12-3.12 8.19 0 11.31L126.06 256 2.34 379.71c-3.12 3.12-3.12 8.19 0 11.31l22.63 22.63c3.12 3.12 8.19 3.12 11.31 0L160 289.94 262.56 392.5l21.15 21.15c3.12 3.12 8.19 3.12 11.31 0l22.63-22.63c3.12-3.12 3.12-8.19 0-11.31L193.94 256z\"></path>\n    </svg>\n  );\n}\n","import {EnvironmentName} from './util/types';\n\n/**\n * Global DApp Config\n */\n\nconst {\n  REACT_APP_DAO_REGISTRY_CONTRACT_ADDRESS,\n  REACT_APP_DEFAULT_CHAIN_NAME_LOCAL,\n  REACT_APP_ENVIRONMENT,\n  REACT_APP_INFURA_PROJECT_ID_DEV,\n  REACT_APP_INFURA_PROJECT_ID_LOCAL,\n  REACT_APP_INFURA_PROJECT_ID_PROD,\n  REACT_APP_MULTICALL_CONTRACT_ADDRESS,\n  REACT_APP_SNAPSHOT_HUB_API_URL,\n  REACT_APP_GRAPH_API_URL,\n} = process.env;\n\nexport const ENVIRONMENT = REACT_APP_ENVIRONMENT as EnvironmentName | undefined;\n\n/**\n * SNAPSHOT_HUB_API_URL\n *\n * @note For `ENVIRONMENT=localhost` we need to use CRA's local proxy\n *   so that we can communicate with our develop Snapshot Hub API\n *   without any CORS issues.\n *\n * @see src/setupProxy.js\n */\nexport const SNAPSHOT_HUB_API_URL: string | undefined =\n  ENVIRONMENT === 'localhost'\n    ? '/snapshot-hub'\n    : REACT_APP_SNAPSHOT_HUB_API_URL;\n\n// Infura Project Id\nexport const INFURA_PROJECT_ID =\n  REACT_APP_ENVIRONMENT === 'production'\n    ? REACT_APP_INFURA_PROJECT_ID_PROD\n    : REACT_APP_ENVIRONMENT === 'development'\n    ? REACT_APP_INFURA_PROJECT_ID_DEV\n    : REACT_APP_INFURA_PROJECT_ID_LOCAL;\n\n// The Graph API URL\nexport const GRAPH_API_URL = REACT_APP_GRAPH_API_URL;\n\n// Network IDs, when users change wallet networks\nexport const CHAINS = {\n  MAINNET: 1,\n  ROPSTEN: 3,\n  RINKEBY: 4,\n  GOERLI: 5,\n  KOVAN: 42,\n  GANACHE: 1337,\n};\n\n// Network names for modal messaging\nexport const CHAIN_NAME = {\n  [CHAINS.MAINNET]: 'Main Ethereum Network',\n  [CHAINS.ROPSTEN]: 'Ropsten Test Network',\n  [CHAINS.RINKEBY]: 'Rinkeby Test Network',\n  [CHAINS.GOERLI]: 'Grli Test Network',\n  [CHAINS.KOVAN]: 'Kovan Test Network',\n  [CHAINS.GANACHE]: 'Ganache Test Network',\n};\n\nexport const ETHERSCAN_URLS: {[chainId: number]: string} = {\n  [CHAINS.MAINNET]: `https://etherscan.io`,\n  [CHAINS.ROPSTEN]: `https://ropsten.etherscan.io`,\n  [CHAINS.RINKEBY]: `https://rinkeby.etherscan.io`,\n  [CHAINS.GOERLI]: `https://goerli.etherscan.io`,\n  [CHAINS.KOVAN]: `https://kovan.etherscan.io`,\n};\n\n/**\n * CORE CONTRACTS\n * @note as per https://github.com/openlawteam/molochv3-contracts#architecture\n *\n * - DAO Registry (@note uses dao address for the contract address)\n * - DAO Factory\n * - Bank Extension\n */\n\n// If developing locally, include your DaoRegistry contract address in your `.env` file.\nexport const DAO_REGISTRY_CONTRACT_ADDRESS = REACT_APP_DAO_REGISTRY_CONTRACT_ADDRESS;\n\nexport const DAO_FACTORY_CONTRACT_ADDRESS = {\n  [CHAINS.MAINNET]: '',\n  [CHAINS.ROPSTEN]: '',\n  [CHAINS.RINKEBY]: '0xCC7158B10515B266244c643A2527f7EFfc911421',\n  [CHAINS.GOERLI]: '',\n  [CHAINS.KOVAN]: '',\n  [CHAINS.GANACHE]: '0xa549101aAD5143d89aEC2aa330754cEB2C0FF607',\n};\n\nexport const BANK_EXTENSION_CONTRACT_ADDRESS = {\n  [CHAINS.MAINNET]: '',\n  [CHAINS.ROPSTEN]: '',\n  [CHAINS.RINKEBY]: '0xE02769bebC6b0A65d5ffaa58d9f981618077a4Ac',\n  [CHAINS.GOERLI]: '',\n  [CHAINS.KOVAN]: '',\n  [CHAINS.GANACHE]: '0xCdfD73dCa055ada355142eDfDA22C90BC4CD5504',\n};\n\n/**\n * ADAPTER CONTRACTS\n * @note as per https://github.com/openlawteam/molochv3-contracts#architecture\n *\n * - Configuration\n * - CouponOnboardingContract @todo add to initContracts\n * - Managing\n * - Onboarding\n * - Voting\n * - Offchain voting\n * - Financing\n * - Tribute\n * - Distribute @todo add to initContracts\n * - Rage quit\n * - Guild kick\n * - Withdraw\n */\n\nexport const VOTING_CONTRACT_ADDRESS = {\n  [CHAINS.MAINNET]: '',\n  [CHAINS.ROPSTEN]: '',\n  [CHAINS.RINKEBY]: '0x1bF6E52BBD3f8f7Ed6fE8a9621E639aca560A730',\n  [CHAINS.GOERLI]: '',\n  [CHAINS.KOVAN]: '',\n  [CHAINS.GANACHE]: '0x87a7DF246f4c26E3352a2ecd147517d42D83dc07',\n};\n\nexport const CONFIGURATION_CONTRACT_ADDRESS = {\n  [CHAINS.MAINNET]: '',\n  [CHAINS.ROPSTEN]: '',\n  [CHAINS.RINKEBY]: '0xEF2850b0067C276f65fAAeA9EBA0674819039342',\n  [CHAINS.GOERLI]: '',\n  [CHAINS.KOVAN]: '',\n  [CHAINS.GANACHE]: '0x14f02614a3ffD9532b9F5C8Ff5dF3B52419cBF1F',\n};\n\nexport const RAGEQUIT_CONTRACT_ADDRESS = {\n  [CHAINS.MAINNET]: '',\n  [CHAINS.ROPSTEN]: '',\n  [CHAINS.RINKEBY]: '0x3044286BFc20080A1D2C06feC1953a0410a4E74c',\n  [CHAINS.GOERLI]: '',\n  [CHAINS.KOVAN]: '',\n  [CHAINS.GANACHE]: '0x81849Db26EAd5202fC67e69476a896c6950Eb126',\n};\n\nexport const COUPONONBOARDING_CONTRACT_ADDRESS = {\n  [CHAINS.MAINNET]: '',\n  [CHAINS.ROPSTEN]: '',\n  [CHAINS.RINKEBY]: '0x7a28B101eC1eE1B484a07633c339667BDE3d7A52',\n  [CHAINS.GOERLI]: '',\n  [CHAINS.KOVAN]: '',\n  [CHAINS.GANACHE]: '0xdfA0518846a46203131d52ECCd34965EE61346Fb',\n};\n\nexport const DISTRIBUTE_CONTRACT_ADDRESS = {\n  [CHAINS.MAINNET]: '',\n  [CHAINS.ROPSTEN]: '',\n  [CHAINS.RINKEBY]: '0x54b038278f791c511d1ba330C7B9A1578B350Deb',\n  [CHAINS.GOERLI]: '',\n  [CHAINS.KOVAN]: '',\n  [CHAINS.GANACHE]: '0xC3b7E041CF5Ee2d4372D12ED67a98DC87a3593Dd',\n};\n\nexport const FINANCING_CONTRACT_ADDRESS = {\n  [CHAINS.MAINNET]: '',\n  [CHAINS.ROPSTEN]: '',\n  [CHAINS.RINKEBY]: '0x80017f240cAd3d761aD7f729796b6275d0Ec57c6',\n  [CHAINS.GOERLI]: '',\n  [CHAINS.KOVAN]: '',\n  [CHAINS.GANACHE]: '0x4438bFC72E53eA66c24F8f4992997e9C8a425179',\n};\n\nexport const GUILDKICK_CONTRACT_ADDRESS = {\n  [CHAINS.MAINNET]: '',\n  [CHAINS.ROPSTEN]: '',\n  [CHAINS.RINKEBY]: '0x7c3eE8016C8a4dF00672d2417DB7bbA18ff0b054',\n  [CHAINS.GOERLI]: '',\n  [CHAINS.KOVAN]: '',\n  [CHAINS.GANACHE]: '0x2Ab0c81b017a3a926E40136E28ba3e9b231fFd5b',\n};\n\nexport const MANAGING_CONTRACT_ADDRESS = {\n  [CHAINS.MAINNET]: '',\n  [CHAINS.ROPSTEN]: '',\n  [CHAINS.RINKEBY]: '0x01e79Fb7a697e871c763D681293eBae74f36CE88',\n  [CHAINS.GOERLI]: '',\n  [CHAINS.KOVAN]: '',\n  [CHAINS.GANACHE]: '0xFc889988C6e177C6C3c7A6D98Ef4A09f66B445E7',\n};\n\nexport const OFFCHAINVOTING_CONTRACT_ADDRESS = {\n  [CHAINS.MAINNET]: '',\n  [CHAINS.ROPSTEN]: '',\n  [CHAINS.RINKEBY]: '0x98ED73779Bd0eD4b8fdA8026F60236CBcbdbb1a6',\n  [CHAINS.GOERLI]: '',\n  [CHAINS.KOVAN]: '',\n  [CHAINS.GANACHE]: '0xfBbE098b03865e5C6A64F81f0A475FD5c500DC9D',\n};\n\nexport const ONBOARDING_CONTRACT_ADDRESS = {\n  [CHAINS.MAINNET]: '',\n  [CHAINS.ROPSTEN]: '',\n  [CHAINS.RINKEBY]: '0xF2Af0123caBad9Dc851C4BDcA1029b33287d2310',\n  [CHAINS.GOERLI]: '',\n  [CHAINS.KOVAN]: '',\n  [CHAINS.GANACHE]: '0xe6bbddF90c76552CbE1D0973F22fb5a975D5825D',\n};\n\nexport const TRIBUTE_CONTRACT_ADDRESS = {\n  [CHAINS.MAINNET]: '',\n  [CHAINS.ROPSTEN]: '',\n  [CHAINS.RINKEBY]: '0x36615f472822bD067A4746E37267090428874974',\n  [CHAINS.GOERLI]: '',\n  [CHAINS.KOVAN]: '',\n  [CHAINS.GANACHE]: '0xF6677172474B23ae084347fF0c2E30E99aA9fAfd',\n};\n\nexport const WITHDRAW_CONTRACT_ADDRESS = {\n  [CHAINS.MAINNET]: '',\n  [CHAINS.ROPSTEN]: '',\n  [CHAINS.RINKEBY]: '0xa257cAa73C01B6748eA8edAfcC7c3B67538f773A',\n  [CHAINS.GOERLI]: '',\n  [CHAINS.KOVAN]: '',\n  [CHAINS.GANACHE]: '0xE62aEcA374e4a8486eB56FCC5e4091ee978e8005',\n};\n\n// If developing locally, include your Multicall contract address in your `.env` file.\nexport const MULTICALL_CONTRACT_ADDRESS = REACT_APP_MULTICALL_CONTRACT_ADDRESS;\n\nexport const DEFAULT_CHAIN =\n  REACT_APP_ENVIRONMENT === 'production'\n    ? CHAINS.MAINNET\n    : REACT_APP_ENVIRONMENT === 'development'\n    ? CHAINS.RINKEBY\n    : REACT_APP_DEFAULT_CHAIN_NAME_LOCAL // Set this to change local development chain\n    ? CHAINS[REACT_APP_DEFAULT_CHAIN_NAME_LOCAL]\n    : CHAINS.GANACHE; // Defaults to a Ganache private network (1337)\n\n/**\n * These addresses are important as the contracts use them in their configs.\n *\n * @todo Remove and get from the chain/subgraph?\n *\n * @see https://github.com/openlawteam/molochv3-contracts/blob/9e0e03616a00e41e666351e146ee109b9fe37fb2/utils/DaoFactory.js\n */\nexport const GUILD_ADDRESS: string =\n  '0x000000000000000000000000000000000000dead';\nexport const TOTAL_ADDRESS: string =\n  '0x000000000000000000000000000000000000babe';\nexport const SHARES_ADDRESS: string =\n  '0x00000000000000000000000000000000000FF1CE';\nexport const LOOT_ADDRESS: string =\n  '0x00000000000000000000000000000000B105F00D';\nexport const ETH_TOKEN_ADDRESS: string =\n  '0x0000000000000000000000000000000000000000';\nexport const DAI_TOKEN_ADDRESS: string =\n  '0x95b58a6bff3d14b7db2f5cb5f0ad413dc2940658';\n\n/**\n * Space is a unique key (typically a contract address)\n * used by Moloch and Snapshot for building core proposal data.\n *\n * It is also used inside a Snapshot Hub for matching a `space`\n * with its own proposals and votes.\n */\nexport const SPACES: Record<EnvironmentName, string> = {\n  development: 'thelao',\n  // @todo Get local Docker snapshot and \"registered\" space set up.\n  localhost: 'thelao',\n  production: 'thelao',\n};\n\n// Defaults to `localhost` space if `ENVIRONMENT` is `undefined`.\nexport const SPACE: string = SPACES[ENVIRONMENT || 'localhost'];\n\n/**\n * POLLING INTERVAL FOR GQL QUERIES\n * localhost | development - ms, poll every 5sec = 5000\n * production - ms, poll every 10sec = 10000\n */\nexport const GQL_QUERY_POLLING_INTERVAL: number =\n  REACT_APP_ENVIRONMENT === 'production' ? 10000 : 5000;\n","import {useReducer, useCallback, useEffect} from 'react';\nimport Web3 from 'web3';\nimport Web3Modal from 'web3modal';\n\nimport {DEFAULT_CHAIN} from '../../../config';\nimport {NetworkNames, NetworkIDs} from '../../../util/enums';\n\ntype NetworkNameType = NetworkNames;\n\n// The `web3Modal` localStorage cached provider key\nconst WEB3_CONNECT_CACHED_PROVIDER: string = 'WEB3_CONNECT_CACHED_PROVIDER';\n\nexport enum DefaultTheme {\n  DARK = 'dark',\n  LIGHT = 'light',\n}\n\nenum ActionType {\n  INIT_WEB3MODAL,\n  ACTIVATE_PROVIDER,\n  UPDATE,\n  UPDATE_FROM_ERROR,\n  ERROR,\n  ERROR_FROM_ACTIVATION,\n  DEACTIVATE_PROVIDER,\n}\n\ninterface Action {\n  type: ActionType;\n  payload?: any;\n}\n\ninterface Web3ModalManagerState {\n  provider?: any;\n  networkId?: number;\n  account?: undefined | string;\n  connected?: boolean;\n  error?: Error;\n  web3Modal?: any;\n  web3Instance?: any;\n}\n\nfunction reducer(\n  state: Web3ModalManagerState,\n  {type, payload}: Action\n): Web3ModalManagerState {\n  switch (type) {\n    case ActionType.INIT_WEB3MODAL: {\n      const {web3Modal} = payload;\n      return {web3Modal};\n    }\n    case ActionType.ACTIVATE_PROVIDER: {\n      const {provider, networkId, account, web3Modal} = payload;\n      return {provider, networkId, account, web3Modal};\n    }\n    case ActionType.UPDATE: {\n      const {provider, networkId, account, connected, web3Instance} = payload;\n\n      return {\n        ...state,\n        ...(provider === undefined ? {} : {provider}),\n        ...(networkId === undefined ? {} : {networkId}),\n        ...(account === undefined ? {} : {account}),\n        ...(connected === undefined ? {} : {connected}),\n        ...(web3Instance === undefined ? {} : {web3Instance}),\n      };\n    }\n    case ActionType.UPDATE_FROM_ERROR: {\n      const {provider, networkId, account} = payload;\n      return {\n        ...state,\n        ...(provider === undefined ? {} : {provider}),\n        ...(networkId === undefined ? {} : {networkId}),\n        ...(account === undefined ? {} : {account}),\n        error: undefined,\n      };\n    }\n    case ActionType.ERROR: {\n      const {error} = payload;\n      const {provider} = state;\n      return {\n        provider,\n        error,\n      };\n    }\n    case ActionType.ERROR_FROM_ACTIVATION: {\n      const {provider, error} = payload;\n      return {\n        provider,\n        error,\n      };\n    }\n    case ActionType.DEACTIVATE_PROVIDER: {\n      return {};\n    }\n  }\n}\n\ninterface Web3ModalManagerInterface {\n  defaultChain?: number;\n  defaultTheme?: DefaultTheme;\n  providerOptions: Record<string, any>; //required\n}\n\nexport default function useWeb3ModalManager({\n  defaultChain,\n  defaultTheme,\n  providerOptions,\n}: Web3ModalManagerInterface) {\n  /**\n   * Context State\n   */\n  const [state, dispatch] = useReducer(reducer, {});\n\n  const web3ModalTheme = defaultTheme;\n  const web3ModalChain = defaultChain || DEFAULT_CHAIN;\n\n  /**\n   * @note\n   * Disable hooks checks for now as additional deps causes issues.\n   */\n  //eslint-disable-next-line react-hooks/exhaustive-deps\n  const onConnectToCached = useCallback(onConnectTo, [state.web3Modal]);\n  const getNetworkNameCached = useCallback(getNetworkName, [web3ModalChain]);\n\n  /**\n   * Init Web3Modal\n   */\n  useEffect(() => {\n    if (!state.web3Modal) {\n      dispatch({\n        type: ActionType.INIT_WEB3MODAL,\n        payload: {\n          web3Modal: new Web3Modal({\n            cacheProvider: true, // optional\n            network: getNetworkNameCached(), // optional\n            providerOptions, // required\n            theme: web3ModalTheme, // optional; `light` or `dark`. `dark` is default\n          }),\n        },\n      });\n    }\n  }, [getNetworkNameCached, providerOptions, web3ModalTheme, state.web3Modal]);\n\n  /**\n   * Automagically connect to cached provider `localStorage`\n   */\n  useEffect(() => {\n    async function activeWeb3ModalCached(cachedProvider: string) {\n      if (cachedProvider) {\n        await onConnectToCached(cachedProvider);\n      }\n    }\n\n    if (state.web3Modal && getCachedProvider()) {\n      activeWeb3ModalCached(state.web3Modal.cachedProvider);\n    }\n  }, [onConnectToCached, state.web3Modal]);\n\n  /**\n   * Double checking if a cached provider exists in `localStorage`\n   */\n  function getCachedProvider(): string | null {\n    return localStorage.getItem(WEB3_CONNECT_CACHED_PROVIDER);\n  }\n\n  /**\n   * Connect to a specfic wallet; get account assets and\n   * subscribe to provider events\n   */\n  async function onConnectTo(connectorId: string) {\n    try {\n      if (!state.web3Modal) return;\n\n      const provider = await state.web3Modal.connectTo(connectorId);\n\n      subscribeProvider(provider);\n\n      const web3: any = new Web3(provider);\n\n      // get accounts\n      const accounts = await web3.eth.getAccounts();\n      // get connected network id\n      const networkId = await web3.eth.net.getId();\n\n      dispatch({\n        type: ActionType.UPDATE,\n        payload: {\n          account: accounts[0],\n          connected: true,\n          provider,\n          networkId,\n          web3Instance: web3,\n        },\n      });\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n  /**\n   * Disconnect wallet button pressed.\n   */\n  async function onDisconnect() {\n    try {\n      if (state.provider.close) {\n        await state.provider.close();\n      }\n\n      // If the cached provider is not cleared,\n      // WalletConnect will default to the existing session\n      // and does not allow to re-scan the QR code with a new wallet.\n      // Depending on your use case you may want or want not his behaviour.\n      state.web3Modal && (await state.web3Modal.clearCachedProvider());\n\n      // Reset all states; except for web3Modal?!\n      dispatch({type: ActionType.DEACTIVATE_PROVIDER});\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n  function subscribeProvider(provider: any) {\n    if (!provider?.on) return;\n\n    // Subscribe to accounts change\n    provider.on('accountsChanged', (accounts: string[]) => {\n      dispatch({\n        type: ActionType.UPDATE,\n        payload: {\n          account: accounts[0],\n        },\n      });\n    });\n\n    // Subscribe to chainId change\n    provider.on('chainChanged', (chainId: string) => {\n      async function handleChainChanged(cachedProvider: string) {\n        // convert `chainId` hex string to number\n        const networkId = parseInt(chainId, 16);\n\n        dispatch({\n          type: ActionType.UPDATE,\n          payload: {\n            networkId,\n          },\n        });\n\n        // if we are connected to the correct network; connect to provider\n        Number(networkId) === Number(chainId) &&\n          (await onConnectToCached(cachedProvider));\n      }\n\n      if (state.web3Modal?.cachedProvider) {\n        handleChainChanged(state.web3Modal?.cachedProvider);\n      }\n    });\n\n    // Subscribe to provider connection\n    provider.on('connect', (info: {chainId: number}) => {\n      console.info('connect', info);\n    });\n\n    // Subscribe to provider disconnection\n    provider.on('disconnect', (error: {code: number; message: string}) => {\n      console.info('disconnect', error);\n    });\n  }\n\n  function getNetworkName(): NetworkNameType {\n    switch (web3ModalChain) {\n      case NetworkIDs.GOERLI:\n        return NetworkNames.GOERLI;\n      case NetworkIDs.KOVAN:\n        return NetworkNames.KOVAN;\n      case NetworkIDs.RINKEBY:\n        return NetworkNames.RINKEBY;\n      case NetworkIDs.ROPSTEN:\n        return NetworkNames.ROPSTEN;\n      case NetworkIDs.MAINNET:\n        return NetworkNames.MAINNET;\n      default:\n        return NetworkNames.MAINNET;\n    }\n  }\n\n  return {\n    ...state,\n    onConnectTo,\n    onDisconnect,\n    providerOptions,\n  };\n}\n","import React, {useState, useEffect} from 'react';\n\nimport {chooseRandom} from '../../util/helpers';\n\ntype CycleMessageProps = {\n  /**\n   * Use the first item as the default.\n   */\n  useFirstItemStart?: boolean;\n  /**\n   * What is the interval of cycling the message?\n   */\n  intervalMs: number;\n  /**\n   * Provide multiple strings to cycle through.\n   */\n  messages: string[];\n  /**\n   * Render a React Element.\n   * activeMessage is passed in.\n   */\n  render: (m: string) => React.ReactElement;\n};\n\nexport default function CycleMessage(props: CycleMessageProps) {\n  const {intervalMs, messages, useFirstItemStart} = props;\n\n  // Default item at start.\n  const INITIAL_ITEM = useFirstItemStart\n    ? messages[0]\n    : chooseRandom<string>(messages);\n\n  const [activeMessage, setActiveMessage] = useState<string>(INITIAL_ITEM);\n\n  useEffect(() => {\n    const intervalId = setInterval(\n      () =>\n        setActiveMessage((prevMessage) =>\n          chooseRandom<string>(messages, prevMessage)\n        ),\n      intervalMs\n    );\n\n    return () => {\n      clearInterval(intervalId);\n    };\n  }, [intervalMs, messages]);\n\n  return props.render(activeMessage);\n}\n","/**\n * chooseRandom\n *\n * Choose a random item from an array.\n *\n * @param {array} array - The array to choose from.\n * @param doNotChooseItem - An item to not choose (e.g. previously chosen item)\n */\nexport function chooseRandom<T>(array: T[], doNotChooseItem?: T) {\n  const arrayToUse =\n    doNotChooseItem !== undefined\n      ? array.filter((a) => a !== doNotChooseItem)\n      : array;\n\n  return arrayToUse[Math.floor(Math.random() * arrayToUse.length)];\n}\n","/**\n * disableReactDevTools\n *\n * Run before the app mounts to disable React dev tools.\n * Ideally, this is run conditionally based on environment.\n *\n * @see: https://github.com/facebook/react-devtools/issues/191#issuecomment-443607190\n */\nexport function disableReactDevTools() {\n  const noop = (): void => undefined;\n  const DEV_TOOLS = (window as any).__REACT_DEVTOOLS_GLOBAL_HOOK__;\n\n  if (typeof DEV_TOOLS === 'object') {\n    for (const [key, value] of Object.entries(DEV_TOOLS)) {\n      DEV_TOOLS[key] = typeof value === 'function' ? noop : null;\n    }\n  }\n}\n","/**\n * dontCloseWindowWarning\n *\n * Warns user not to close the window.\n *\n * @returns {() => void} unsubscribe function to stop listening, and the callback from firing.\n */\nexport function dontCloseWindowWarning(): () => void {\n  // @see: https://developer.mozilla.org/en-US/docs/Web/API/WindowEventHandlers/onbeforeunload#Example\n  const callback = (event: BeforeUnloadEvent) => {\n    // Cancel the event\n    event.preventDefault();\n    // Chrome requires returnValue to be set\n    event.returnValue = '';\n  };\n\n  window.addEventListener('beforeunload', callback);\n\n  return function unsubscribe() {\n    window.removeEventListener('beforeunload', callback);\n  };\n}\n","/**\n * formatDecimal\n *\n * A simple formatter with respect for dynamic decimal places\n * from `toFixed(2)` to `toFixed(4)`. If the number provided\n * is less than `0.01`, then `toFixed(4)` is used, else `toFixed(2)`.\n *\n * This may not work for all cases where the number is tiny, as it could\n * result in `\"0.0000\"`.\n *\n * @param {number} n\n * @returns {string} A `.toFixed()` representation of the decimal number.\n */\nexport function formatDecimal(n: number): string {\n  return n < 0.01 ? n.toFixed(4) : n.toFixed(2);\n}\n","/**\n * formatNumber\n *\n * Formats a number (U.S. region) with commas (e.g. 1000 -> 1,000).\n *\n * @param {string | number} value\n * @returns {string}\n *\n * @todo maybe a more friendly way via Intl API in JS core?\n */\nexport const formatNumber = (value: number | string): string => {\n  const regEx = new RegExp(/(\\d)(?=(\\d{3})+(?:\\.\\d+)?$)/g);\n  return typeof value === 'number'\n    ? value.toString().replace(/,/g, '').replace(regEx, '$1,')\n    : value.replace(/,/g, '').replace(regEx, '$1,');\n};\n","/**\n * getValidationError\n *\n * Used with react-hook-form (mostly to solve a TS incorrect behavior)\n * Gets the associated error message with a field.\n *\n * @param {string} field\n * @param {Record<string, any>} errors\n * @returns string\n */\nexport function getValidationError(\n  field: string,\n  errors: Record<string, any>\n): string {\n  return errors[field] && 'message' in errors[field]\n    ? (errors[field].message as string)\n    : '';\n}\n","/**\n * normalizeString\n *\n * Converts string case to lowerCase and trims whitespace.\n *\n * @param {string} stringToNormalize\n * @returns {string} The normalized string lowercased and trimmed.\n */\nexport function normalizeString(stringToNormalize: string): string {\n  return stringToNormalize.toLowerCase().trim();\n}\n","/**\n * stripFormatNumber\n *\n * Strips a number string formatting (via `formatNumber`) (e.g. 10,000 -> 10000).\n *\n * @param {string} value Number string to strip formatting (via `formatNumber`) from.\n * @returns {string} A Number string without any formatting form `formatNumber`.\n *\n * @todo maybe a more friendly way via Intl API in JS core?\n */\nexport const stripFormatNumber = (value: string): string =>\n  value.toString().replace(/,/g, '');\n","import {isEthAddressValid} from '../validation';\n\n/**\n * truncateEthAddress\n *\n * Truncates Ethereum address.\n *\n * @param {string} addr\n * @param {number} [maxLength=5]\n * @returns {string}\n */\nexport function truncateEthAddress(\n  addr: string,\n  maxLength: number = 5\n): string {\n  if (addr === null || typeof addr === 'undefined') return '---';\n\n  if (isEthAddressValid(addr)) {\n    const firstSegment = addr.substring(0, maxLength);\n    const secondPart = addr.substring(addr.length - 3);\n    return firstSegment + '...' + secondPart;\n  } else {\n    // in case string argument is not actually an Ethereum address\n    return addr;\n  }\n}\n","/**\n * DaoConstants as defined in the solidity DaoConstants.sol contract\n * and the available adapters as detailed here:\n * https://github.com/openlawteam/molochv3-contracts\n */\nexport enum DaoConstants {\n  BANK = 'bank',\n  CONFIGURATION = 'configuration',\n  DISTRIBUTE = 'distribute',\n  FINANCING = 'financing',\n  GUILDKICK = 'guildkick',\n  ONBOARDING = 'onboarding',\n  OFFCHAINVOTING = 'offchainvoting',\n  MANAGING = 'managing',\n  RAGEQUIT = 'ragequit',\n  TRIBUTE = 'tribute',\n  VOTING = 'voting',\n  WITHDRAW = 'withdraw',\n}\n\n/**\n * Voting adapter names as defined in the solidity voting adapter contracts\n * i.e. `string public constant ADAPTER_NAME = \"VotingContract\"`.\n *\n * @link https://github.com/openlawteam/molochv3-contracts/blob/master/contracts/adapters/voting\n */\nexport enum VotingAdapterName {\n  OffchainVotingContract = 'OffchainVotingContract',\n  VotingContract = 'VotingContract',\n}\n","import {Dispatch} from 'redux';\n\nimport {ConnectedMemberState, ContractsStateEntry} from '../types';\n\nexport const SET_CONNECTED_MEMBER = 'SET_CONNECTED_MEMBER';\nexport const CLEAR_CONNECTED_MEMBER = 'CLEAR_CONNECTED_MEMBER';\n\n/**\n * getConnectedMember\n *\n * Gets information about a connected address from the DAO's `members`.\n * If the user is not a member, the defaults for a non-existent member of the DAO are returned (e.g. \"0x000000...\")\n * and `isActiveMember` will be `false`.\n *\n * The reason state is set for both a member and a non-member\n * is to ensure we're not too restrictive in our Dapp logic and\n * letting the contract do its job.\n */\nexport function getConnectedMember(\n  account: string,\n  daoRegistryContract: ContractsStateEntry\n) {\n  return async function (dispatch: Dispatch<any>) {\n    const daoRegistryInstance = daoRegistryContract.instance;\n\n    if (!daoRegistryInstance || !account) {\n      dispatch(clearConnectedMember());\n\n      return;\n    }\n\n    try {\n      const memberAddressByDelegateKey: string = await daoRegistryInstance.methods\n        .memberAddressesByDelegatedKey(account)\n        .call({from: account});\n      const isActiveMember: boolean = await daoRegistryInstance.methods\n        .isActiveMember(memberAddressByDelegateKey)\n        .call({from: account});\n      const currentDelegateKey: string = await daoRegistryInstance.methods\n        .getCurrentDelegateKey(memberAddressByDelegateKey)\n        .call({from: account});\n\n      const isActiveMemberChecks: boolean =\n        isActiveMember &&\n        !memberAddressByDelegateKey.startsWith('0x0000000000');\n\n      dispatch(\n        setConnectedMember({\n          delegateKey: currentDelegateKey,\n          isActiveMember: isActiveMemberChecks,\n          memberAddress: memberAddressByDelegateKey,\n        })\n      );\n    } catch (error) {\n      dispatch(clearConnectedMember());\n\n      throw error;\n    }\n  };\n}\n\nexport function setConnectedMember(payload: ConnectedMemberState) {\n  return {type: SET_CONNECTED_MEMBER, ...payload};\n}\n\nexport function clearConnectedMember() {\n  return {type: CLEAR_CONNECTED_MEMBER};\n}\n","import Web3 from 'web3';\n\nimport {ContractsStateEntry} from '../../../store/types';\nimport {ContractExtensionNames} from '../types';\n\nexport async function getExtensionAddress(\n  extensionName: ContractExtensionNames,\n  daoContractInstance: ContractsStateEntry['instance'] | undefined\n): Promise<string> {\n  try {\n    if (!daoContractInstance) {\n      throw new Error('No DaoRegistry contract instance provided.');\n    }\n\n    return await daoContractInstance.methods\n      .getExtensionAddress(Web3.utils.sha3(extensionName))\n      .call();\n  } catch (error) {\n    throw error;\n  }\n}\n","import React, {createContext} from 'react';\nimport Web3 from 'web3';\n\nimport useWeb3ModalManager, {DefaultTheme} from './hooks/useWeb3ModalManager';\n\ntype Web3ModalProviderArguments = {\n  defaultChain?: number;\n  defaultTheme?: DefaultTheme;\n  providerOptions: Record<string, any>; // required\n};\n\ntype Web3ModalManagerProps = {\n  children: JSX.Element;\n} & Web3ModalProviderArguments;\n\nexport type Web3ModalContextValue = {\n  account: string | undefined;\n  connected: boolean | undefined;\n  providerOptions: Record<string, any>;\n  onConnectTo: (providerName: string) => void;\n  onDisconnect: () => void;\n  networkId: number | undefined;\n  provider: any;\n  web3Instance: Web3;\n  web3Modal: any;\n};\n\nexport const Web3ModalContext = createContext<Web3ModalContextValue>(\n  {} as Web3ModalContextValue\n);\n\n/**\n * Web3ModalManager\n *\n * A provider for the `web3modal` wallet connection, provides access to\n * the wallet states, enables connections and disconnections.\n *\n * @example\n * <Web3ModalManager defaultChain={1} defaultTheme={'dark'} providerOptions={...}>\n *   ...\n * </Web3ModalManager>\n *\n * @param children: React.JSX\n * @param defaultChain?: number\n * @param defaultTheme?: DefaultTheme; default is `dark`\n * @param providerOptions: Record<string, any>\n */\n\nexport default function Web3ModalManager({\n  children,\n  defaultChain,\n  defaultTheme = DefaultTheme.DARK,\n  providerOptions,\n}: Web3ModalManagerProps) {\n  const web3ModalProviderArguments: Web3ModalProviderArguments = {\n    defaultChain,\n    defaultTheme,\n    providerOptions,\n  };\n  const {\n    account,\n    connected,\n    onConnectTo,\n    onDisconnect,\n    networkId,\n    provider,\n    web3Instance,\n    web3Modal,\n  } = useWeb3ModalManager(web3ModalProviderArguments);\n\n  const web3ModalContext = {\n    account,\n    connected,\n    onConnectTo,\n    onDisconnect,\n    networkId,\n    provider,\n    providerOptions,\n    web3Instance,\n    web3Modal,\n  };\n\n  return (\n    <Web3ModalContext.Provider value={web3ModalContext}>\n      {children}\n    </Web3ModalContext.Provider>\n  );\n}\n","/**\n * @see `IVoting.sol` in molochv3-contracts\n */\nexport enum VotingState {\n  NOT_STARTED,\n  TIE,\n  PASS,\n  NOT_PASS,\n  IN_PROGRESS,\n  GRACE_PERIOD,\n}\n","import {gql} from '@apollo/client';\n\nexport const GET_DAO = gql`\n  query GetDao($id: ID) {\n    molochv3S(where: {id: $id}) {\n      id # dao address\n      daoAddress\n      name\n      totalShares\n      bank {\n        id\n        bankAddress\n      }\n    }\n  }\n`;\n","import {gql} from '@apollo/client';\n\nexport const GET_ADAPTERS_AND_EXTENSIONS = gql`\n  query GetAdaptersAndExtensions($daoAddress: String) {\n    molochv3S(where: {daoAddress: $daoAddress}) {\n      adapters {\n        id\n        acl\n        adapterId\n        adapterAddress\n      }\n      extensions {\n        id\n        extensionId\n        extensionAddress\n      }\n    }\n  }\n`;\n","// see: http://reactcommunity.org/react-transition-group/transition\nimport React from 'react';\nimport {Transition} from 'react-transition-group';\n\ntype FadeInProps = {\n  children?: React.ReactNode;\n  duration?: number;\n  /**\n   * Defaults to `true`\n   */\n  show?: boolean;\n  /**\n   * Renders a `<span>` wrapper where the animation CSS is applied.\n   */\n  inline?: boolean;\n};\n\nconst DEFAULT_DURATION = 300;\n\nconst defaultStyle = (props: FadeInProps) => ({\n  transition: `opacity ${\n    props.duration || 300\n  }ms cubic-bezier(0, 0.69, 0.32, 0.64)`,\n  opacity: 0,\n});\n\nconst transitionStyles: Record<string, any> = {\n  entering: {opacity: 0},\n  entered: {opacity: 1},\n  exiting: {opacity: 0},\n  exited: {opacity: 0},\n};\n\nexport default function FadeIn(props: FadeInProps) {\n  const {inline} = props;\n\n  return (\n    <Transition\n      appear\n      in={props.show !== undefined ? props.show : true}\n      timeout={props.duration || DEFAULT_DURATION}>\n      {(transition) =>\n        inline ? (\n          <span\n            style={{\n              ...defaultStyle(props),\n              ...transitionStyles[transition],\n            }}>\n            {props.children}\n          </span>\n        ) : (\n          <div\n            style={{\n              ...defaultStyle(props),\n              ...transitionStyles[transition],\n            }}>\n            {props.children}\n          </div>\n        )\n      }\n    </Transition>\n  );\n}\n","import {useState} from 'react';\nimport {TransactionReceipt} from 'web3-core/types';\n\nimport {CHAINS, ETHERSCAN_URLS} from '../../../config';\nimport {contractSend} from '../helpers';\nimport {dontCloseWindowWarning} from '../../../util/helpers';\nimport {useWeb3Modal} from './useWeb3Modal';\nimport {Web3TxStatus} from '../types';\n\ntype UseContractSendReturn = {\n  txError: Error | undefined;\n  txEtherscanURL: string;\n  txIsPromptOpen: boolean;\n  txReceipt: TransactionReceipt | undefined;\n  txSend: (\n    ...p: Parameters<typeof contractSend>\n  ) => Promise<TransactionReceipt | undefined>;\n  txStatus: Web3TxStatus;\n};\n\n/**\n * useContractSend\n *\n * A React hook which encapsulates the call and related values of `contractSend`.\n *\n * @returns {UseContractSendReturn}\n */\nexport function useContractSend(): UseContractSendReturn {\n  const [txError, setTxError] = useState<Error>();\n  const [txEtherscanURL, setTxEtherscanURL] = useState<string>('');\n  const [txIsPromptOpen, setTxIsPromptOpen] = useState<boolean>(false);\n  const [txReceipt, setTxReceipt] = useState<TransactionReceipt>();\n  const [txStatus, setTxStatus] = useState<Web3TxStatus>(Web3TxStatus.STANDBY);\n\n  /**\n   * Our hooks\n   */\n\n  const {networkId} = useWeb3Modal();\n\n  /**\n   * Functions\n   */\n\n  function handleOnTxProcess(callback?: (txh: string) => void) {\n    return (txHash: string) => {\n      setTxStatus(Web3TxStatus.PENDING);\n      setTxIsPromptOpen(false);\n\n      // Ganache transactions do not show on Etherscan.\n      if (networkId && networkId !== CHAINS.GANACHE) {\n        setTxEtherscanURL(`${ETHERSCAN_URLS[networkId]}/tx/${txHash}`);\n      }\n\n      callback && callback(txHash);\n    };\n  }\n\n  async function txSend(\n    ...contractSendParams: Parameters<typeof contractSend>\n  ) {\n    // Activate \"don't close window\" warning\n    const unsubscribeDontCloseWindow = dontCloseWindowWarning();\n\n    try {\n      // Reset state in case trying again after error.\n      setTxError(undefined);\n      setTxEtherscanURL('');\n\n      setTxStatus(Web3TxStatus.AWAITING_CONFIRM);\n      setTxIsPromptOpen(true);\n\n      // Intercept the on process callback to allow us to set our internal state.\n      contractSendParams[4] = handleOnTxProcess(contractSendParams[4]);\n\n      const receipt = await contractSend(...contractSendParams);\n\n      setTxReceipt(receipt);\n      setTxStatus(Web3TxStatus.FULFILLED);\n\n      unsubscribeDontCloseWindow();\n\n      return receipt;\n    } catch (error) {\n      setTxError(error);\n      setTxStatus(Web3TxStatus.REJECTED);\n      setTxIsPromptOpen(false);\n\n      unsubscribeDontCloseWindow();\n\n      throw error;\n    }\n  }\n\n  return {\n    txError,\n    txEtherscanURL,\n    txIsPromptOpen,\n    txReceipt,\n    txSend,\n    txStatus,\n  };\n}\n","import {useEffect, useState, useRef} from 'react';\n\ntype GasStationResponse = {\n  average: number;\n  avgWait: number;\n  block_time: number;\n  blockNum: number;\n  fast: number;\n  fastest: number;\n  fastestWait: number;\n  fastWait: number;\n  safeLow: number;\n  safeLowWait: number;\n  speed: number;\n  standard: number;\n};\n\ntype GasPrices = {\n  average?: string;\n  fast: string;\n  fastest: string;\n  safeLow: string;\n  standard?: string;\n};\n\nconst REQUEST_TIMEOUT_MS = 5000;\nconst URL = 'https://ethgasstation.info/json/ethgasAPI.json';\nconst SECONDARY_URL = 'https://www.etherchain.org/api/gasPriceOracle';\n\n/**\n * useETHGasPrice\n *\n * Returns the latest mainnet gas prices, converted to WEI string.\n * If ETHGasStation is not returning quick enough (or fails), it tries etherchain's\n * gasPriceOracle API endpoint.\n *\n * @returns {GasPrices}\n */\nexport function useETHGasPrice() {\n  /**\n   * State\n   */\n\n  const [gasURL, setGasURL] = useState<string>(URL);\n  const [gasPrices, setGasPrices] = useState<GasPrices>();\n\n  const isMounted = useRef<boolean>();\n\n  useEffect(() => {\n    /**\n     * If the environment is not production, then exit.\n     * Sometimes using mainnet gas prices for Rinkeby won't work well with wallets.\n     */\n    if (process.env.REACT_APP_ENVIRONMENT !== 'production') return;\n\n    isMounted.current = true;\n\n    const abortController = new AbortController();\n    // If the request takes longer than 2 seconds,\n    // abort the request and try the secondary URL.\n    const timeoutId = setTimeout(() => {\n      abortController.abort();\n\n      setGasURL(SECONDARY_URL);\n    }, REQUEST_TIMEOUT_MS);\n\n    // To convert the provided values to gwei, divide by 10\n    const convertGasToWEI = (price: number) =>\n      ((gasURL === URL ? price / 10 : price) * 1000000000).toString();\n\n    fetch(gasURL, {signal: abortController.signal})\n      .then((response) => {\n        if (!isMounted.current) return;\n\n        if (!response.ok) {\n          // try a new endpoint\n          setGasURL(SECONDARY_URL);\n\n          throw new Error(\n            'Something went wrong while getting the latest gas price.'\n          );\n        }\n\n        clearTimeout(timeoutId);\n\n        return response.json();\n      })\n      .then((jsonResponse: GasStationResponse) => {\n        if (!isMounted.current) return;\n\n        const {average, fast, fastest, safeLow, standard} = jsonResponse;\n\n        setGasPrices({\n          average: convertGasToWEI(average || standard),\n          fast: convertGasToWEI(fast),\n          fastest: convertGasToWEI(fastest),\n          safeLow: convertGasToWEI(safeLow),\n        });\n      })\n      .catch(() => {\n        clearTimeout(timeoutId);\n\n        if (!isMounted.current) return;\n\n        // try a new endpoint\n        setGasURL(SECONDARY_URL);\n        setGasPrices(undefined);\n      });\n\n    return () => {\n      isMounted.current = false;\n\n      abortController.abort();\n\n      clearTimeout(timeoutId);\n    };\n  }, [gasURL]);\n\n  return gasPrices;\n}\n","import {useEffect, useState} from 'react';\n\nimport {useWeb3Modal} from '.';\nimport {CHAIN_NAME, DEFAULT_CHAIN} from '../../../config';\n\n/**\n * useIsDefaultChain\n *\n * Checks if the connected account it connected to the default chain\n * @returns {\n *  defaultChain: number,\n *  defaultChainError: string,\n *  isDefaultChain: boolean\n * }\n */\nexport function useIsDefaultChain(): {\n  defaultChain: number;\n  defaultChainError: Error | undefined;\n  isDefaultChain: boolean;\n} {\n  /**\n   * Our hooks\n   */\n\n  const {networkId, connected} = useWeb3Modal();\n\n  /**\n   * State\n   */\n\n  const [isDefaultChain, setIsDefaultChain] = useState<boolean>(false);\n  const [defaultChainError, setDefaultChainError] = useState<Error>();\n\n  /**\n   * Effects\n   */\n\n  useEffect(() => {\n    setIsDefaultChain(networkId === DEFAULT_CHAIN);\n\n    if (connected && networkId !== DEFAULT_CHAIN) {\n      setDefaultChainError(\n        new Error(`Please connect to the ${CHAIN_NAME[DEFAULT_CHAIN]}.`)\n      );\n\n      return;\n    }\n\n    // If we make it here, reset after running checks.\n    setDefaultChainError(undefined);\n  }, [connected, networkId]);\n\n  return {\n    defaultChain: DEFAULT_CHAIN,\n    defaultChainError,\n    isDefaultChain,\n  };\n}\n","import {useCallback} from 'react';\nimport {useDispatch} from 'react-redux';\n\nimport {\n  initContractDaoFactory,\n  initContractBankExtension,\n  initContractDaoRegistry,\n  initContractDistribute,\n  initContractManaging,\n  initContractOnboarding,\n  initContractConfiguration,\n  initContractFinancing,\n  initContractGuildKick,\n  initContractRagequit,\n  initContractTribute,\n  initRegisteredVotingAdapter,\n  initContractWithdraw,\n} from '../../../store/actions';\nimport {ReduxDispatch} from '../../../store/types';\nimport {useIsDefaultChain} from './useIsDefaultChain';\nimport {useWeb3Modal} from '.';\n\n/**\n * useInitContracts\n *\n * Initiates all contracts used in the app.\n *\n * @todo Use subgraph to pass the address to each init function, so it skips chain calls.\n */\nexport function useInitContracts(): () => Promise<void> {\n  /**\n   * Our hooks\n   */\n\n  const {isDefaultChain} = useIsDefaultChain();\n  const {web3Instance} = useWeb3Modal();\n\n  /**\n   * Their hooks\n   */\n\n  const dispatch = useDispatch<ReduxDispatch>();\n\n  /**\n   * Cached callbacks\n   */\n\n  const initContractsCached = useCallback(initContracts, [\n    dispatch,\n    isDefaultChain,\n    web3Instance,\n  ]);\n\n  /**\n   * Init contracts\n   */\n  async function initContracts() {\n    try {\n      if (!isDefaultChain) return;\n\n      // Must init registry first\n      await dispatch(initContractDaoRegistry(web3Instance));\n\n      // Init more contracts\n      await dispatch(initContractDaoFactory(web3Instance));\n      await dispatch(initContractConfiguration(web3Instance));\n      await dispatch(initContractFinancing(web3Instance));\n      await dispatch(initContractGuildKick(web3Instance));\n      await dispatch(initContractManaging(web3Instance));\n      await dispatch(initContractRagequit(web3Instance));\n      await dispatch(initContractWithdraw(web3Instance));\n      // Init other contracts\n      await dispatch(initContractBankExtension(web3Instance));\n      await dispatch(initContractManaging(web3Instance));\n      await dispatch(initContractOnboarding(web3Instance));\n      await dispatch(initContractTribute(web3Instance));\n      await dispatch(initContractDistribute(web3Instance));\n      await dispatch(initRegisteredVotingAdapter(web3Instance));\n    } catch (error) {\n      throw error;\n    }\n  }\n\n  return initContractsCached;\n}\n","import {useSelector} from 'react-redux';\n\nimport {normalizeString} from '../../../util/helpers';\nimport {StoreState} from '../../../store/types';\nimport {useWeb3Modal} from './useWeb3Modal';\n\nexport function useIsAddressDelegated(): boolean {\n  /**\n   * Selectors\n   */\n\n  const delegateKey =\n    useSelector((s: StoreState) => s.connectedMember?.delegateKey) || '';\n  const memberAddress =\n    useSelector((s: StoreState) => s.connectedMember?.memberAddress) || '';\n\n  /**\n   * Our hooks\n   */\n\n  const {account = ''} = useWeb3Modal();\n\n  return (\n    normalizeString(account) === normalizeString(memberAddress) &&\n    normalizeString(account) !== normalizeString(delegateKey)\n  );\n}\n","import React, {useState, useEffect, CSSProperties} from 'react';\nimport FadeIn from '../common/FadeIn';\n\ntype CycleEllipsisProps = {\n  /**\n   * What is the interval of cycling the message?\n   */\n  intervalMs?: number;\n  /**\n   * Optional settings for the inner `<FadeIn />` component.\n   */\n  fadeInProps?: Parameters<typeof FadeIn>[0];\n};\n\nconst MESSAGES = ['', '.', '.', '.'];\nconst rootStyles = {position: 'absolute'} as CSSProperties;\nconst nbspStyles = {\n  height: 1,\n  width: 1,\n} as CSSProperties;\n\nexport function CycleEllipsis(props: CycleEllipsisProps) {\n  const {intervalMs = 1000, fadeInProps} = props;\n  const fadeInPropsMerged = {...fadeInProps, inline: true};\n\n  const [upToIndex, setUpToIndex] = useState<number>(1);\n\n  useEffect(() => {\n    const intervalId = setInterval(\n      () => setUpToIndex((prevIndex) => (prevIndex + 1) % MESSAGES.length),\n      intervalMs\n    );\n\n    return () => {\n      clearInterval(intervalId);\n    };\n  }, [intervalMs]);\n\n  return (\n    <>\n      <span style={rootStyles}>\n        <span>{upToIndex >= 0 && MESSAGES[0]}</span>\n        <span>\n          {upToIndex >= 1 && (\n            <FadeIn {...fadeInPropsMerged}>{MESSAGES[1]}</FadeIn>\n          )}\n        </span>\n        <span>\n          {upToIndex >= 2 && (\n            <FadeIn {...fadeInPropsMerged}>{MESSAGES[2]}</FadeIn>\n          )}\n        </span>\n        <span>\n          {upToIndex >= 3 && (\n            <FadeIn {...fadeInPropsMerged}>{MESSAGES[3]}</FadeIn>\n          )}\n        </span>\n      </span>\n      {/* @note Keep as it's an alignment fallback in certain CSS situations when no other text is a sibiling */}\n      <span style={nbspStyles}>&nbsp;</span>\n    </>\n  );\n}\n","/**\n * FOR HIGH REUSE ENUMS\n *\n * For any other more specific enum types, co-locate them in either:\n *\n * 1) The actual code file.\n * 2) In a type file in the location of the code files which mainly use the types.\n *\n * @see https://kentcdodds.com/blog/colocation\n */\n\n/**\n * @see https://chainid.network/\n */\nexport enum NetworkIDs {\n  GOERLI = 5,\n  KOVAN = 42,\n  RINKEBY = 4,\n  ROPSTEN = 3,\n  MAINNET = 1,\n}\n\n/**\n * @see https://chainid.network/\n */\nexport enum NetworkNames {\n  GOERLI = 'goerli',\n  KOVAN = 'kovan',\n  RINKEBY = 'rinkeby',\n  ROPSTEN = 'ropsten',\n  MAINNET = 'mainnet',\n}\n\nexport enum FormFieldErrors {\n  REQUIRED = 'This field is required.',\n  INVALID_BYTES32 = 'The value is not a bytes32.',\n  INVALID_BYTES32_ARRAY = 'The value is not a comma-separated bytes32 format, ie. 0x...,0x...',\n  INVALID_ETHEREUM_ADDRESS = 'The ethereum address is invalid.',\n  INVALID_NUMBER = 'The value is not a number.',\n  INVALID_NUMBER_ARRAY = 'The value is not a comma-separated number format, ie. 42,5,124',\n}\n\nexport enum ProposalHeaderNames {\n  FAILED = 'Failed',\n  PASSED = 'Passed',\n  REQUESTS = 'Proposals',\n  VOTING = 'Voting',\n}\n","/**\n * FOR HIGH REUSE TYPES\n *\n * For any other more specific types, co-locate them in either:\n *\n * 1) The actual code file.\n * 2) In a type file in the location of the code files which mainly use the types.\n *\n * @see https://kentcdodds.com/blog/colocation\n */\n\nexport type EnvironmentName = 'localhost' | 'development' | 'production';\n\nexport enum AsyncStatus {\n  STANDBY = 'STANDBY',\n  PENDING = 'PENDING',\n  FULFILLED = 'FULFILLED',\n  REJECTED = 'REJECTED',\n}\n\nexport interface MetaMaskRPCError extends Error {\n  code: number;\n}\n","import Web3 from 'web3';\nimport {AbiItem} from 'web3-utils/types';\nimport {Dispatch} from 'redux';\n\nimport {\n  ContractAdapterNames,\n  ContractExtensionNames,\n} from '../../components/web3/types';\nimport {\n  DEFAULT_CHAIN,\n  DAO_FACTORY_CONTRACT_ADDRESS,\n  DAO_REGISTRY_CONTRACT_ADDRESS,\n} from '../../config';\nimport {ContractsStateEntry, StoreState} from '../types';\nimport {getAdapterAddress} from '../../components/web3/helpers';\nimport {getExtensionAddress} from '../../components/web3/helpers/getExtensionAddress';\nimport {\n  DaoConstants,\n  VotingAdapterName,\n} from '../../components/adapters-extensions/enums';\n\ntype ContractAction =\n  | typeof CONTRACT_BANK_EXTENSION\n  | typeof CONTRACT_CONFIGURATION\n  | typeof CONTRACT_DAO_FACTORY\n  | typeof CONTRACT_DAO_REGISTRY\n  | typeof CONTRACT_DISTRIBUTE\n  | typeof CONTRACT_FINANCING\n  | typeof CONTRACT_GUILDKICK\n  | typeof CONTRACT_MANAGING\n  | typeof CONTRACT_ONBOARDING\n  | typeof CONTRACT_RAGEQUIT\n  | typeof CONTRACT_TRIBUTE\n  | typeof CONTRACT_VOTING\n  | typeof CONTRACT_VOTING_OP_ROLLUP\n  | typeof CONTRACT_WITHDRAW;\n\nexport const CONTRACT_BANK_EXTENSION = 'CONTRACT_BANK_EXTENSION';\nexport const CONTRACT_CONFIGURATION = 'CONTRACT_CONFIGURATION';\nexport const CONTRACT_DAO_FACTORY = 'CONTRACT_DAO_FACTORY';\nexport const CONTRACT_DAO_REGISTRY = 'CONTRACT_DAO_REGISTRY';\nexport const CONTRACT_DISTRIBUTE = 'CONTRACT_DISTRIBUTE';\nexport const CONTRACT_FINANCING = 'CONTRACT_FINANCING';\nexport const CONTRACT_GUILDKICK = 'CONTRACT_GUILDKICK';\nexport const CONTRACT_MANAGING = 'CONTRACT_MANAGING';\nexport const CONTRACT_ONBOARDING = 'CONTRACT_ONBOARDING';\nexport const CONTRACT_RAGEQUIT = 'CONTRACT_RAGEQUIT';\nexport const CONTRACT_TRIBUTE = 'CONTRACT_TRIBUTE';\nexport const CONTRACT_VOTING = 'CONTRACT_VOTING';\nexport const CONTRACT_VOTING_OP_ROLLUP = 'CONTRACT_VOTING_OP_ROLLUP';\nexport const CONTRACT_WITHDRAW = 'CONTRACT_WITHDRAW';\n\nexport function initContractDaoFactory(web3Instance: Web3) {\n  return async function (dispatch: Dispatch<any>) {\n    try {\n      if (web3Instance) {\n        const {default: lazyDaoFactoryABI} = await import(\n          '../../truffle-contracts/DaoFactory.json'\n        );\n        const daoFactoryContract: AbiItem[] = lazyDaoFactoryABI as any;\n        const contractAddress = DAO_FACTORY_CONTRACT_ADDRESS[DEFAULT_CHAIN];\n        const instance = new web3Instance.eth.Contract(\n          daoFactoryContract,\n          contractAddress\n        );\n\n        dispatch(\n          createContractAction({\n            type: CONTRACT_DAO_FACTORY,\n            abi: daoFactoryContract,\n            contractAddress,\n            instance,\n          })\n        );\n      }\n    } catch (error) {\n      throw error;\n    }\n  };\n}\n\nexport function initContractDaoRegistry(web3Instance: Web3) {\n  return async function (dispatch: Dispatch<any>) {\n    try {\n      if (web3Instance) {\n        const {default: lazyDaoRegistryABI} = await import(\n          '../../truffle-contracts/DaoRegistry.json'\n        );\n\n        const daoRegistryContract: AbiItem[] = lazyDaoRegistryABI as any;\n        const contractAddress = DAO_REGISTRY_CONTRACT_ADDRESS;\n\n        if (!contractAddress) {\n          throw new Error('No DAO Registry contract address was found.');\n        }\n\n        const instance = new web3Instance.eth.Contract(\n          daoRegistryContract,\n          contractAddress\n        );\n\n        dispatch(\n          createContractAction({\n            type: CONTRACT_DAO_REGISTRY,\n            abi: daoRegistryContract,\n            contractAddress,\n            instance,\n          })\n        );\n      }\n    } catch (error) {\n      throw error;\n    }\n  };\n}\n\nexport function initContractVoting(\n  web3Instance: Web3,\n  contractAddress?: string\n) {\n  return initContractThunkFactory({\n    actionType: CONTRACT_VOTING,\n    adapterOrExtensionName: ContractAdapterNames.voting,\n    adapterNameForRedux: VotingAdapterName.VotingContract,\n    contractAddress,\n    lazyImport: () => import('../../truffle-contracts/VotingContract.json'),\n    web3Instance,\n  });\n}\n\nexport function initContractVotingOpRollup(\n  web3Instance: Web3,\n  contractAddress?: string\n) {\n  return initContractThunkFactory({\n    actionType: CONTRACT_VOTING_OP_ROLLUP,\n    adapterOrExtensionName: ContractAdapterNames.voting,\n    adapterNameForRedux: VotingAdapterName.OffchainVotingContract,\n    contractAddress,\n    lazyImport: () =>\n      import('../../truffle-contracts/OffchainVotingContract.json'),\n    web3Instance,\n  });\n}\n\nexport function initContractOnboarding(\n  web3Instance: Web3,\n  contractAddress?: string\n) {\n  return initContractThunkFactory({\n    actionType: CONTRACT_ONBOARDING,\n    adapterNameForRedux: DaoConstants.ONBOARDING,\n    adapterOrExtensionName: ContractAdapterNames.onboarding,\n    contractAddress,\n    lazyImport: () => import('../../truffle-contracts/OnboardingContract.json'),\n    web3Instance,\n  });\n}\n\nexport function initContractBankExtension(\n  web3Instance: Web3,\n  contractAddress?: string\n) {\n  return initContractThunkFactory({\n    actionType: CONTRACT_BANK_EXTENSION,\n    adapterNameForRedux: DaoConstants.BANK,\n    adapterOrExtensionName: ContractExtensionNames.bank,\n    contractAddress,\n    isExtension: true,\n    lazyImport: () => import('../../truffle-contracts/BankExtension.json'),\n    web3Instance,\n  });\n}\n\nexport function initContractTribute(\n  web3Instance: Web3,\n  contractAddress?: string\n) {\n  return initContractThunkFactory({\n    actionType: CONTRACT_TRIBUTE,\n    adapterNameForRedux: DaoConstants.TRIBUTE,\n    adapterOrExtensionName: ContractAdapterNames.tribute,\n    contractAddress,\n    lazyImport: () => import('../../truffle-contracts/TributeContract.json'),\n    web3Instance,\n  });\n}\n\nexport function initContractDistribute(\n  web3Instance: Web3,\n  contractAddress?: string\n) {\n  return initContractThunkFactory({\n    actionType: CONTRACT_DISTRIBUTE,\n    adapterNameForRedux: DaoConstants.DISTRIBUTE,\n    adapterOrExtensionName: ContractAdapterNames.distribute,\n    contractAddress,\n    lazyImport: () => import('../../truffle-contracts/DistributeContract.json'),\n    web3Instance,\n  });\n}\n\nexport function initContractManaging(\n  web3Instance: Web3,\n  contractAddress?: string\n) {\n  return initContractThunkFactory({\n    actionType: CONTRACT_MANAGING,\n    adapterNameForRedux: DaoConstants.MANAGING,\n    adapterOrExtensionName: ContractAdapterNames.managing,\n    contractAddress,\n    lazyImport: () => import('../../truffle-contracts/ManagingContract.json'),\n    web3Instance,\n  });\n}\n\nexport function initContractWithdraw(\n  web3Instance: Web3,\n  contractAddress?: string\n) {\n  return initContractThunkFactory({\n    actionType: CONTRACT_WITHDRAW,\n    adapterNameForRedux: DaoConstants.WITHDRAW,\n    adapterOrExtensionName: ContractAdapterNames.withdraw,\n    contractAddress,\n    lazyImport: () => import('../../truffle-contracts/WithdrawContract.json'),\n    web3Instance,\n  });\n}\n\nexport function initContractRagequit(\n  web3Instance: Web3,\n  contractAddress?: string\n) {\n  return initContractThunkFactory({\n    actionType: CONTRACT_RAGEQUIT,\n    adapterNameForRedux: DaoConstants.RAGEQUIT,\n    adapterOrExtensionName: ContractAdapterNames.ragequit,\n    contractAddress,\n    lazyImport: () => import('../../truffle-contracts/RagequitContract.json'),\n    web3Instance,\n  });\n}\n\nexport function initContractGuildKick(\n  web3Instance: Web3,\n  contractAddress?: string\n) {\n  return initContractThunkFactory({\n    actionType: CONTRACT_GUILDKICK,\n    adapterNameForRedux: DaoConstants.GUILDKICK,\n    adapterOrExtensionName: ContractAdapterNames.guildkick,\n    contractAddress,\n    lazyImport: () => import('../../truffle-contracts/GuildKickContract.json'),\n    web3Instance,\n  });\n}\n\nexport function initContractFinancing(\n  web3Instance: Web3,\n  contractAddress?: string\n) {\n  return initContractThunkFactory({\n    actionType: CONTRACT_FINANCING,\n    adapterNameForRedux: DaoConstants.FINANCING,\n    adapterOrExtensionName: ContractAdapterNames.financing,\n    contractAddress,\n    lazyImport: () => import('../../truffle-contracts/FinancingContract.json'),\n    web3Instance,\n  });\n}\n\nexport function initContractConfiguration(\n  web3Instance: Web3,\n  contractAddress?: string\n) {\n  return initContractThunkFactory({\n    actionType: CONTRACT_CONFIGURATION,\n    adapterNameForRedux: DaoConstants.CONFIGURATION,\n    adapterOrExtensionName: ContractAdapterNames.configuration,\n    contractAddress,\n    lazyImport: () =>\n      import('../../truffle-contracts/ConfigurationContract.json'),\n    web3Instance,\n  });\n}\n\n/**\n * Inits the currently registered `voting` contract.\n *\n * @note The DaoRegistry and Managing contracts must be initialised beforehand.\n */\nexport function initRegisteredVotingAdapter(\n  web3Instance: Web3,\n  contractAddress?: string\n) {\n  return async function (dispatch: Dispatch<any>, getState: () => StoreState) {\n    try {\n      if (web3Instance) {\n        const daoRegistryContract = getState().contracts.DaoRegistryContract;\n        const {default: lazyIVotingABI} = await import(\n          '../../truffle-contracts/IVoting.json'\n        );\n\n        if (!daoRegistryContract) {\n          console.warn(\n            'Please init the DaoRegistry contract before the voting contract.'\n          );\n          return;\n        }\n\n        let votingAdapterName: string = '';\n        let address: string = contractAddress || '';\n\n        const getVotingAdapterName = async (a: string) =>\n          await new web3Instance.eth.Contract(\n            lazyIVotingABI as AbiItem[],\n            a\n          ).methods\n            .getAdapterName()\n            .call();\n\n        if (address) {\n          votingAdapterName = await getVotingAdapterName(address);\n        }\n\n        if (!address && !votingAdapterName) {\n          address = await getAdapterAddress(\n            ContractAdapterNames.voting,\n            getState().contracts.DaoRegistryContract?.instance\n          );\n\n          votingAdapterName = await getVotingAdapterName(address);\n        }\n\n        /**\n         * @todo Move voting adapter enum names (see contracts: `ADAPTER_NAME`)\n         *   to an appropriate adapter config file.\n         */\n        switch (votingAdapterName) {\n          case 'VotingContract':\n            return await initContractVoting(web3Instance, address)(\n              dispatch,\n              getState\n            );\n          case 'OffchainVotingContract':\n            return await initContractVotingOpRollup(web3Instance, address)(\n              dispatch,\n              getState\n            );\n          default:\n            throw new Error('Voting contract name could not be found.');\n        }\n      }\n    } catch (error) {\n      console.warn(\n        `The voting contract could not be found in the DAO. Are you sure you meant to add this contract's ABI?`\n      );\n    }\n  };\n}\n\nexport function createContractAction({\n  type,\n  ...payload\n}: {\n  type: ContractAction;\n} & ContractsStateEntry) {\n  return {\n    type,\n    ...payload,\n  };\n}\n\nexport function initContractThunkFactory({\n  actionType,\n  adapterNameForRedux,\n  adapterOrExtensionName,\n  contractAddress,\n  isExtension = false,\n  lazyImport,\n  web3Instance,\n}: {\n  actionType: ContractAction;\n  adapterOrExtensionName: ContractAdapterNames | ContractExtensionNames;\n  /**\n   * The name to be shown in Redux state as `adapterOrExtensionName`.\n   */\n  adapterNameForRedux?: ContractsStateEntry['adapterOrExtensionName'];\n  contractAddress?: string;\n  /**\n   * If set to `true` an Extenion address will be searched for instead of an Adapter.\n   */\n  isExtension?: boolean;\n  /**\n   * Provide a Dynamic Import wrapped in a function.\n   *\n   * e.g. `() => import('./path/to/import')`\n   */\n  lazyImport: () => any;\n  web3Instance: Web3;\n}) {\n  // Return a Redux Thunk\n  return async function (dispatch: Dispatch<any>, getState: () => StoreState) {\n    try {\n      const {default: lazyABI} = await lazyImport();\n\n      const contractABI: AbiItem[] = lazyABI as any;\n\n      const address =\n        contractAddress ||\n        (isExtension\n          ? await getExtensionAddress(\n              (adapterOrExtensionName as unknown) as ContractExtensionNames,\n              getState().contracts.DaoRegistryContract?.instance\n            )\n          : await getAdapterAddress(\n              (adapterOrExtensionName as unknown) as ContractAdapterNames,\n              getState().contracts.DaoRegistryContract?.instance\n            ));\n\n      dispatch(\n        createContractAction({\n          type: actionType,\n          abi: contractABI,\n          contractAddress: address,\n          adapterOrExtensionName: adapterNameForRedux,\n          instance: new web3Instance.eth.Contract(contractABI, address),\n        })\n      );\n    } catch (error) {\n      // Warn instead of throwing as we want the Dapp to fail gracefully.\n      console.warn(\n        `The contract \"${adapterOrExtensionName}\" could not be found in the DAO. Are you sure you meant to add this contract's ABI?`\n      );\n    }\n  };\n}\n","import {Contract, SendOptions} from 'web3-eth-contract/types';\nimport {TransactionReceipt} from 'web3-core/types';\n\n/**\n * contractSend\n *\n * Returns the resolved transaction receipt or error\n *\n * @param {string} methodName\n * @param {Record<string, any>} contractInstanceMethods An object of the methods for the Web3 contract instance.\n * @param {any[]} methodArguments An array of any arguments for the contract's method.\n * @param {Record<string, any>} txArguments\n * @param {(txHash: string) => void} onProcess Callback which runs after a txHash has been received,\n *   but before the transaction is complete.\n * @returns {Promise<TransactionReceipt>} Resolved or rejected transaction.\n */\nexport async function contractSend(\n  methodName: string,\n  contractInstanceMethods: typeof Contract.prototype.methods,\n  methodArguments: any[],\n  txArguments: SendOptions,\n  onProcess?: (txHash: string) => void\n): Promise<TransactionReceipt> {\n  // Promisify so we can both `reject()` inside .on('error') and from transactions.\n  return new Promise<TransactionReceipt>(async (resolve, reject) => {\n    try {\n      const method = contractInstanceMethods[methodName];\n\n      // estimate gas limit for transaction\n      const gas = await method(...methodArguments).estimateGas({\n        from: txArguments.from,\n        value: txArguments.value,\n      });\n\n      await method(...methodArguments)\n        .send({\n          ...txArguments,\n          gas,\n        })\n        .on('transactionHash', function (txHash: string) {\n          // Call onProcess with transaction hash\n          onProcess && onProcess(txHash);\n        })\n        .on('receipt', function (receipt: TransactionReceipt) {\n          // resolve on transaction receipt; contains event returnValues\n          resolve(receipt);\n        })\n        .on('error', (error: Error) => {\n          // reject on transaction error\n          reject(error);\n        });\n    } catch (error) {\n      // reject on estimate gas or transaction error\n      reject(error);\n    }\n  });\n}\n","import Web3 from 'web3';\n\nimport {ContractsStateEntry} from '../../../store/types';\nimport {ContractAdapterNames} from '../types';\n\nexport async function getAdapterAddress(\n  adapterName: ContractAdapterNames,\n  daoContractInstance: ContractsStateEntry['instance'] | undefined\n): Promise<string> {\n  try {\n    if (!daoContractInstance) {\n      throw new Error('No DaoRegistry contract instance provided.');\n    }\n\n    return await daoContractInstance.methods\n      .getAdapterAddress(Web3.utils.sha3(adapterName))\n      .call();\n  } catch (error) {\n    throw error;\n  }\n}\n","import {ContractAdapterNames} from '../types';\nimport {ContractsStateEntry, StoreState} from '../../../store/types';\n\nfunction getContractAddressOrThrow(\n  contract: ContractsStateEntry | null\n): string {\n  try {\n    const address = contract?.contractAddress;\n\n    if (!address) {\n      throw new Error(`Contract address was not found in the store.`);\n    }\n\n    return address;\n  } catch (error) {\n    throw error;\n  }\n}\n\n/**\n * getAdapterAddressFromContracts\n *\n * Gets an adapter's address by its name (`type ContractAdapterNames`) from the Redux contracts state slice.\n *\n * @param {string} name\n * @param {StoreState['contracts']} contracts\n */\nexport function getAdapterAddressFromContracts(\n  name: ContractAdapterNames,\n  contracts: StoreState['contracts']\n): string {\n  try {\n    switch (name) {\n      case ContractAdapterNames.configuration:\n        return '';\n      case ContractAdapterNames.distribute:\n        return getContractAddressOrThrow(contracts.DistributeContract);\n      case ContractAdapterNames.financing:\n        return '';\n      case ContractAdapterNames.guildkick:\n        return '';\n      case ContractAdapterNames.managing:\n        return getContractAddressOrThrow(contracts.ManagingContract);\n      case ContractAdapterNames.onboarding:\n        return getContractAddressOrThrow(contracts.OnboardingContract);\n      case ContractAdapterNames.ragequit:\n        return '';\n      case ContractAdapterNames.tribute:\n        return getContractAddressOrThrow(contracts.TributeContract);\n      case ContractAdapterNames.voting:\n        return getContractAddressOrThrow(contracts.VotingContract);\n      default:\n        throw new Error(`Contract address was not found in the store.`);\n    }\n  } catch (error) {\n    throw error;\n  }\n}\n","import {normalizeString} from '../../../util/helpers';\nimport {ContractsStateEntry, StoreState} from '../../../store/types';\n\n/**\n * getContractByAddress\n *\n * Gets a Contract from the Redux contracts state slice by its `contractAddress`, or throws an Error.\n * A use case for this would be when using ERC712 signing data `actionId` to get\n * the appropriate Contract for submitting on-chain transactions.\n *\n * @param {string} address\n * @param {StoreState['contracts']} contracts\n */\nexport function getContractByAddress(\n  address: string,\n  contracts: StoreState['contracts']\n): ContractsStateEntry {\n  try {\n    const contract = Object.values(contracts).find(\n      (c) =>\n        c?.contractAddress &&\n        normalizeString(c.contractAddress) === normalizeString(address)\n    );\n\n    if (!contract) {\n      throw new Error(`Contract was not found in the store.`);\n    }\n\n    return contract;\n  } catch (error) {\n    throw error;\n  }\n}\n","import Web3 from 'web3';\n\nimport {ContractsStateEntry} from '../../../store/types';\nimport {ContractDAOConfigKeys} from '../types';\n\nexport async function getDAOConfigEntry(\n  configKey: ContractDAOConfigKeys,\n  daoContractInstance: ContractsStateEntry['instance'] | undefined\n): Promise<string> {\n  try {\n    if (!daoContractInstance) {\n      throw new Error('No DaoRegistry contract instance provided.');\n    }\n\n    return await daoContractInstance.methods\n      .getConfiguration(Web3.utils.sha3(configKey))\n      .call();\n  } catch (error) {\n    throw error;\n  }\n}\n","import {ContractsStateEntry} from '../../../store/types';\n\nexport enum DaoState {\n  CREATION = 'CREATION',\n  READY = 'READY',\n}\n\nexport async function getDaoState(\n  daoContractInstance: ContractsStateEntry['instance'] | undefined\n): Promise<DaoState> {\n  try {\n    if (!daoContractInstance) {\n      throw new Error('No DaoRegistry contract instance provided.');\n    }\n\n    const daoRegistryMethods = daoContractInstance.methods;\n    const state = await daoRegistryMethods.state().call();\n\n    return Number(state) === 0 ? DaoState.CREATION : DaoState.READY;\n  } catch (error) {\n    throw error;\n  }\n}\n","import Web3 from 'web3';\nimport {AbiItem} from 'web3-utils/types';\n\nimport {MULTICALL_CONTRACT_ADDRESS} from '../../../config';\n\nexport type MulticallTuple = [\n  contractAddress: string,\n  functionABI: AbiItem,\n  parameters: string[]\n];\n\nexport async function multicall({\n  blockNumber = 'latest',\n  calls,\n  web3Instance,\n}: {\n  /**\n   * Defaults to `latest`\n   */\n  blockNumber?: number | string | ReturnType<typeof Web3.utils.toBN>;\n  calls: MulticallTuple[];\n  web3Instance: Web3;\n}) {\n  const {default: lazyMulticallABI} = await import(\n    '../../../truffle-contracts/Multicall.json'\n  );\n\n  // Let's `console.error` and exit instead of throwing.\n  if (!MULTICALL_CONTRACT_ADDRESS) {\n    console.error('No Multicall address was found. Are you sure it is set?');\n    return;\n  }\n\n  try {\n    const {methods: multicallMethods} = new web3Instance.eth.Contract(\n      lazyMulticallABI as AbiItem[],\n      MULTICALL_CONTRACT_ADDRESS\n    );\n\n    const {returnData} = await multicallMethods\n      .aggregate(\n        calls.map(([address, abi, params]) => [\n          address.toLowerCase(),\n          web3Instance.eth.abi.encodeFunctionCall(abi, params),\n        ])\n      )\n      .call({}, blockNumber);\n\n    return returnData.map((hexString: string, i: number) => {\n      const outputsABIItem = calls[i][1].outputs || [];\n      const decodedOutputs = web3Instance.eth.abi.decodeParameters(\n        outputsABIItem,\n        hexString\n      );\n\n      // Output as single result\n      if (\n        decodedOutputs.__length__ === 1 &&\n        decodedOutputs['0'] !== undefined\n      ) {\n        return decodedOutputs['0'];\n      }\n\n      return web3Instance.eth.abi.decodeParameters(\n        outputsABIItem || [],\n        hexString\n      );\n    });\n  } catch (error) {\n    throw error;\n  }\n}\n","import React from 'react';\n\nimport {MetaMaskRPCError} from '../../util/types';\nimport {normalizeString} from '../../util/helpers';\n\nimport FadeIn from './FadeIn';\n\ntype ErrorMessageWithDetailsProps = {\n  error?: Error;\n  renderText: (() => React.ReactElement) | string;\n  detailsProps?: React.HTMLAttributes<HTMLDetailsElement>;\n};\n\nexport default function ErrorMessageWithDetails(\n  props: ErrorMessageWithDetailsProps\n) {\n  const {error, renderText} = props;\n\n  // @link https://github.com/ethereum/EIPs/blob/master/EIPS/eip-1193.md#provider-errors\n  const isWalletRejectedRequest =\n    (error as MetaMaskRPCError)?.code === 4001 ||\n    /^(the )?user rejected (the )?request$/g.test(\n      normalizeString(error?.message || '')\n    );\n\n  // @note Some wallets will provide proper error codes. The `4001` is a \"user rejected transaction\".\n  return error && !isWalletRejectedRequest ? (\n    <FadeIn>\n      <div className=\"text-center\">\n        <p className=\"error-message\">\n          {typeof renderText === 'string' ? renderText : renderText()}\n        </p>\n\n        {error && (\n          <details {...props.detailsProps}>\n            <summary\n              className=\"error-message\"\n              style={{cursor: 'pointer', outline: 'none'}}>\n              <small>Details</small>\n            </summary>\n            <p className=\"error-message\">\n              <small>{error.message}</small>\n            </p>\n          </details>\n        )}\n      </div>\n    </FadeIn>\n  ) : null;\n}\n","import {\n  SnapshotDraftData,\n  SnapshotProposalData,\n  SnapshotDraftResponseData,\n  SnapshotProposalResponseData,\n  SnapshotType,\n} from '@openlaw/snapshot-js-erc712';\n\n/**\n * ENUMS\n */\n\n/**\n * Reverse mapping of DaoRegistry proposal flags.\n * The formula used to create the `flags` entry is:\n *   `prevFlags + 2**nextFlagIndex`\n *    i.e. to get the flag after `flags: 1` the formula is: `1 + 2**1 = 3`\n *\n * @note Order matters\n *\n * @see `ProposalFlag` in molochv3-contracts `DaoRegistry.sol`\n * @see `getFlag` in molochv3-contracts `DaoConstants.sol`\n * @see `setFlag` in molochv3-contracts `DaoConstants.sol`\n */\nexport enum ProposalFlag {\n  EXISTS = 1,\n  SPONSORED = 3,\n  PROCESSED = 7,\n}\n\n// @todo Need more information about the vote challenge flow.\nexport enum ProposalFlowStatus {\n  Sponsor = 'Sponsor',\n  OffchainVoting = 'OffchainVoting',\n  OffchainVotingSubmitResult = 'OffchainVotingSubmitResult',\n  OffchainVotingGracePeriod = 'OffchainVotingGracePeriod',\n  OnchainVoting = 'OnchainVoting',\n  Process = 'Process',\n  Completed = 'Completed',\n}\n\n/**\n * @see `Distribute.sol` in molochv3-contracts\n */\nexport enum DistributionStatus {\n  NOT_STARTED,\n  IN_PROGRESS,\n  DONE,\n  FAILED,\n}\n\n/**\n * TYPES\n */\n\n// @todo Change the type to be precise\nexport type SubgraphProposal = Record<string, any>;\n\n/**\n * We augment the response data to add a few helpful data pieces.\n */\nexport type SnapshotDraft = {\n  /**\n   * The ID used to reference the DAO.\n   */\n  idInDAO: string;\n  /**\n   * An ID helper to reference the Draft hash\n   */\n  idInSnapshot: string;\n} & SnapshotDraftResponseData;\n\n/**\n * We augment the response data to add a few helpful data pieces.\n */\nexport type SnapshotProposal = {\n  /**\n   * The ID used to reference the DAO.\n   */\n  idInDAO: string;\n  /**\n   * An ID helper to reference the Proposal hash\n   */\n  idInSnapshot: string;\n} & SnapshotProposalResponseData;\n\n/**\n * Common data shared between a Snapshot Drafts and Proposals.\n * Helpful when we need to display information which is accessible on both.\n */\nexport type SnapshotProposalCommon = SnapshotDraft | SnapshotProposal;\n\nexport type ProposalData = {\n  daoProposal: SubgraphProposal | undefined;\n  /**\n   * Data for either a Draft or Proposal which is shared between the two types.\n   */\n  getCommonSnapshotProposalData: () => SnapshotProposalCommon | undefined;\n  refetchProposalOrDraft: () => void;\n  snapshotDraft: SnapshotDraft | undefined;\n  snapshotProposal: SnapshotProposal | undefined;\n  snapshotType: ProposalOrDraftSnapshotType | undefined;\n};\n\n/**\n * A conditional helper type for determining which data shape to use.\n *\n * @link https://www.typescriptlang.org/docs/handbook/2/conditional-types.html\n */\nexport type ProposalOrDraftSnapshotData =\n  | SnapshotDraftResponseData\n  | SnapshotProposalResponseData;\n\nexport type ProposalOrDraftSnapshotType =\n  | SnapshotType.proposal\n  | SnapshotType.draft;\n\n/**\n * A conditional helper type for determining which data shape to use based on the `ProposalOrDraftSnapshotType`.\n *\n * @link https://www.typescriptlang.org/docs/handbook/2/conditional-types.html\n */\nexport type ProposalOrDraftSignDataFromType<\n  T extends ProposalOrDraftSnapshotType\n> = T extends SnapshotType.proposal ? SnapshotProposalData : SnapshotDraftData;\n","import React, {useEffect, useState} from 'react';\n\ninterface IProps {\n  // Show spinner after some time has elapsed.\n  // Prevents the \"sudden spinner\" UI/UX no-no.\n  // Esp. if we could have cached data.\n  showAfterMs?: number;\n  text?: string;\n  textProps?: {[key: string]: any};\n}\n\nfunction Spinner(props: Partial<IProps>) {\n  return <div className=\"loader\" {...props} />;\n}\n\nconst Loader = (\n  props: IProps & React.PropsWithoutRef<JSX.IntrinsicElements['div']>\n) => {\n  const {showAfterMs, text, textProps, ...loaderProps} = props;\n  const [showLoaderAfterMs, setShowLoaderAfterMs] = useState<boolean>(false);\n\n  useEffect(() => {\n    /* 200ms is approx. the time a user will notice a stalled, blank screen */\n    const timeoutId =\n      showAfterMs && setTimeout(() => setShowLoaderAfterMs(true), showAfterMs);\n\n    return function cleanup() {\n      timeoutId && clearTimeout(timeoutId);\n    };\n  }, [showAfterMs]);\n\n  return (!showAfterMs || (showAfterMs && showLoaderAfterMs)) && props.text ? (\n    <div className=\"loader-container\">\n      <Spinner {...loaderProps} />\n      <span className=\"loader-text\" {...textProps}>\n        {text}\n      </span>\n    </div>\n  ) : (!showAfterMs || (showAfterMs && showLoaderAfterMs)) && !props.text ? (\n    <Spinner {...loaderProps} />\n  ) : null;\n};\n\nexport default Loader;\n","import {VoteChoicesIndex} from '@openlaw/snapshot-js-erc712';\nimport {useCallback, useEffect, useState} from 'react';\nimport {useSelector} from 'react-redux';\n\nimport {multicall, MulticallTuple} from '../../web3/helpers';\nimport {ProposalData} from '../types';\nimport {SHARES_ADDRESS, TOTAL_ADDRESS} from '../../../config';\nimport {StoreState} from '../../../store/types';\nimport {useWeb3Modal} from '../../web3/hooks';\nimport {VoteChoices} from '../../web3/types';\n\ntype VoteChoiceResult = {\n  percentage: number;\n  shares: number;\n};\n\ntype OffchainVotingResult = {\n  [VoteChoices.Yes]: VoteChoiceResult;\n  [VoteChoices.No]: VoteChoiceResult;\n  totalShares: number;\n};\n\n/**\n * @todo Polling\n * @todo Attempt to use subgraph data first.\n */\nexport function useOffchainVotingResults(\n  proposal: ProposalData\n): OffchainVotingResult | undefined {\n  const {snapshotProposal} = proposal;\n  const votes = snapshotProposal?.votes;\n  const snapshot = snapshotProposal?.msg.payload.snapshot;\n\n  /**\n   * Selectors\n   */\n\n  const bankABI = useSelector(\n    (s: StoreState) => s.contracts.BankExtensionContract?.abi\n  );\n  const bankAddress = useSelector(\n    (s: StoreState) => s.contracts.BankExtensionContract?.contractAddress\n  );\n\n  /**\n   * State\n   */\n\n  const [voterAddressesAndChoices, setVoterAddressesAndChoices] = useState<\n    [string, number][]\n  >();\n  const [sharesResults, setSharesResults] = useState<OffchainVotingResult>();\n\n  /**\n   * Our hooks\n   */\n\n  const {web3Instance} = useWeb3Modal();\n\n  /**\n   * Variables\n   */\n\n  const getPriorAmountABI = bankABI?.find(\n    (item) => item.name === 'getPriorAmount'\n  );\n\n  /**\n   * Cached callbacks\n   */\n\n  const getSharesPerChoiceCached = useCallback(getSharesPerChoiceFromContract, [\n    bankAddress,\n    getPriorAmountABI,\n    snapshot,\n    voterAddressesAndChoices,\n    web3Instance,\n  ]);\n\n  /**\n   * Effects\n   */\n\n  // Collect voter addresses\n  useEffect(() => {\n    if (!votes) return;\n\n    const voterEntries = votes.map((v) => {\n      const vote = v[Object.keys(v)[0]];\n\n      return [vote.msg.payload.metadata.memberAddress, vote.msg.payload.choice];\n    });\n\n    setVoterAddressesAndChoices(\n      // Dedupe any duplicate addresses to be safe.\n      Object.entries(Object.fromEntries(voterEntries))\n    );\n  }, [votes]);\n\n  useEffect(() => {\n    // @todo If subgraph active, then exit.\n\n    getSharesPerChoiceCached();\n  }, [getSharesPerChoiceCached]);\n\n  /**\n   * Functions\n   */\n\n  async function getSharesPerChoiceFromContract() {\n    try {\n      if (!bankAddress || !getPriorAmountABI || !voterAddressesAndChoices) {\n        return;\n      }\n\n      if (!snapshot) {\n        throw new Error('No snapshot was found.');\n      }\n\n      // Create results object to set later\n      const results = {\n        [VoteChoices.Yes]: {\n          percentage: 0,\n          shares: 0,\n        },\n        [VoteChoices.No]: {\n          percentage: 0,\n          shares: 0,\n        },\n        totalShares: 0,\n      };\n\n      // Build a call for total shares\n      const totalSharesCall: MulticallTuple = [\n        bankAddress,\n        getPriorAmountABI,\n        [\n          TOTAL_ADDRESS, // account\n          SHARES_ADDRESS, // tokenAddr\n          snapshot.toString(), // blockNumber\n        ],\n      ];\n\n      // Build calls to Bank contract\n      const sharesCalls = voterAddressesAndChoices.map(\n        ([address]): MulticallTuple => [\n          bankAddress,\n          getPriorAmountABI,\n          [\n            address, // account\n            SHARES_ADDRESS, // tokenAddr\n            snapshot.toString(), // blockNumber\n          ],\n        ]\n      );\n\n      const calls = [totalSharesCall, ...sharesCalls];\n\n      const [totalSharesResult, ...sharesResults]: string[] = await multicall({\n        calls,\n        web3Instance,\n      });\n\n      // Set shares values for choices\n      sharesResults.forEach((shares, i) => {\n        const isYes =\n          VoteChoicesIndex[voterAddressesAndChoices[i][1]] ===\n          VoteChoicesIndex[VoteChoicesIndex.Yes];\n        const choice = isYes ? VoteChoices.Yes : VoteChoices.No;\n\n        results[choice].shares += Number(shares);\n      });\n\n      // Set percentages\n      results[VoteChoices.Yes].percentage =\n        (results[VoteChoices.Yes].shares / Number(totalSharesResult)) * 100;\n\n      results[VoteChoices.No].percentage =\n        (results[VoteChoices.No].shares / Number(totalSharesResult)) * 100;\n\n      // Set total shares\n      results.totalShares = Number(totalSharesResult);\n\n      setSharesResults((prevState) => ({\n        ...prevState,\n        ...results,\n      }));\n    } catch (error) {\n      setSharesResults(undefined);\n    }\n  }\n\n  return sharesResults;\n}\n","import {useEffect, useRef, useState} from 'react';\nimport {SnapshotType} from '@openlaw/snapshot-js-erc712';\n\nimport {ProposalData} from '../types';\nimport {AsyncStatus} from '../../../util/types';\n\ntype UseOffchainVotingStartEndReturn = {\n  hasOffchainVotingEnded: boolean;\n  hasOffchainVotingStarted: boolean;\n  /**\n   * Informs if the initial async checks have run.\n   * This helps to tame UI false-positives that can arise when\n   * using only booleans to check status.\n   */\n  offchainVotingStartEndInitReady: boolean;\n};\n\ntype StartEndStatus = {start: AsyncStatus; end: AsyncStatus};\n\nexport function useOffchainVotingStartEnd(\n  proposal: ProposalData\n): UseOffchainVotingStartEndReturn {\n  const {snapshotProposal} = proposal;\n\n  /**\n   * Refs\n   */\n\n  const votingStartEndStatusRef = useRef<StartEndStatus>({\n    start: AsyncStatus.STANDBY,\n    end: AsyncStatus.STANDBY,\n  });\n\n  /**\n   * State\n   */\n\n  const [\n    hasOffchainVotingStarted,\n    setHasOffchainVotingStarted,\n  ] = useState<boolean>(false);\n  const [hasOffchainVotingEnded, setHasOffchainVotingEnded] = useState<boolean>(\n    false\n  );\n  const [\n    offchainVotingStartEndInitReady,\n    setOffchainVotingStartEndInitReady,\n  ] = useState<boolean>(isInitReady(votingStartEndStatusRef.current));\n\n  /**\n   * Effects\n   */\n\n  // Actively check if voting has started\n  useEffect(() => {\n    if (\n      snapshotProposal?.msg.type !== SnapshotType.proposal ||\n      hasOffchainVotingStarted\n    ) {\n      setOffchainVotingStartEndInitReady(() => {\n        votingStartEndStatusRef.current.start = AsyncStatus.FULFILLED;\n        return isInitReady(votingStartEndStatusRef.current);\n      });\n\n      return;\n    }\n\n    setOffchainVotingStartEndInitReady(() => {\n      votingStartEndStatusRef.current.start = AsyncStatus.PENDING;\n      return isInitReady(votingStartEndStatusRef.current);\n    });\n\n    // Check if voting has started every 1 second\n    const intervalID = setInterval(() => {\n      // Async process ran\n      setOffchainVotingStartEndInitReady(() => {\n        votingStartEndStatusRef.current.start = AsyncStatus.FULFILLED;\n        return isInitReady(votingStartEndStatusRef.current);\n      });\n\n      const hasStartedCheck =\n        Math.floor(Date.now() / 1000) > snapshotProposal.msg.payload.start;\n\n      if (!hasStartedCheck) return;\n\n      setHasOffchainVotingStarted(hasStartedCheck);\n    }, 1000);\n\n    return () => {\n      clearInterval(intervalID);\n    };\n  }, [\n    hasOffchainVotingStarted,\n    snapshotProposal?.msg.payload.start,\n    snapshotProposal?.msg.type,\n  ]);\n\n  // Actively check if voting has ended\n  useEffect(() => {\n    if (\n      snapshotProposal?.msg.type !== SnapshotType.proposal ||\n      hasOffchainVotingEnded\n    ) {\n      setOffchainVotingStartEndInitReady(() => {\n        votingStartEndStatusRef.current.end = AsyncStatus.FULFILLED;\n        return isInitReady(votingStartEndStatusRef.current);\n      });\n\n      return;\n    }\n\n    setOffchainVotingStartEndInitReady(() => {\n      votingStartEndStatusRef.current.end = AsyncStatus.PENDING;\n      return isInitReady(votingStartEndStatusRef.current);\n    });\n\n    // Check if voting has ended every 1 second\n    const intervalID = setInterval(() => {\n      // Async process ran\n      setOffchainVotingStartEndInitReady(() => {\n        votingStartEndStatusRef.current.end = AsyncStatus.FULFILLED;\n        return isInitReady(votingStartEndStatusRef.current);\n      });\n\n      const hasEndedCheck =\n        Math.ceil(Date.now() / 1000) > snapshotProposal.msg.payload.end;\n\n      if (!hasEndedCheck) return;\n\n      setHasOffchainVotingEnded(hasEndedCheck);\n    }, 1000);\n\n    return () => {\n      clearInterval(intervalID);\n    };\n  }, [\n    hasOffchainVotingEnded,\n    snapshotProposal?.msg.payload.end,\n    snapshotProposal?.msg.type,\n  ]);\n\n  /**\n   * Functions\n   */\n\n  function isInitReady(offchainVotingStartEndInitReady: StartEndStatus) {\n    return Object.values(offchainVotingStartEndInitReady).every(\n      (s) => s === AsyncStatus.FULFILLED\n    );\n  }\n\n  return {\n    hasOffchainVotingStarted,\n    hasOffchainVotingEnded,\n    offchainVotingStartEndInitReady,\n  };\n}\n","import {useCallback, useEffect, useState} from 'react';\nimport {\n  SnapshotDraftResponse,\n  SnapshotProposalResponse,\n  SnapshotType,\n} from '@openlaw/snapshot-js-erc712';\n\nimport {AsyncStatus} from '../../../util/types';\nimport {SNAPSHOT_HUB_API_URL, SPACE} from '../../../config';\nimport {\n  ProposalData,\n  ProposalOrDraftSnapshotType,\n  SnapshotDraft,\n  SnapshotProposal,\n  SnapshotProposalCommon,\n  SubgraphProposal,\n} from '../types';\nimport {useAbortController, useCounter} from '../../../hooks';\n\ntype UseProposalReturn = {\n  proposalData: ProposalData | undefined;\n  proposalError: Error | undefined;\n  proposalNotFound: boolean;\n  proposalStatus: AsyncStatus;\n};\n\nconst ERROR_PROPOSAL: string =\n  'Something went wrong while getting the proposal.';\nconst ERROR_PROPOSAL_NOT_FOUND: string = 'Proposal was not found.';\n\n/**\n * useProposalOrDraft\n *\n * Ahook which fetches a snapshot-hub `proposal` or `draft` type by an ID string.\n *\n * If no `type` argument is provided it will search first for a\n * `proposal`, then if not found, search for a `draft`.\n *\n * @todo Fetch subgraph proposal on mount before a draft or proposal has been fetched.\n *\n * @param {string} id A draft's or a proposal's ID to search for.\n * @param {SnapshotType?} type An optional snapshot-hub `type` to search by.\n * @returns {UseProposalReturn}\n */\nexport function useProposalOrDraft(\n  id: string,\n  type?: ProposalOrDraftSnapshotType\n): UseProposalReturn {\n  /**\n   * State\n   */\n\n  /**\n   * @todo Get subgraph data using useLazyQuery\n   * @link https://www.apollographql.com/docs/react/data/queries/#executing-queries-manually\n   */\n  const [daoProposal /* setDAOProposal */] = useState<SubgraphProposal>();\n  const [snapshotDraft, setSnapshotDraft] = useState<SnapshotDraft>();\n  const [snapshotProposal, setSnapshotProposal] = useState<SnapshotProposal>();\n  const [proposalNotFound, setProposalNotFound] = useState<boolean>(false);\n  const [proposalError, setProposalError] = useState<Error>();\n  const [proposalStatus, setProposalStatus] = useState<AsyncStatus>(\n    AsyncStatus.STANDBY\n  );\n\n  /**\n   * Our hooks\n   */\n\n  const {abortController, isMountedRef} = useAbortController();\n  const [refetchCount, updateRefetchCount] = useCounter();\n\n  /**\n   * Cached callbacks\n   */\n\n  const handleGetDraftCached = useCallback(handleGetDraft, [\n    abortController?.signal,\n    id,\n    isMountedRef,\n    refetchCount,\n  ]);\n  const handleGetProposalCached = useCallback(handleGetProposal, [\n    abortController?.signal,\n    id,\n    isMountedRef,\n    refetchCount,\n    type,\n  ]);\n  const handleGetProposalOrDraftCached = useCallback(handleGetProposalOrDraft, [\n    handleGetDraftCached,\n    handleGetProposalCached,\n  ]);\n\n  /**\n   * Variables\n   */\n\n  const snapshotType: ProposalOrDraftSnapshotType | undefined = snapshotProposal\n    ? SnapshotType.proposal\n    : snapshotDraft\n    ? SnapshotType.draft\n    : undefined;\n\n  /**\n   * We need to at least have Snapshot data to provide the proposal,\n   * otherwise we will have nothing to show the user.\n   */\n  const proposalData: UseProposalReturn['proposalData'] =\n    snapshotDraft || snapshotProposal\n      ? {\n          daoProposal,\n          getCommonSnapshotProposalData,\n          refetchProposalOrDraft,\n          snapshotDraft,\n          snapshotProposal,\n          snapshotType,\n        }\n      : undefined;\n\n  /**\n   * Effects\n   */\n\n  useEffect(() => {\n    if (!abortController?.signal) return;\n\n    switch (type) {\n      case SnapshotType.draft:\n        handleGetDraftCached();\n        break;\n      case SnapshotType.proposal:\n        handleGetProposalCached();\n        break;\n      default:\n        handleGetProposalOrDraftCached();\n        break;\n    }\n  }, [\n    abortController?.signal,\n    handleGetDraftCached,\n    handleGetProposalCached,\n    handleGetProposalOrDraftCached,\n    type,\n  ]);\n\n  /**\n   * Functions\n   */\n\n  async function handleGetDraft(): Promise<SnapshotDraft | undefined> {\n    try {\n      // Do not trigger pending requests (UI will show loader) for refetches (meant to be silent).\n      if (refetchCount === 0) setProposalStatus(AsyncStatus.PENDING);\n\n      const response = await fetch(\n        `${SNAPSHOT_HUB_API_URL}/api/${SPACE}/draft/${id}`,\n        {signal: abortController?.signal}\n      );\n\n      if (!response.ok) {\n        throw new Error(ERROR_PROPOSAL);\n      }\n\n      const responseJSON: SnapshotDraftResponse = await response.json();\n\n      if (!isMountedRef.current) return;\n\n      // @note API does not provide a 404\n      if (!responseJSON || !Object.keys(responseJSON).length) {\n        setProposalNotFound(true);\n\n        throw new Error(ERROR_PROPOSAL_NOT_FOUND);\n      }\n\n      const idKey = Object.keys(responseJSON)[0];\n      // Get the `SnapshotDraftResponseData` by the address key of the single result.\n      const draft: SnapshotDraft = {\n        idInDAO: idKey,\n        idInSnapshot: idKey,\n        ...responseJSON[idKey],\n      };\n\n      setProposalStatus(AsyncStatus.FULFILLED);\n      setSnapshotDraft(draft);\n\n      return draft;\n    } catch (error) {\n      setProposalStatus(AsyncStatus.REJECTED);\n      setProposalError(error);\n    }\n  }\n\n  async function handleGetProposal(): Promise<SnapshotProposal | undefined> {\n    try {\n      // Do not trigger pending requests (UI will show loader) for refetches (meant to be silent).\n      if (refetchCount === 0) setProposalStatus(AsyncStatus.PENDING);\n\n      /**\n       * @note `searchUniqueDraftId` includes the draft id in the search for the proposal\n       *   as a Moloch proposal's ID hash could be the Snapshot Draft's ID.\n       */\n      const response = await fetch(\n        `${SNAPSHOT_HUB_API_URL}/api/${SPACE}/proposal/${id}?searchUniqueDraftId=true&includeVotes=true`,\n        {signal: abortController?.signal}\n      );\n\n      if (!response.ok) {\n        /**\n         * If `type` is set then we know we can determine `handleGetDraft`\n         * will not be called after in `handleGetProposalOrDraft`.\n         */\n        if (type === SnapshotType.proposal) {\n          throw new Error(ERROR_PROPOSAL);\n        }\n\n        return;\n      }\n\n      const responseJSON: SnapshotProposalResponse = await response.json();\n\n      if (!isMountedRef.current) return;\n\n      // @note API does not provide a 404\n      if (!responseJSON || !Object.keys(responseJSON).length) {\n        /**\n         * If `type` is set then we know we can determine `handleGetDraft`\n         * will not be called after in `handleGetProposalOrDraft`.\n         */\n        if (type === SnapshotType.proposal) {\n          setProposalNotFound(true);\n          throw new Error(ERROR_PROPOSAL_NOT_FOUND);\n        }\n\n        return;\n      }\n\n      const idKey = Object.keys(responseJSON)[0];\n      // Determine ID submitted to DAO, i.e. if there's a Draft ID hash, we should use that.\n      const proposalId: string =\n        responseJSON[idKey]?.data.erc712DraftHash || idKey;\n      // Get the `SnapshotProposalResponseData` by the address key of the single result.\n      const proposal: SnapshotProposal = {\n        idInDAO: proposalId,\n        idInSnapshot: idKey,\n        ...responseJSON[idKey],\n      };\n\n      setProposalStatus(AsyncStatus.FULFILLED);\n      setSnapshotProposal(proposal);\n\n      return proposal;\n    } catch (error) {\n      setProposalStatus(AsyncStatus.REJECTED);\n      setProposalError(error);\n    }\n  }\n\n  /**\n   * Searches all possible combinations to return a proposal or a draft:\n   *\n   * 1. Search for a proposal (including by using the `id` as the Draft's ID hash via `searchUniqueDraftId`)\n   * 2. Search for a draft, if nothing is returned for a proposal.\n   */\n  async function handleGetProposalOrDraft() {\n    // 1. Attempt to search for a proposal.\n    const proposal = await handleGetProposalCached();\n\n    if (!proposal) {\n      // 2. If not found, attempt a search for a draft.\n      const draft = await handleGetDraftCached();\n\n      setSnapshotDraft(draft);\n\n      return;\n    }\n\n    setSnapshotProposal(proposal);\n  }\n\n  /**\n   * getCommonSnapshotProposalData\n   *\n   * @returns `SnapshotProposalCommon | undefined` Data for either a Draft or Proposal which is shared between the two types.\n   */\n  function getCommonSnapshotProposalData(): SnapshotProposalCommon | undefined {\n    switch (snapshotType) {\n      case SnapshotType.draft:\n        return snapshotDraft;\n      case SnapshotType.proposal:\n        return snapshotProposal;\n      default:\n        return undefined;\n    }\n  }\n\n  function refetchProposalOrDraft(): void {\n    updateRefetchCount({type: 'increment'});\n  }\n\n  return {\n    proposalData,\n    proposalError,\n    proposalNotFound,\n    proposalStatus,\n  };\n}\n","import {useSelector} from 'react-redux';\nimport {useCallback, useEffect, useRef, useState} from 'react';\n\nimport {multicall, MulticallTuple} from '../../web3/helpers';\nimport {ProposalFlowStatus, ProposalData, ProposalFlag} from '../types';\nimport {StoreState} from '../../../store/types';\nimport {useOffchainVotingStartEnd} from '.';\nimport {useWeb3Modal} from '../../web3/hooks';\nimport {VotingState} from '../voting/types';\n\n// @todo Logic to fall back to on-chain polling this if subgraph is not available\n\ntype UseProposalWithOffchainVoteStatusReturn = {\n  status: ProposalFlowStatus | undefined;\n  daoProposal: {adapterAddress: string; flags: number} | undefined;\n  daoProposalVotes:\n    | {\n        fallbackVotesCount: string;\n        gracePeriodStartingTime: string;\n        index: string;\n        isChallenged: boolean;\n        nbNo: string;\n        nbVoters: string;\n        nbYes: string;\n        proposalHash: string;\n        reporter: string;\n        resultRoot: string;\n        snapshot: string;\n        startingTime: string;\n      }\n    | undefined;\n  /**\n   * An enum index (string) of the DAO proposal's `VotingState`\n   */\n  daoProposalVoteResult: string | undefined;\n  transitionMessage: string | undefined;\n};\n\nexport function useProposalWithOffchainVoteStatus(\n  proposal: ProposalData\n): UseProposalWithOffchainVoteStatusReturn {\n  const {snapshotDraft, snapshotProposal} = proposal;\n  const proposalId = snapshotDraft?.idInDAO || snapshotProposal?.idInDAO;\n\n  /**\n   * Selectors\n   */\n\n  const {web3Instance} = useWeb3Modal();\n  const daoRegistryAddress = useSelector(\n    (s: StoreState) => s.contracts.DaoRegistryContract?.contractAddress\n  );\n  const daoRegistryABI = useSelector(\n    (s: StoreState) => s.contracts.DaoRegistryContract?.abi\n  );\n  const offchainVotingAddress = useSelector(\n    (s: StoreState) => s.contracts.VotingContract?.contractAddress\n  );\n  const offchainVotingABI = useSelector(\n    (s: StoreState) => s.contracts.VotingContract?.abi\n  );\n\n  /**\n   * State\n   */\n\n  const [daoProposal, setDAOProposal] = useState<\n    UseProposalWithOffchainVoteStatusReturn['daoProposal']\n  >();\n  const [daoProposalVotes, setDAOProposalVotes] = useState<\n    UseProposalWithOffchainVoteStatusReturn['daoProposalVotes']\n  >();\n  const [daoProposalVoteResult, setDAOProposalVoteResult] = useState<\n    UseProposalWithOffchainVoteStatusReturn['daoProposalVoteResult']\n  >();\n\n  /**\n   * Refs\n   */\n\n  const pollingIntervalIdRef = useRef<NodeJS.Timeout>();\n\n  /**\n   * Our hooks\n   */\n\n  const {\n    hasOffchainVotingStarted,\n    hasOffchainVotingEnded,\n    offchainVotingStartEndInitReady,\n  } = useOffchainVotingStartEnd(proposal);\n\n  /**\n   * Cached callbacks\n   */\n\n  const pollStatusFromContractCached = useCallback(pollStatusFromContract, [\n    daoRegistryABI,\n    daoRegistryAddress,\n    offchainVotingABI,\n    offchainVotingAddress,\n    proposalId,\n    web3Instance,\n  ]);\n\n  /**\n   * Variables\n   */\n\n  const atExistsInDAO = daoProposal\n    ? ProposalFlag[daoProposal.flags] === ProposalFlag[ProposalFlag.EXISTS]\n    : false;\n  const atSponsoredInDAO = daoProposal\n    ? ProposalFlag[daoProposal.flags] === ProposalFlag[ProposalFlag.SPONSORED]\n    : false;\n  const atProcessedInDAO = daoProposal\n    ? ProposalFlag[daoProposal.flags] === ProposalFlag[ProposalFlag.PROCESSED]\n    : false;\n\n  /**\n   * Check if vote result was submitted.\n   * We can do this by checking if `reporter` and `resultRoot` has been set.\n   *\n   * @see `submitVoteResult` in molochv3-contracts off-chain voting adapters\n   */\n  const offchainResultSubmitted =\n    daoProposalVotes &&\n    daoProposalVotes.reporter &&\n    !daoProposalVotes.reporter.startsWith('0x00000000000') &&\n    daoProposalVotes.resultRoot &&\n    !daoProposalVotes.resultRoot.startsWith('0x00000000000');\n\n  const isInVotingGracePeriod =\n    daoProposalVoteResult &&\n    VotingState[daoProposalVoteResult] ===\n      VotingState[VotingState.GRACE_PERIOD];\n\n  useEffect(() => {\n    // Call as soon as possible.\n    pollStatusFromContractCached();\n\n    // Then, poll every `x` Ms\n    const intervalId = setInterval(pollStatusFromContractCached, 5000);\n\n    pollingIntervalIdRef.current = intervalId;\n  }, [pollStatusFromContractCached]);\n\n  // Stop polling if propsal is processed\n  useEffect(() => {\n    if (atProcessedInDAO && pollingIntervalIdRef.current) {\n      clearInterval(pollingIntervalIdRef.current);\n    }\n\n    return () => {\n      pollingIntervalIdRef.current &&\n        clearInterval(pollingIntervalIdRef.current);\n    };\n  }, [atProcessedInDAO]);\n\n  /**\n   * Functions\n   */\n\n  function getReturnData(\n    status: ProposalFlowStatus | undefined,\n    transitionMessage?: string\n  ): UseProposalWithOffchainVoteStatusReturn {\n    return {\n      status,\n      transitionMessage,\n      daoProposal,\n      daoProposalVoteResult,\n      daoProposalVotes,\n    };\n  }\n\n  async function pollStatusFromContract() {\n    try {\n      if (\n        !daoRegistryABI ||\n        !daoRegistryAddress ||\n        !offchainVotingABI ||\n        !offchainVotingAddress ||\n        !proposalId\n      ) {\n        return;\n      }\n\n      const proposalsABI = daoRegistryABI.filter(\n        (item) => item.name === 'proposals'\n      )[0];\n      const voteResultABI = offchainVotingABI.filter(\n        (item) => item.name === 'voteResult'\n      )[0];\n      const votesABI = offchainVotingABI.filter(\n        (item) => item.name === 'votes'\n      )[0];\n\n      const calls: MulticallTuple[] = [\n        // DAO proposals call\n        [daoRegistryAddress, proposalsABI, [proposalId]],\n        // Votes call\n        [offchainVotingAddress, votesABI, [daoRegistryAddress, proposalId]],\n        // Vote result call\n        [\n          offchainVotingAddress,\n          voteResultABI,\n          [daoRegistryAddress, proposalId],\n        ],\n      ];\n\n      const [proposal, votes, voteResult] = await multicall({\n        calls,\n        web3Instance,\n      });\n\n      setDAOProposal(proposal);\n      setDAOProposalVotes(votes);\n      setDAOProposalVoteResult(voteResult);\n    } catch (error) {}\n  }\n\n  // Status: Sponsor\n  if (\n    offchainVotingStartEndInitReady &&\n    !hasOffchainVotingStarted &&\n    atExistsInDAO\n  ) {\n    return getReturnData(ProposalFlowStatus.Sponsor);\n  }\n\n  // Status: Off-chain Voting\n  if (\n    offchainVotingStartEndInitReady &&\n    hasOffchainVotingStarted &&\n    !hasOffchainVotingEnded &&\n    atSponsoredInDAO\n  ) {\n    return getReturnData(ProposalFlowStatus.OffchainVoting);\n  }\n\n  // Status: Ready to Submit Vote Result\n  if (\n    offchainVotingStartEndInitReady &&\n    hasOffchainVotingEnded &&\n    atSponsoredInDAO &&\n    !offchainResultSubmitted\n  ) {\n    return getReturnData(ProposalFlowStatus.OffchainVotingSubmitResult);\n  }\n\n  // Status: Grace period\n  if (\n    offchainVotingStartEndInitReady &&\n    hasOffchainVotingEnded &&\n    atSponsoredInDAO &&\n    offchainResultSubmitted &&\n    isInVotingGracePeriod\n  ) {\n    return getReturnData(ProposalFlowStatus.OffchainVotingGracePeriod);\n  }\n\n  // Status: Process\n  if (\n    atSponsoredInDAO &&\n    offchainVotingStartEndInitReady &&\n    hasOffchainVotingEnded &&\n    offchainResultSubmitted &&\n    !isInVotingGracePeriod\n  ) {\n    return getReturnData(ProposalFlowStatus.Process);\n  }\n\n  // Status: Processed (completed)\n  if (atProcessedInDAO) {\n    return getReturnData(ProposalFlowStatus.Completed);\n  }\n\n  // Fallthrough\n  return {\n    status: undefined,\n    transitionMessage: undefined,\n    daoProposal,\n    daoProposalVoteResult,\n    daoProposalVotes,\n  };\n}\n","import {useState} from 'react';\nimport {useSelector} from 'react-redux';\nimport {\n  buildVoteMessage,\n  getDomainDefinition,\n  getSpace,\n  prepareVoteMessage,\n  signMessage,\n  SnapshotMessageVote,\n  SnapshotSubmitBaseReturn,\n  SnapshotType,\n  SnapshotVoteData,\n  SnapshotVoteProposal,\n  submitMessage,\n  VoteChoicesIndex,\n} from '@openlaw/snapshot-js-erc712';\n\nimport {ContractAdapterNames, Web3TxStatus} from '../../web3/types';\nimport {DEFAULT_CHAIN, SNAPSHOT_HUB_API_URL, SPACE} from '../../../config';\nimport {getAdapterAddressFromContracts} from '../../web3/helpers';\nimport {PRIMARY_TYPE_ERC712} from '../../web3/config';\nimport {StoreState} from '../../../store/types';\nimport {useWeb3Modal} from '../../web3/hooks/useWeb3Modal';\n\ntype SignAndSendVoteDataParam = {\n  choice: SnapshotMessageVote['choice'];\n  /**\n   * The address of a delegate voter for a member.\n   */\n  delegateAddress?: SnapshotMessageVote['metadata']['memberAddress'];\n  metadata?: Record<string, any>;\n};\n\ntype UseSignAndSendVoteReturn = {\n  signAndSendVote: (data: {\n    partialVoteData: SignAndSendVoteDataParam;\n    adapterName: ContractAdapterNames;\n    proposalIdInDAO: SnapshotVoteData['payload']['proposalHash'];\n    proposalIdInSnapshot: string;\n  }) => Promise<SignAndSendVoteReturn>;\n  voteData: SignAndSendVoteReturn | undefined;\n  voteDataError: Error | undefined;\n  voteDataStatus: Web3TxStatus;\n};\n\ntype SignAndSendVoteReturn = {\n  data: SnapshotVoteData;\n  signature: string;\n  uniqueId: SnapshotSubmitBaseReturn['uniqueId'];\n};\n\n/**\n * useSignAndSendVote\n *\n * React hook which prepares proposal data for submission\n * to Snapshot and Moloch v3 and signs it (ERC712)\n *\n * @returns {Promise<BuildAndSignProposalDataReturn>} An object with the proposal data and the ERC712 signature string.\n */\nexport function useSignAndSendVote(): UseSignAndSendVoteReturn {\n  /**\n   * Selectors\n   */\n\n  const daoRegistryAddress = useSelector(\n    (state: StoreState) => state.contracts.DaoRegistryContract?.contractAddress\n  );\n  const contracts = useSelector((state: StoreState) => state.contracts);\n\n  /**\n   * Our hooks\n   */\n\n  const {account, provider, web3Instance} = useWeb3Modal();\n\n  /**\n   * State\n   */\n\n  const [voteData, setVoteData] = useState<SignAndSendVoteReturn>();\n  const [voteDataError, setVoteDataError] = useState<Error>();\n  const [voteDataStatus, setVoteDataStatus] = useState<Web3TxStatus>(\n    Web3TxStatus.STANDBY\n  );\n\n  /**\n   * Functions\n   */\n\n  /**\n   * signAndSendVote\n   *\n   * Builds the vote data for submission to Snapshot and signs it (ERC712).\n   *\n   * @param {SignAndSendVoteDataParam}\n   * @param {adapterName} ContractAdapterNames - An adapter's contract address this data is related to.\n   *   @note Does not accept voting adapter names.\n   * @param {SnapshotVoteData['payload']['proposalHash']} proposalHash - The unique hash of the proposal from snapshot-hub.\n   * @returns {Promise<BuildAndSignProposalDataReturn>} An object with the vote data and the ERC712 signature string.\n   */\n  async function signAndSendVote({\n    partialVoteData,\n    adapterName,\n    proposalIdInDAO,\n    proposalIdInSnapshot,\n  }: {\n    partialVoteData: SignAndSendVoteDataParam;\n    adapterName: ContractAdapterNames;\n    /**\n     * This is the hash of the content as submitted to the DAO.\n     * The hash should be the same as the Snapshot draft's, or\n     * proposal's (if not submitted as a draft), ID.\n     *\n     * We need to make sure this matches what has been submitted to\n     * the DAO for later signature verifications.\n     */\n    proposalIdInDAO: SnapshotVoteData['payload']['proposalHash'];\n    /**\n     * Must match a `proposal` type's ID in Snapshot so a `vote` may be attached.\n     */\n    proposalIdInSnapshot: string;\n  }): Promise<SignAndSendVoteReturn> {\n    try {\n      if (!web3Instance) {\n        throw new Error('No Web3 instance was found.');\n      }\n\n      if (!account) {\n        throw new Error('No account was found.');\n      }\n\n      if (!daoRegistryAddress) {\n        throw new Error('No \"DaoRegistry\" address was found.');\n      }\n\n      if (!SNAPSHOT_HUB_API_URL) {\n        throw new Error('No \"SNAPSHOT_HUB_API_URL\" was found.');\n      }\n\n      setVoteDataStatus(Web3TxStatus.AWAITING_CONFIRM);\n\n      const adapterAddress = getAdapterAddressFromContracts(\n        adapterName,\n        contracts\n      );\n      const {choice, delegateAddress, metadata = {}} = partialVoteData;\n\n      const {data: snapshotSpace} = await getSpace(SNAPSHOT_HUB_API_URL, SPACE);\n\n      const voteData: SnapshotMessageVote = {\n        chainId: DEFAULT_CHAIN,\n        choice,\n        metadata: {\n          ...metadata,\n          memberAddress: delegateAddress || account,\n        },\n      };\n\n      const voteProposalData: SnapshotVoteProposal = {\n        proposalHash: proposalIdInDAO,\n        space: SPACE,\n        token: snapshotSpace.token,\n      };\n\n      // 1. Check proposal type and get appropriate message\n      const message = await buildVoteMessage(\n        voteData,\n        voteProposalData,\n        SNAPSHOT_HUB_API_URL\n      );\n\n      const erc712Message = prepareVoteMessage({\n        timestamp: message.timestamp,\n        payload: {\n          proposalHash: message.payload.proposalHash,\n          choice: VoteChoicesIndex[choice],\n        },\n      });\n\n      const {domain, types} = getDomainDefinition(\n        {...erc712Message, type: SnapshotType.vote},\n        daoRegistryAddress,\n        adapterAddress,\n        DEFAULT_CHAIN\n      );\n\n      const dataToSign = JSON.stringify({\n        types: types,\n        domain: domain,\n        primaryType: PRIMARY_TYPE_ERC712,\n        message: erc712Message,\n      });\n\n      const signature: string = await signMessage(\n        provider,\n        account,\n        dataToSign\n      );\n\n      setVoteDataStatus(Web3TxStatus.PENDING);\n\n      // 3. Send data to snapshot-hub\n      const {data} = await submitMessage<SnapshotSubmitBaseReturn>(\n        SNAPSHOT_HUB_API_URL,\n        account,\n        {\n          ...message,\n          // @note We pass the proposal's hash (ID) so we can vote on it.\n          payload: {...message.payload, proposalHash: proposalIdInSnapshot},\n        },\n        signature,\n        {\n          actionId: domain.actionId,\n          chainId: domain.chainId,\n          verifyingContract: domain.verifyingContract,\n          message: erc712Message,\n        }\n      );\n\n      const dataToReturn = {\n        data: message,\n        signature,\n        uniqueId: data.uniqueId,\n      };\n\n      setVoteDataStatus(Web3TxStatus.FULFILLED);\n      setVoteData(dataToReturn);\n\n      return dataToReturn;\n    } catch (error) {\n      setVoteDataStatus(Web3TxStatus.REJECTED);\n      setVoteDataError(error);\n\n      throw error;\n    }\n  }\n\n  return {\n    signAndSendVote,\n    voteData,\n    voteDataError,\n    voteDataStatus,\n  };\n}\n","import {useState} from 'react';\nimport {useSelector} from 'react-redux';\nimport {\n  buildDraftMessage,\n  buildProposalMessage,\n  getDomainDefinition,\n  getSpace,\n  prepareDraftMessage,\n  prepareProposalMessage,\n  signMessage,\n  SnapshotMessageBase,\n  SnapshotMessageProposal,\n  SnapshotProposalData,\n  SnapshotSubmitBaseReturn,\n  SnapshotSubmitProposalReturn,\n  SnapshotType,\n  submitMessage,\n} from '@openlaw/snapshot-js-erc712';\n\nimport {\n  ContractAdapterNames,\n  ContractDAOConfigKeys,\n  Web3TxStatus,\n} from '../../web3/types';\nimport {DEFAULT_CHAIN, SNAPSHOT_HUB_API_URL, SPACE} from '../../../config';\nimport {\n  getAdapterAddressFromContracts,\n  getDAOConfigEntry,\n} from '../../web3/helpers';\nimport {PRIMARY_TYPE_ERC712} from '../../web3/config';\nimport {\n  ProposalOrDraftSignDataFromType,\n  ProposalOrDraftSnapshotType,\n} from '../types';\nimport {StoreState} from '../../../store/types';\nimport {useWeb3Modal} from '../../web3/hooks/useWeb3Modal';\n\ntype SignAndSendData<T extends ProposalOrDraftSnapshotType> = {\n  partialProposalData: PrepareAndSignProposalDataParam;\n  adapterAddress?: string;\n  adapterName?: ContractAdapterNames;\n  type: T;\n};\n\ntype PrepareAndSignProposalDataParam = {\n  body: SnapshotProposalData['payload']['body'];\n  name: SnapshotProposalData['payload']['name'];\n  metadata: SnapshotProposalData['payload']['metadata'];\n  /**\n   * Helpful for Proposal types when hashes between created Drafts\n   * and yet to be created Proposals need to match.\n   */\n  timestamp?: SnapshotProposalData['timestamp'];\n};\n\ntype UseSignAndSubmitProposalReturn<T extends ProposalOrDraftSnapshotType> = {\n  signAndSendProposal: (\n    d: SignAndSendData<T>\n  ) => Promise<SignAndSendProposalReturn<T>>;\n  proposalData: SignAndSendProposalReturn<T> | undefined;\n  proposalSignAndSendError: Error | undefined;\n  proposalSignAndSendStatus: Web3TxStatus;\n};\n\ntype SignAndSendProposalReturn<T extends ProposalOrDraftSnapshotType> = {\n  data: ProposalOrDraftSignDataFromType<T>;\n  signature: string;\n  uniqueId: SnapshotSubmitBaseReturn['uniqueId'];\n  uniqueIdDraft: SnapshotSubmitProposalReturn['uniqueIdDraft'];\n};\n\n/**\n * useSignAndSubmitProposal\n *\n * React hook which prepares proposal data for submission\n * to Snapshot and Moloch v3 and signs it (ERC712)\n *\n * @returns {Promise<UseSignAndSubmitProposalReturn>} An object with the proposal data and the ERC712 signature string.\n */\nexport function useSignAndSubmitProposal<\n  T extends ProposalOrDraftSnapshotType\n>(): UseSignAndSubmitProposalReturn<T> {\n  /**\n   * Selectors\n   */\n\n  const daoRegistryAddress = useSelector(\n    (state: StoreState) => state.contracts.DaoRegistryContract?.contractAddress\n  );\n  const daoRegistryInstance = useSelector(\n    (state: StoreState) => state.contracts.DaoRegistryContract?.instance\n  );\n  const contracts = useSelector((state: StoreState) => state.contracts);\n\n  /**\n   * Our hooks\n   */\n\n  const {account, provider, web3Instance} = useWeb3Modal();\n\n  /**\n   * State\n   */\n\n  const [proposalData, setProposalData] = useState<\n    SignAndSendProposalReturn<T>\n  >();\n  const [\n    proposalSignAndSendError,\n    setProposalSignAndSendError,\n  ] = useState<Error>();\n  const [\n    proposalSignAndSendStatus,\n    setProposalSignAndSendStatus,\n  ] = useState<Web3TxStatus>(Web3TxStatus.STANDBY);\n\n  /**\n   * Functions\n   */\n\n  /**\n   * A wrapper to clearly separate the running of functions\n   * specific to Proposals.\n   *\n   * @param {SnapshotMessageBase & Partial<SnapshotMessageProposal>} commonData\n   * @returns {Promise<SnapshotProposalData>}\n   */\n  async function buildProposalMessageHelper(\n    commonData: SnapshotMessageBase & Partial<SnapshotMessageProposal>\n  ): Promise<SnapshotProposalData> {\n    if (!SNAPSHOT_HUB_API_URL) {\n      throw new Error('No \"SNAPSHOT_HUB_API_URL\" was found.');\n    }\n\n    const snapshot: number = await web3Instance.eth.getBlockNumber();\n\n    const votingTimeSeconds: number = parseInt(\n      await getDAOConfigEntry(\n        ContractDAOConfigKeys.offchainVotingVotingPeriod,\n        daoRegistryInstance\n      )\n    );\n\n    return await buildProposalMessage(\n      {\n        ...commonData,\n        votingTimeSeconds,\n        snapshot,\n      },\n      SNAPSHOT_HUB_API_URL\n    );\n  }\n\n  /**\n   * signAndSendProposal\n   *\n   * Builds the proposal data for submission to Moloch v3 and Snapshot and signs it (ERC712).\n   *\n   * @returns {Promise<SignAndSendProposalReturn>} An object with the proposal data, signature string, and propsal hash(es) from snapshot-hub.\n   */\n  async function signAndSendProposal({\n    partialProposalData,\n    adapterAddress,\n    adapterName,\n    type,\n  }: SignAndSendData<T>): Promise<SignAndSendProposalReturn<T>> {\n    try {\n      if (!account) {\n        throw new Error('No account was found to send.');\n      }\n\n      if (!web3Instance) {\n        throw new Error('No Web3 instance was found.');\n      }\n\n      if (!daoRegistryAddress) {\n        throw new Error('No \"DaoRegistry\" address was found.');\n      }\n\n      if (!SNAPSHOT_HUB_API_URL) {\n        throw new Error('No \"SNAPSHOT_HUB_API_URL\" was found.');\n      }\n\n      if (type !== SnapshotType.draft && type !== SnapshotType.proposal) {\n        throw new Error('Handling for type \"vote\" is not implemented.');\n      }\n\n      setProposalSignAndSendStatus(Web3TxStatus.AWAITING_CONFIRM);\n\n      const actionId = adapterAddress\n        ? adapterAddress\n        : adapterName\n        ? getAdapterAddressFromContracts(adapterName, contracts)\n        : '';\n\n      const {body, name, metadata, timestamp} = partialProposalData;\n\n      const {data: snapshotSpace} = await getSpace(SNAPSHOT_HUB_API_URL, SPACE);\n\n      const commonData: SnapshotMessageBase = {\n        name,\n        body,\n        metadata,\n        token: snapshotSpace.token,\n        space: SPACE,\n      };\n\n      // 1. Check proposal type and prepare appropriate message\n      const message = (type === SnapshotType.draft\n        ? await buildDraftMessage(commonData, SNAPSHOT_HUB_API_URL)\n        : await buildProposalMessageHelper({\n            ...commonData,\n            timestamp,\n          })) as ProposalOrDraftSignDataFromType<T>;\n\n      // 2. Prepare signing data. Snapshot and the contracts will verify this same data against the signature.\n      const erc712Message =\n        type === SnapshotType.draft\n          ? prepareDraftMessage(message)\n          : prepareProposalMessage(message as SnapshotProposalData);\n\n      const {domain, types} = getDomainDefinition(\n        {...erc712Message, type},\n        daoRegistryAddress,\n        actionId,\n        DEFAULT_CHAIN\n      );\n\n      const dataToSign = JSON.stringify({\n        types,\n        domain,\n        primaryType: PRIMARY_TYPE_ERC712,\n        message: erc712Message,\n      });\n\n      // 3. Sign data\n      const signature = await signMessage(provider, account, dataToSign);\n\n      setProposalSignAndSendStatus(Web3TxStatus.PENDING);\n\n      // 3. Send data to snapshot-hub\n      const {data} = await submitMessage<SnapshotSubmitProposalReturn>(\n        SNAPSHOT_HUB_API_URL,\n        account,\n        message,\n        signature,\n        {\n          actionId: domain.actionId,\n          chainId: domain.chainId,\n          verifyingContract: domain.verifyingContract,\n          message: erc712Message,\n        }\n      );\n\n      const dataToReturn = {\n        data: message,\n        signature,\n        uniqueId: data.uniqueId,\n        uniqueIdDraft: data.uniqueIdDraft || '',\n      };\n\n      setProposalSignAndSendStatus(Web3TxStatus.FULFILLED);\n      setProposalData(dataToReturn);\n\n      return dataToReturn;\n    } catch (error) {\n      setProposalSignAndSendStatus(Web3TxStatus.REJECTED);\n      setProposalSignAndSendError(error);\n\n      throw error;\n    }\n  }\n\n  return {\n    proposalData,\n    proposalSignAndSendError,\n    proposalSignAndSendStatus,\n    signAndSendProposal,\n  };\n}\n","/**\n * WEB3 TYPES\n */\n\n// ...\n\n/**\n * WEB3 ENUMS\n */\n\n/**\n * Should match molochv3-contracts constants\n *\n * @todo Add other extensions as needs arise\n */\nexport enum ContractAdapterNames {\n  configuration = 'configuration',\n  distribute = 'distribute',\n  financing = 'financing',\n  guildkick = 'guildkick',\n  managing = 'managing',\n  onboarding = 'onboarding',\n  ragequit = 'ragequit',\n  tribute = 'tribute',\n  voting = 'voting',\n  withdraw = 'withdraw',\n}\n\n/**\n * Should match molochv3-contracts constants\n *\n * @todo Add other extensions as needs arise\n */\nexport enum ContractExtensionNames {\n  bank = 'bank',\n}\n\n/**\n * Should match molochv3-contracts constants\n *\n * @todo Add other extensions as needs arise\n */\nexport enum ContractDAOConfigKeys {\n  offchainVotingGracePeriod = 'offchainvoting.gracePeriod',\n  offchainVotingStakingAmount = 'offchainvoting.stakingAmount',\n  offchainVotingVotingPeriod = 'offchainvoting.votingPeriod',\n  onboardingChunkSize = 'onboarding.chunkSize',\n  onboardingMaximumChunks = 'onboarding.maximumChunks',\n  onboardingSharesPerChunk = 'onboarding.sharesPerChunk',\n  onboardingTokenAddr = 'onboarding.tokenAddr',\n  votingGracePeriod = 'voting.gracePeriod',\n  votingStakingAmount = 'voting.stakingAmount',\n  votingVotingPeriod = 'voting.votingPeriod',\n}\n\nexport enum VoteChoices {\n  Yes = 'Yes',\n  No = 'No',\n}\n\nexport enum Web3TxStatus {\n  STANDBY = 'STANDBY',\n  AWAITING_CONFIRM = 'AWAITING_CONFIRM',\n  PENDING = 'PENDING',\n  FULFILLED = 'FULFILLED',\n  REJECTED = 'REJECTED',\n}\n","import {CoreProposalVoteChoices} from '@openlaw/snapshot-js-erc712';\nimport {VoteChoices} from './types';\n\n/**\n * WEB3 CONFIG for MOLOCH v3\n */\n\n// Vote choices should be \"yes\", \"no\" unless Moloch v3 contracts change.\nexport const VOTE_CHOICES: CoreProposalVoteChoices = [\n  VoteChoices.Yes,\n  VoteChoices.No,\n];\n\n// When signing data this is the `primaryType` key's value which is part of the data to sign.\nexport const PRIMARY_TYPE_ERC712 = 'Message';\n\nexport const TX_CYCLE_MESSAGES: string[] = [\n  'Submitting\\u2026',\n  'Working\\u2026',\n  'DAOing\\u2026',\n  'Getting closer\\u2026',\n  'Dreaming of ETH\\u2026',\n];\n","type EtherscanURLProps = {\n  url: string;\n  isPending?: boolean;\n};\n\nexport default function EtherscanURL(props: EtherscanURLProps) {\n  const {url, isPending = false} = props;\n\n  return (\n    <small>\n      <a href={url} rel=\"noopener noreferrer\" target=\"_blank\">\n        {isPending ? 'view progress' : 'view transaction'}\n      </a>\n    </small>\n  );\n}\n","import {useContext} from 'react';\n\nimport {Web3ModalContextValue, Web3ModalContext} from '../Web3ModalManager';\n\n/**\n * useWeb3Modal(): Web3ModalContextValue\n *\n * Internal hook to access wallet connectivity and connected state.\n *\n * @example\n * const {account, connected, networkId, ...} = useWeb3Modal();\n */\nexport function useWeb3Modal(): Web3ModalContextValue {\n  return useContext(Web3ModalContext);\n}\n","import {CLEAR_CONNECTED_MEMBER, SET_CONNECTED_MEMBER} from './actions';\nimport {ConnectedMemberState} from '../types';\n\nconst INITIAL_STATE = null;\n\nexport default function reducer(\n  state: ConnectedMemberState = INITIAL_STATE,\n  action: any\n) {\n  const {type, ...payload} = action;\n\n  switch (type) {\n    case SET_CONNECTED_MEMBER:\n      return setConnectedMemberReducer(state, payload);\n    case CLEAR_CONNECTED_MEMBER:\n      return clearConnectedMemberReducer();\n    default:\n      return state;\n  }\n}\n\nfunction setConnectedMemberReducer(\n  state: Partial<ConnectedMemberState>,\n  payload: Record<string, any>\n) {\n  return {...state, ...payload};\n}\n\nfunction clearConnectedMemberReducer() {\n  return INITIAL_STATE;\n}\n","import {\n  CONTRACT_BANK_EXTENSION,\n  CONTRACT_CONFIGURATION,\n  CONTRACT_DAO_FACTORY,\n  CONTRACT_DAO_REGISTRY,\n  CONTRACT_DISTRIBUTE,\n  CONTRACT_FINANCING,\n  CONTRACT_GUILDKICK,\n  CONTRACT_MANAGING,\n  CONTRACT_ONBOARDING,\n  CONTRACT_RAGEQUIT,\n  CONTRACT_TRIBUTE,\n  CONTRACT_VOTING_OP_ROLLUP,\n  CONTRACT_VOTING,\n  CONTRACT_WITHDRAW,\n} from '../actions';\nimport {ContractsState} from '../types';\n\nconst initialState = {\n  BankExtensionContract: null,\n  ConfigurationContract: null,\n  DaoFactoryContract: null,\n  DaoRegistryContract: null,\n  DistributeContract: null,\n  FinancingContract: null,\n  GuildBankContract: null,\n  ManagingContract: null,\n  OnboardingContract: null,\n  RagequitContract: null,\n  TributeContract: null,\n  VotingContract: null,\n  WithdrawContract: null,\n};\n\nexport default function reducer(\n  state: ContractsState = initialState,\n  action: any\n) {\n  const {type, ...payload} = action;\n\n  switch (type) {\n    case CONTRACT_BANK_EXTENSION:\n      return contractBankExtension(state, payload);\n    case CONTRACT_CONFIGURATION:\n      return contractConfiguration(state, payload);\n    case CONTRACT_DAO_FACTORY:\n      return contractDAOFactory(state, payload);\n    case CONTRACT_DAO_REGISTRY:\n      return contractDAORegistry(state, payload);\n    case CONTRACT_DISTRIBUTE:\n      return contractDistribute(state, payload);\n    case CONTRACT_FINANCING:\n      return contractFinancing(state, payload);\n    case CONTRACT_GUILDKICK:\n      return contractGuildBank(state, payload);\n    case CONTRACT_MANAGING:\n      return contractManaging(state, payload);\n    case CONTRACT_ONBOARDING:\n      return contractOnboarding(state, payload);\n    case CONTRACT_RAGEQUIT:\n      return contractRagequit(state, payload);\n    case CONTRACT_TRIBUTE:\n      return contractTribute(state, payload);\n    case CONTRACT_VOTING:\n      return contractVoting(state, payload);\n    case CONTRACT_VOTING_OP_ROLLUP:\n      return contractVoting(state, payload);\n    case CONTRACT_WITHDRAW:\n      return contractWithdraw(state, payload);\n    default:\n      return state;\n  }\n}\n\nfunction contractDAOFactory(state: ContractsState, payload: any) {\n  return {...state, DaoFactoryContract: {...payload}};\n}\n\nfunction contractDAORegistry(state: ContractsState, payload: any) {\n  return {...state, DaoRegistryContract: {...payload}};\n}\n\nfunction contractBankExtension(\n  state: ContractsState,\n  payload: any\n): ContractsState {\n  return {...state, BankExtensionContract: {...payload}};\n}\n\nfunction contractConfiguration(state: ContractsState, payload: any) {\n  return {...state, ConfigurationContract: {...payload}};\n}\n\nfunction contractDistribute(\n  state: ContractsState,\n  payload: any\n): ContractsState {\n  return {...state, DistributeContract: {...payload}};\n}\n\nfunction contractFinancing(state: ContractsState, payload: any) {\n  return {...state, FinancingContract: {...payload}};\n}\n\nfunction contractGuildBank(state: ContractsState, payload: any) {\n  return {...state, GuildBankContract: {...payload}};\n}\n\nfunction contractOnboarding(state: ContractsState, payload: any) {\n  return {...state, OnboardingContract: {...payload}};\n}\n\nfunction contractRagequit(state: ContractsState, payload: any) {\n  return {...state, RagequitContract: {...payload}};\n}\n\nfunction contractTribute(state: ContractsState, payload: any): ContractsState {\n  return {...state, TributeContract: {...payload}};\n}\n\nfunction contractVoting(state: ContractsState, payload: any): ContractsState {\n  return {...state, VotingContract: {...payload}};\n}\n\nfunction contractManaging(state: ContractsState, payload: any): ContractsState {\n  return {...state, ManagingContract: {...payload}};\n}\n\nfunction contractWithdraw(state: ContractsState, payload: any): ContractsState {\n  return {...state, WithdrawContract: {...payload}};\n}\n","import {combineReducers} from 'redux';\n\nimport connectedMember from './connectedMember/reducers';\nimport contracts from './contracts/reducers';\n\nexport default combineReducers({\n  connectedMember,\n  contracts,\n});\n","import {applyMiddleware, createStore} from 'redux';\nimport {composeWithDevTools} from 'redux-devtools-extension/logOnlyInProduction';\nimport thunk from 'redux-thunk';\n\nimport rootReducer from './reducers';\n\nexport const store = createStore(\n  rootReducer,\n  composeWithDevTools(applyMiddleware(thunk))\n);\n","export default function Footer() {\n  return (\n    <div>{/* Footer @todo - there is no footer content in designs */}</div>\n  );\n}\n","interface LogoProps {\n  size?: 'small' | 'medium' | 'large' | '';\n}\n\nexport default function Logo(props: LogoProps) {\n  return (\n    <div className={`logo ${props.size ? `logo--${props.size}` : ''}`}>\n      MOLOCH v3\n    </div>\n  );\n}\n","import React from 'react';\n\nimport Logo from './Logo';\n\n/**\n * ModalLogo\n * This component is used for modal menu\n */\nexport function ModalLogo() {\n  return (\n    <div className=\"logo-container logo-container--center\">\n      <Logo size=\"small\" />\n    </div>\n  );\n}\n\n/**\n * LeftLogo\n * This component is used for main pages\n */\nexport function LeftLogo() {\n  return (\n    <div className=\"logo-container logo-container--header\">\n      <Logo size=\"medium\" />\n    </div>\n  );\n}\n\n/**\n * CenterLogo\n * This component is used for splash page\n */\nexport function CenterLogo() {\n  return (\n    <div className=\"logo-container logo-container--center\">\n      <Logo size=\"large\" />\n    </div>\n  );\n}\n","export default function MetaMaskSVG() {\n  const st0: React.CSSProperties = {\n    fill: '#e17726',\n    stroke: '#e17726',\n    strokeWidth: '0.25',\n    strokeLinecap: 'round',\n    strokeLinejoin: 'round',\n  };\n  const st1: React.CSSProperties = {\n    fill: '#e27625',\n    stroke: '#e27625',\n    strokeWidth: '0.25',\n    strokeLinecap: 'round',\n    strokeLinejoin: 'round',\n  };\n  const st2: React.CSSProperties = {\n    fill: '#d5bfb2',\n    stroke: '#d5bfb2',\n    strokeWidth: '0.25',\n    strokeLinecap: 'round',\n    strokeLinejoin: 'round',\n  };\n  const st3: React.CSSProperties = {\n    fill: '#233447',\n    stroke: '#233447',\n    strokeWidth: '0.25',\n    strokeLinecap: 'round',\n    strokeLinejoin: 'round',\n  };\n  const st4: React.CSSProperties = {\n    fill: '#cc6228',\n    stroke: '#cc6228',\n    strokeWidth: '0.25',\n    strokeLinecap: 'round',\n    strokeLinejoin: 'round',\n  };\n  const st5: React.CSSProperties = {\n    fill: '#e27525',\n    stroke: '#e27525',\n    strokeWidth: '0.25',\n    strokeLinecap: 'round',\n    strokeLinejoin: 'round',\n  };\n  const st6: React.CSSProperties = {\n    fill: '#f5841f',\n    stroke: '#f5841f',\n    strokeWidth: '0.25',\n    strokeLinecap: 'round',\n    strokeLinejoin: 'round',\n  };\n  const st7: React.CSSProperties = {\n    fill: '#c0ac9d',\n    stroke: '#c0ac9d',\n    strokeWidth: '0.25',\n    strokeLinecap: 'round',\n    strokeLinejoin: 'round',\n  };\n  const st8: React.CSSProperties = {\n    fill: '#161616',\n    stroke: '#161616',\n    strokeWidth: '0.25',\n    strokeLinecap: 'round',\n    strokeLinejoin: 'round',\n  };\n  const st9: React.CSSProperties = {\n    fill: '#763e1a',\n    stroke: '#763e1a',\n    strokeWidth: '0.25',\n    strokeLinecap: 'round',\n    strokeLinejoin: 'round',\n  };\n\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      x=\"0\"\n      y=\"0\"\n      enableBackground=\"new 0 0 33.9 31.3\"\n      version=\"1.1\"\n      viewBox=\"0 0 33.9 31.3\"\n      xmlSpace=\"preserve\">\n      <path d=\"M32.1.1L18.9 9.8l2.4-5.7 10.8-4z\" style={st0}></path>\n      <path\n        d=\"M1.8.1l13 9.8-2.3-5.8L1.8.1zM27.4 22.7L23.9 28l7.5 2.1 2.1-7.3-6.1-.1zM.4 22.8l2.1 7.3L10 28l-3.5-5.3-6.1.1z\"\n        style={st1}></path>\n      <path\n        d=\"M9.6 13.6l-2.1 3.1 7.4.3-.2-8-5.1 4.6zM24.3 13.6L19.1 9l-.2 8.1 7.4-.3-2-3.2zM10 28l4.5-2.2-3.9-3L10 28zM19.4 25.8l4.5 2.2-.6-5.2-3.9 3z\"\n        style={st1}></path>\n      <path\n        d=\"M23.9 28l-4.5-2.2.4 2.9v1.2l4.1-1.9zM10 28l4.2 2v-1.2l.4-2.9L10 28z\"\n        style={st2}></path>\n      <path\n        d=\"M14.2 20.9l-3.7-1.1 2.6-1.2 1.1 2.3zM19.6 20.9l1.1-2.3 2.6 1.2-3.7 1.1z\"\n        style={st3}></path>\n      <path\n        d=\"M10 28l.6-5.3-4.1.1L10 28zM23.2 22.7l.6 5.3 3.5-5.2-4.1-.1zM26.4 16.8l-7.4.3.7 3.8 1.1-2.3 2.6 1.2 3-3zM10.5 19.8l2.6-1.2 1.1 2.3.7-3.8-7.4-.3 3 3z\"\n        style={st4}></path>\n      <path\n        d=\"M7.5 16.8l3.1 6.1-.1-3-3-3.1zM23.4 19.8l-.1 3 3.1-6.1-3 3.1zM14.9 17.1l-.7 3.8.9 4.5.2-5.9-.4-2.4zM18.9 17.1l-.4 2.4.2 5.9.9-4.5-.7-3.8z\"\n        style={st5}></path>\n      <path\n        d=\"M19.6 20.9l-.9 4.5.6.4 3.9-3 .1-3-3.7 1.1zM10.5 19.8l.1 3 3.9 3 .6-.4-.9-4.5-3.7-1.1z\"\n        style={st6}></path>\n      <path\n        d=\"M19.7 30v-1.2l-.3-.3h-5l-.3.3V30L10 28l1.5 1.2 2.9 2h5.1l3-2 1.4-1.2-4.2 2z\"\n        style={st7}></path>\n      <path\n        d=\"M19.4 25.8l-.6-.4h-3.7l-.6.4-.4 2.9.3-.3h5l.3.3-.3-2.9z\"\n        style={st8}></path>\n      <path\n        d=\"M32.6 10.5l1.1-5.4-1.7-5-12.6 9.4 4.9 4.1 6.9 2 1.5-1.8-.7-.4 1.1-1-.8-.6 1.1-.8-.8-.5zM.1 5.1l1.1 5.4-.7.5 1.1.8-.8.6 1.1 1-.7.5 1.5 1.8 6.9-2 4.9-4.1L1.8.1l-1.7 5z\"\n        style={st9}></path>\n      <path\n        d=\"M31.2 15.6l-6.9-2 2.1 3.1-3.1 6.1 4.1-.1h6.1l-2.3-7.1zM9.6 13.6l-6.9 2-2.3 7.1h6.1l4.1.1-3.1-6.1 2.1-3.1zM18.9 17.1l.4-7.6 2-5.4h-8.9l2 5.4.4 7.6.2 2.4v5.9h3.7v-5.9l.2-2.4z\"\n        style={st6}></path>\n    </svg>\n  );\n}\n","export default function WalletConnectSVG() {\n  return (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 300 185\">\n      <g fill=\"none\" fillRule=\"evenodd\" stroke=\"none\" strokeWidth=\"1\">\n        <g fill=\"#3B99FC\" fillRule=\"nonzero\">\n          <path d=\"M61.439 36.256c48.91-47.888 128.212-47.888 177.123 0l5.886 5.764a6.041 6.041 0 010 8.67l-20.136 19.716a3.179 3.179 0 01-4.428 0l-8.101-7.931c-34.122-33.408-89.444-33.408-123.566 0l-8.675 8.494a3.179 3.179 0 01-4.428 0L54.978 51.253a6.041 6.041 0 010-8.67l6.46-6.327zM280.206 77.03l17.922 17.547a6.041 6.041 0 010 8.67l-80.81 79.122c-2.446 2.394-6.41 2.394-8.856 0l-57.354-56.155a1.59 1.59 0 00-2.214 0L91.54 182.37c-2.446 2.394-6.411 2.394-8.857 0L1.872 103.247a6.041 6.041 0 010-8.671l17.922-17.547c2.445-2.394 6.41-2.394 8.856 0l57.355 56.155a1.59 1.59 0 002.214 0L145.57 77.03c2.446-2.394 6.41-2.395 8.856 0l57.355 56.155a1.59 1.59 0 002.214 0L271.35 77.03c2.446-2.394 6.41-2.394 8.856 0z\"></path>\n        </g>\n      </g>\n    </svg>\n  );\n}\n","import MetaMaskSVG from '../../assets/svg/MetaMaskSVG';\nimport WalletConnectSVG from '../../assets/svg/WalletConnectSVG';\n\nexport const svgWalletIcon: {\n  injected: JSX.Element;\n  walletconnect: JSX.Element;\n} = {\n  injected: <MetaMaskSVG />,\n  walletconnect: <WalletConnectSVG />,\n};\n","export default function LoaderWithEmoji() {\n  return (\n    <div className=\"loader--emoji\">\n      <span role=\"img\" aria-label=\"hourglass emoji\">\n        \n      </span>\n    </div>\n  );\n}\n","import React from 'react';\nimport ReactModal from 'react-modal';\n\nimport FadeIn from './FadeIn';\n\ntype ModalProps = {\n  children: React.ReactNode;\n  isOpen: boolean;\n  isOpenHandler: (isOpen: boolean) => void;\n  keyProp: string;\n  modalClassNames?: string;\n  styleProps?: Record<string, string>;\n};\n\nexport default function Modal({\n  children,\n  keyProp,\n  isOpen,\n  styleProps,\n  modalClassNames,\n  isOpenHandler,\n}: ModalProps) {\n  return (\n    <ReactModal\n      key={keyProp}\n      ariaHideApp={false}\n      className={`modal-container ${modalClassNames}`}\n      isOpen={isOpen}\n      onRequestClose={() => {\n        isOpenHandler(isOpen);\n      }}\n      overlayClassName=\"modal-overlay\"\n      role=\"dialog\"\n      style={\n        {\n          overlay: {zIndex: '99'},\n          ...styleProps,\n        } as any\n      }>\n      <FadeIn>\n        <div className=\"modal\">{children}</div>\n      </FadeIn>\n    </ReactModal>\n  );\n}\n","import React, {useState} from 'react';\nimport {isMobile} from 'react-device-detect';\nimport {useHistory} from 'react-router-dom';\n\nimport {CHAINS} from '../../config';\nimport {svgWalletIcon} from './WalletIcons';\nimport {truncateEthAddress} from '../../util/helpers';\nimport {useIsDefaultChain} from './hooks';\nimport {useWeb3Modal} from './hooks';\nimport LoaderWithEmoji from '../feedback/LoaderWithEmoji';\nimport Modal from '../common/Modal';\n\nimport TimesSVG from '../../assets/svg/TimesSVG';\n\ntype Web3ModalButtonProps = {\n  // determines whether button should show account badge or custom text to\n  // trigger wallet moodal\n  showWalletETHBadge?: boolean;\n  customWalletText?: string;\n};\n\ntype ConnectWalletProps = {\n  customWalletText?: string;\n  showWalletETHBadge?: boolean;\n};\nfunction ConnectWallet({\n  customWalletText,\n  showWalletETHBadge,\n}: ConnectWalletProps): JSX.Element {\n  /**\n   * Hooks\n   */\n\n  const {\n    account,\n    connected,\n    providerOptions,\n    onConnectTo,\n    onDisconnect,\n    networkId,\n    web3Modal,\n  } = useWeb3Modal();\n\n  const {defaultChain, defaultChainError, isDefaultChain} = useIsDefaultChain();\n\n  /**\n   * Their hooks\n   */\n\n  const history = useHistory();\n\n  /**\n   * State\n   */\n\n  const [openModal, setOpenModal] = useState<boolean>(false);\n\n  /**\n   * Variables\n   */\n\n  const isWrongNetwork: boolean = networkId !== defaultChain ?? isDefaultChain;\n  const isChainGanache = networkId === CHAINS.GANACHE;\n  const displayWalletText: string | undefined = getWalletText();\n\n  /**\n   * Functions\n   */\n\n  function getWalletText(): string {\n    if (isMobile) {\n      if (account) {\n        return truncateEthAddress(account);\n      } else {\n        return 'Connect';\n      }\n    } else {\n      if (showWalletETHBadge && account) {\n        return truncateEthAddress(account);\n      } else {\n        return customWalletText || '';\n      }\n    }\n  }\n\n  function handleNavigate(): void {\n    setOpenModal(false);\n    history.push(`/members/${account}`);\n  }\n\n  function displayProviders(): JSX.Element {\n    const providerOptionsFiltered = Object.entries(providerOptions).filter(\n      (p) => p[0] !== 'injected'\n    );\n    const maybeProviderOptions = isMobile\n      ? providerOptionsFiltered\n      : Object.entries(providerOptions);\n\n    const displayOptions: JSX.Element[] = maybeProviderOptions.map(\n      (provider: Record<number, any>) => (\n        <button\n          key={provider[0]}\n          className={`walletconnect__options-button \n            ${\n              connected && web3Modal?.cachedProvider === provider[0]\n                ? 'walletconnect__options-button--connected'\n                : ''\n            }`}\n          onClick={async () => await onConnectTo(provider[0])}\n          // disable WalletConnect button on Ganache network\n          disabled={isChainGanache && provider[0] === 'walletconnect'}>\n          <span className=\"wallet-name\">{provider[1].display.name}</span>\n\n          <ProviderSVG providerName={provider[0]} />\n        </button>\n      )\n    );\n\n    return (\n      <Modal\n        keyProp=\"web3modal\"\n        isOpen={openModal}\n        isOpenHandler={() => {\n          setOpenModal(false);\n        }}>\n        {/* MODEL CLOSE BUTTON */}\n        <span\n          className=\"modal__close-button\"\n          onClick={() => {\n            setOpenModal(false);\n          }}>\n          <TimesSVG />\n        </span>\n        <div>\n          {/* TITLE */}\n          <div className=\"modal__title\">Connect Wallet</div>\n\n          {/* SUBTITLE */}\n          {connected && isWrongNetwork ? null : (\n            <div className=\"modal__subtitle\">Choose Your Wallet</div>\n          )}\n\n          {/* CONNECTED ACCOUNT BUTTON LINK */}\n          {account && (\n            <button\n              className=\"walletconnect__connected-address-button\"\n              onClick={handleNavigate}>\n              {isMobile ? truncateEthAddress(account) : account}\n            </button>\n          )}\n\n          {/* SHOW; WRONG NETWORK MSG || PROVIDER OPTIONS */}\n          {connected && isWrongNetwork ? (\n            <DisplayChainError\n              defaultChainError={defaultChainError?.message || ''}\n            />\n          ) : (\n            <div className=\"walletconnect__options\">{displayOptions}</div>\n          )}\n\n          {/* DISCONNECT BUTTON LINK */}\n          {connected && (\n            <button\n              className=\"walletconnect__disconnect-link-button\"\n              onClick={onDisconnect}>\n              {'Disconnect Wallet'}\n            </button>\n          )}\n        </div>\n      </Modal>\n    );\n  }\n\n  return (\n    <>\n      <button\n        className={`walletconnect__connect-button \n        ${\n          isWrongNetwork && connected\n            ? 'walletconnect__connect-button--error'\n            : ''\n        }`}\n        onClick={() => {\n          setOpenModal(true);\n        }}>\n        <span\n          className={`connect-button-text ${\n            connected ? 'connect-button-text--ethAddress' : ''\n          }`}>\n          {displayWalletText || 'Connect'}\n        </span>\n\n        {showWalletETHBadge && isWrongNetwork && connected && (\n          <span>Wrong Network</span>\n        )}\n\n        {showWalletETHBadge && (\n          <ProviderSVG providerName={web3Modal?.cachedProvider} />\n        )}\n      </button>\n\n      {openModal && displayProviders()}\n    </>\n  );\n}\n\ntype ProviderSVGType = {\n  providerName: string;\n};\nfunction ProviderSVG({providerName}: ProviderSVGType): JSX.Element | null {\n  if (!providerName) return null;\n  return (\n    <span className=\"walletconnect__wallet-icon\">\n      {svgWalletIcon[providerName]}\n    </span>\n  );\n}\n\ntype DisplayChainErrorProps = {\n  defaultChainError: string;\n};\nfunction DisplayChainError({\n  defaultChainError,\n}: DisplayChainErrorProps): JSX.Element {\n  return (\n    <>\n      <div className=\"error-message\">\n        <small>{defaultChainError}</small>\n      </div>\n      <div>\n        <div style={{width: '3rem', margin: '0 auto'}}>\n          <LoaderWithEmoji />\n        </div>\n        <div>\n          <small>Waiting for the right network&hellip;</small>\n          <br />\n          <small>Switch networks from your wallet</small>\n        </div>\n      </div>\n    </>\n  );\n}\n\n/**\n * Web3ModalButton\n * @param props: Web3ModalButtonProps\n */\nexport default React.memo(function Web3ModalButton({\n  customWalletText,\n  showWalletETHBadge,\n}: Web3ModalButtonProps): JSX.Element {\n  return (\n    <ConnectWallet\n      customWalletText={customWalletText}\n      showWalletETHBadge={showWalletETHBadge}\n    />\n  );\n});\n","export default function HamburgerSVG() {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      aria-hidden=\"true\"\n      className=\"svg-inline--fa fa-bars fa-w-14 fa-3x\"\n      data-icon=\"bars\"\n      data-prefix=\"fal\"\n      viewBox=\"0 0 448 512\">\n      <path\n        fill=\"currentColor\"\n        d=\"M442 114H6a6 6 0 01-6-6V84a6 6 0 016-6h436a6 6 0 016 6v24a6 6 0 01-6 6zm0 160H6a6 6 0 01-6-6v-24a6 6 0 016-6h436a6 6 0 016 6v24a6 6 0 01-6 6zm0 160H6a6 6 0 01-6-6v-24a6 6 0 016-6h436a6 6 0 016 6v24a6 6 0 01-6 6z\"></path>\n    </svg>\n  );\n}\n","import React, {useState} from 'react';\nimport {Transition} from 'react-transition-group';\nimport ReactModal from 'react-modal';\nimport Media from 'react-media';\nimport {NavLink, useLocation, useHistory} from 'react-router-dom';\n\nimport Web3ModalButton from './web3/Web3ModalButton';\nimport {useWeb3Modal} from './web3/hooks';\nimport {ModalLogo} from './logo';\nimport TimesSVG from '../assets/svg/TimesSVG';\nimport HamburgerSVG from '../assets/svg/HamburgerSVG';\n\n// see: http://reactcommunity.org/react-transition-group/transition\nconst duration = 200;\n\nconst defaultStyle = {\n  transition: '0.1s',\n};\n\nconst transitionOpeningStyles: Record<string, any> = {\n  entering: {right: '-300px'},\n  entered: {right: 0},\n  exiting: {right: 0, opacity: 0},\n  exited: {right: '-300px', opacity: 0},\n};\n\nconst transitionClosingStyles: Record<string, any> = {\n  entering: {right: 0, opacity: 1},\n  entered: {right: '-300px', opacity: 1},\n  exiting: {right: '-300px', opacity: 1},\n  exited: {right: 0, opacity: 1},\n};\n\n// Nav links displayed on the landing page and main pages\nexport function NavLinks() {\n  return (\n    <nav role=\"navigation\" id=\"navigation\">\n      <ul className=\"nav__list\" data-testid=\"nav__list\">\n        <li tabIndex={0}>\n          <NavLink to=\"/membership\">\n            <span>Membership</span>\n          </NavLink>\n        </li>\n        <li tabIndex={0}>\n          <NavLink to=\"/governance-proposals\">\n            <span>Governance</span>\n          </NavLink>\n        </li>\n        <li tabIndex={0}>\n          <NavLink to=\"/transfers\">\n            <span>Transfer</span>\n          </NavLink>\n        </li>\n        <li tabIndex={0}>\n          <NavLink to=\"/tributes\">\n            <span>Tribute</span>\n          </NavLink>\n        </li>\n      </ul>\n    </nav>\n  );\n}\n\nexport default function Nav() {\n  /**\n   * State\n   */\n\n  const [shouldShowMenuModal, setShouldShowMenuModal] = useState(false);\n  const [transitionStyles, setTransitionStyles] = useState<Record<string, any>>(\n    transitionOpeningStyles\n  );\n\n  /**\n   * Their hooks\n   */\n\n  const location = useLocation();\n  const history = useHistory();\n\n  /**\n   * Our hooks\n   */\n\n  const {account} = useWeb3Modal();\n\n  /**\n   * Variables\n   */\n\n  const isIndexPath = location.pathname === '/';\n\n  /**\n   * Functions\n   */\n\n  function handleMenuModalClose(close: boolean) {\n    // delay transition for closing\n    if (close) {\n      setShouldShowMenuModal(close);\n      setTransitionStyles(transitionOpeningStyles);\n    } else {\n      setTransitionStyles(transitionClosingStyles);\n      const closeMenu = setTimeout(() => setShouldShowMenuModal(close), 500);\n      return () => clearTimeout(closeMenu);\n    }\n  }\n\n  /**\n   * Render\n   */\n\n  return (\n    <>\n      <Media query=\"(max-width: 62em)\">\n        {(matches: boolean) => (\n          <div className=\"nav-header\">\n            <div className=\"nav-header__menu-container\">\n              {/* NAV */}\n              {!isIndexPath && <NavLinks />}\n\n              <div tabIndex={0} className=\"nav__hamburger-wrapper\">\n                <div\n                  className=\"nav__hamburger\"\n                  aria-label=\"Menu\"\n                  aria-controls=\"navigation\"\n                  onClick={(event) => {\n                    event.preventDefault();\n                    handleMenuModalClose(true);\n                  }}>\n                  <HamburgerSVG />\n                </div>\n              </div>\n              <div className=\"nav-header__walletconnect-button-container\">\n                <Web3ModalButton showWalletETHBadge />\n              </div>\n            </div>\n          </div>\n        )}\n      </Media>\n      {/** MODAL MENU */}\n      <ReactModal\n        ariaHideApp={false}\n        className=\"nav-modal-container\"\n        isOpen={shouldShowMenuModal}\n        onRequestClose={() => {\n          handleMenuModalClose(false);\n        }}\n        overlayClassName=\"nav-modal-overlay\"\n        role=\"dialog\"\n        style={{overlay: {zIndex: '99'}} as any}>\n        <Transition appear in={shouldShowMenuModal} timeout={duration}>\n          {(transition) => (\n            <nav role=\"navigation\" id=\"navigation\">\n              <div\n                style={{\n                  ...defaultStyle,\n                  ...transitionStyles[transition],\n                }}\n                className=\"nav-modal\">\n                <button\n                  className=\"modal__close-button modal__close-button--icon\"\n                  onClick={(event) => {\n                    event.preventDefault();\n                    handleMenuModalClose(false);\n                  }}>\n                  <TimesSVG />\n                </button>\n\n                <ModalLogo />\n\n                <div className=\"nav-modal__walletconnect-button-container\">\n                  <Web3ModalButton showWalletETHBadge />\n                  {/* @todo Display Join button only if user is not a member */}\n                  <button\n                    className=\"button\"\n                    onClick={() => {\n                      handleMenuModalClose(false);\n                      history.push('/join');\n                    }}>\n                    Join\n                  </button>\n                </div>\n                <ul className=\"nav__list\">\n                  <li\n                    onClick={() => {\n                      handleMenuModalClose(false);\n                    }}>\n                    <NavLink to=\"/membership\">\n                      <span>Membership</span>\n                    </NavLink>\n                  </li>\n                  <li\n                    onClick={() => {\n                      handleMenuModalClose(false);\n                    }}>\n                    <NavLink to=\"/governance-proposals\">\n                      <span>Governance</span>\n                    </NavLink>\n                  </li>\n                  <li\n                    onClick={() => {\n                      handleMenuModalClose(false);\n                    }}>\n                    <NavLink to=\"/transfers\">\n                      <span>Transfer</span>\n                    </NavLink>\n                  </li>\n                  <li\n                    onClick={() => {\n                      handleMenuModalClose(false);\n                    }}>\n                    <NavLink to=\"/tributes\">\n                      <span>Tribute</span>\n                    </NavLink>\n                  </li>\n                  <li\n                    onClick={() => {\n                      handleMenuModalClose(false);\n                    }}>\n                    {/* @todo Add docs link when it's ready */}\n                    {/* eslint-disable-next-line jsx-a11y/anchor-is-valid */}\n                    <a href=\"#\" rel=\"noopener noreferrer\" target=\"_blank\">\n                      <span>Help</span>\n                    </a>\n                  </li>\n                  {/* @todo Display Profile link only if user is an active member */}\n                  {account && (\n                    <li\n                      className=\"link-separated\"\n                      onClick={() => {\n                        handleMenuModalClose(false);\n                      }}>\n                      <NavLink to={`/members/${account}`}>\n                        <span>Profile</span>\n                      </NavLink>\n                    </li>\n                  )}\n                </ul>\n              </div>\n            </nav>\n          )}\n        </Transition>\n      </ReactModal>\n    </>\n  );\n}\n","import React from 'react';\nimport {Link, useLocation} from 'react-router-dom';\n\nimport {LeftLogo} from './logo';\nimport Nav from './Nav';\n\nexport default function Header() {\n  /**\n   * Variables\n   */\n\n  const location = useLocation();\n  const isIndexPath = location.pathname === '/';\n\n  /**\n   * Functions\n   */\n\n  // Don't display header if we're on the index page\n  if (isIndexPath) return null;\n\n  // Render the location with a link\n  function RenderLogo(props: React.PropsWithChildren<any>) {\n    return <Link to=\"/\">{props.children}</Link>;\n  }\n\n  return (\n    <>\n      <header className=\"header\">\n        <RenderLogo>\n          <LeftLogo />\n        </RenderLogo>\n\n        <div className=\"header__nav-container\">\n          <Nav />\n        </div>\n      </header>\n    </>\n  );\n}\n","import React from 'react';\nimport {Helmet} from 'react-helmet';\n\nexport default function Head() {\n  return (\n    <Helmet>\n      <title>MOLOCH v3</title>\n      <meta\n        name=\"description\"\n        content=\"A modular DAO framework developed and coordinated by its members\"\n      />\n    </Helmet>\n  );\n}\n","import React, {ReactNode} from 'react';\n\ninterface WrapProps {\n  children: ReactNode;\n  className?: string;\n}\n\nconst Wrap = ({\n  children,\n  ...rest\n}: WrapProps & React.HTMLAttributes<HTMLDivElement>) => (\n  <div style={{position: 'relative'}} {...rest}>\n    {children}\n  </div>\n);\n\nexport default Wrap;\n","import React, {useEffect} from 'react';\nimport {useHistory} from 'react-router-dom';\nimport AOS from 'aos';\nimport '../../../node_modules/aos/dist/aos.css';\n\nimport {CenterLogo} from '../../components/logo';\nimport {NavLinks} from '../../components/Nav';\nimport FadeIn from '../../components/common/FadeIn';\nimport Wrap from '../../components/common/Wrap';\n\nconst MolochV3Cube = React.memo(() => {\n  return (\n    <div\n      className=\"cube\"\n      data-testid=\"cube\"\n      data-aos=\"fade-up\"\n      data-aos-delay=\"150\">\n      <div className=\"cube__segment--top\"></div>\n      <div className=\"cube__segment--left\"></div>\n      <div className=\"cube__segment--right\"></div>\n    </div>\n  );\n});\n\nexport default function GetStarted() {\n  /**\n   * Their hooks\n   */\n\n  const history = useHistory();\n\n  /**\n   * Effects\n   */\n\n  useEffect(() => {\n    AOS.init({\n      duration: 800,\n      offset: 40,\n      delay: 120,\n      mirror: false,\n      once: true,\n    });\n  }, []);\n\n  return (\n    <Wrap className=\"section-wrapper\">\n      <FadeIn>\n        <header className=\"header\">\n          <CenterLogo />\n        </header>\n\n        <div className=\"landing\">\n          <div className=\"landing__subtitle\">\n            <p>For the ongoing development of Moloch v3</p>\n          </div>\n\n          <div className=\"landing__img\">\n            <MolochV3Cube />\n          </div>\n\n          <div className=\"landing__button\">\n            {/* @todo Display Join button only if user is not a member */}\n            <button\n              className=\"button\"\n              onClick={() => {\n                history.push('/join');\n              }}>\n              Join\n            </button>\n          </div>\n\n          <div className=\"landing__navlinks\">\n            <NavLinks />\n          </div>\n        </div>\n      </FadeIn>\n    </Wrap>\n  );\n}\n","import React from 'react';\n\nimport FadeIn from './FadeIn';\n\ntype InputErrorProps = {\n  error: string;\n};\n\nexport default function InputError(\n  props: InputErrorProps & React.HtmlHTMLAttributes<HTMLParagraphElement>\n) {\n  const {error, ...restProps} = props;\n\n  return (\n    <>\n      {error && (\n        <FadeIn>\n          <p\n            {...restProps}\n            className={`error-message ${restProps.className || ''}`}>\n            {error}\n          </p>\n        </FadeIn>\n      )}\n    </>\n  );\n}\n","import React, {useState, useCallback, useEffect} from 'react';\nimport {SnapshotType} from '@openlaw/snapshot-js-erc712';\nimport {useForm} from 'react-hook-form';\nimport {useSelector} from 'react-redux';\nimport Web3 from 'web3';\n\nimport {\n  getValidationError,\n  stripFormatNumber,\n  formatNumber,\n  formatDecimal,\n} from '../../util/helpers';\nimport {\n  useContractSend,\n  useETHGasPrice,\n  useIsDefaultChain,\n} from '../../components/web3/hooks';\nimport {ContractAdapterNames, Web3TxStatus} from '../../components/web3/types';\nimport {FormFieldErrors} from '../../util/enums';\nimport {isEthAddressValid} from '../../util/validation';\nimport {SHARES_ADDRESS} from '../../config';\nimport {StoreState} from '../../store/types';\nimport {TX_CYCLE_MESSAGES} from '../../components/web3/config';\nimport {useHistory} from 'react-router-dom';\nimport {useSignAndSubmitProposal} from '../../components/proposals/hooks';\nimport {useWeb3Modal} from '../../components/web3/hooks';\nimport CycleMessage from '../../components/feedback/CycleMessage';\nimport ErrorMessageWithDetails from '../../components/common/ErrorMessageWithDetails';\nimport EtherscanURL from '../../components/web3/EtherscanURL';\nimport FadeIn from '../../components/common/FadeIn';\nimport InputError from '../../components/common/InputError';\nimport Loader from '../../components/feedback/Loader';\nimport Wrap from '../../components/common/Wrap';\n\nenum Fields {\n  ethAddress = 'ethAddress',\n  ethAmount = 'ethAmount',\n}\n\ntype FormInputs = {\n  ethAddress: string;\n  ethAmount: string;\n};\n\ntype OnboardArguments = [\n  string, // `dao`\n  string, // `proposalId`\n  string, // `applicant`\n  string, // `tokenToMint`\n  string // `tokenAmount`\n];\n\ntype UserAccountBalance = {\n  wei: string;\n  eth: string;\n};\n\nexport default function CreateMembershipProposal() {\n  /**\n   * Selectors\n   */\n\n  const OnboardingContract = useSelector(\n    (state: StoreState) => state.contracts?.OnboardingContract\n  );\n  const DaoRegistryContract = useSelector(\n    (state: StoreState) => state.contracts?.DaoRegistryContract\n  );\n\n  /**\n   * Hooks\n   */\n\n  const {defaultChainError} = useIsDefaultChain();\n  const {connected, account, web3Instance} = useWeb3Modal();\n  const gasPrices = useETHGasPrice();\n  const {\n    txError,\n    txEtherscanURL,\n    txIsPromptOpen,\n    txSend,\n    txStatus,\n  } = useContractSend();\n\n  const {\n    proposalData,\n    proposalSignAndSendStatus,\n    signAndSendProposal,\n  } = useSignAndSubmitProposal<SnapshotType.draft>();\n\n  /**\n   * Their hooks\n   */\n\n  const form = useForm<FormInputs>({\n    mode: 'onBlur',\n    reValidateMode: 'onChange',\n  });\n  const history = useHistory();\n\n  /**\n   * State\n   */\n\n  const [submitError, setSubmitError] = useState<Error>();\n  const [\n    userAccountBalance,\n    setUserAccountBalance,\n  ] = useState<UserAccountBalance>();\n\n  /**\n   * Variables\n   */\n\n  const {errors, getValues, setValue, register, trigger} = form;\n\n  const createMemberError = submitError || txError;\n  const isConnected = connected && account;\n\n  const isInProcess =\n    txStatus === Web3TxStatus.AWAITING_CONFIRM ||\n    txStatus === Web3TxStatus.PENDING ||\n    proposalSignAndSendStatus === Web3TxStatus.AWAITING_CONFIRM ||\n    proposalSignAndSendStatus === Web3TxStatus.PENDING;\n\n  const isDone =\n    txStatus === Web3TxStatus.FULFILLED &&\n    proposalSignAndSendStatus === Web3TxStatus.FULFILLED;\n\n  const isInProcessOrDone = isInProcess || isDone || txIsPromptOpen;\n\n  /**\n   * Cached callbacks\n   */\n\n  const getUserAccountBalanceCached = useCallback(getUserAccountBalance, [\n    account,\n    web3Instance,\n  ]);\n\n  /**\n   * Effects\n   */\n\n  useEffect(() => {\n    getUserAccountBalanceCached();\n  }, [getUserAccountBalanceCached]);\n\n  // Set the value of `ethAddress` if the `account` changes\n  useEffect(() => {\n    setValue(Fields.ethAddress, account);\n  }, [account, setValue]);\n\n  /**\n   * Functions\n   */\n\n  async function getUserAccountBalance() {\n    if (!web3Instance || !account) {\n      setUserAccountBalance(undefined);\n      return;\n    }\n\n    try {\n      // Ether wallet balance\n      const accountBalanceInWei = await web3Instance.eth.getBalance(account);\n      setUserAccountBalance({\n        wei: accountBalanceInWei,\n        eth: web3Instance.utils.fromWei(accountBalanceInWei),\n      });\n    } catch (error) {\n      setUserAccountBalance(undefined);\n    }\n  }\n\n  async function handleSubmit(values: FormInputs) {\n    try {\n      if (!isConnected) {\n        throw new Error(\n          'No user account was found. Please makes sure your wallet is connected.'\n        );\n      }\n\n      if (!OnboardingContract) {\n        throw new Error('No OnboardingContract found.');\n      }\n\n      if (!DaoRegistryContract) {\n        throw new Error('No DaoRegistryContract found.');\n      }\n\n      if (!account) {\n        throw new Error('No account found.');\n      }\n\n      // Maybe set proposal ID from previous attempt\n      let proposalId: string = proposalData?.uniqueId || '';\n\n      const {ethAddress, ethAmount} = values;\n      const ethAmountInWei = Web3.utils.toWei(\n        stripFormatNumber(ethAmount),\n        'ether'\n      );\n\n      // Only submit to snapshot if there is not already a proposal ID returned from a previous attempt.\n      if (!proposalId) {\n        // Sign and submit draft for snapshot-hub\n        const {uniqueId} = await signAndSendProposal({\n          partialProposalData: {\n            name: ethAddress,\n            body: `Membership for ${ethAddress}.`,\n            metadata: {amountUnit: 'ETH'},\n          },\n          adapterName: ContractAdapterNames.onboarding,\n          type: SnapshotType.draft,\n        });\n\n        proposalId = uniqueId;\n      }\n\n      const onboardArguments: OnboardArguments = [\n        DaoRegistryContract.contractAddress,\n        proposalId,\n        ethAddress,\n        SHARES_ADDRESS,\n        ethAmountInWei,\n      ];\n\n      const txArguments = {\n        from: account || '',\n        value: ethAmountInWei,\n        // Set a fast gas price\n        ...(gasPrices ? {gasPrice: gasPrices.fast} : null),\n      };\n\n      // Execute contract call for `onboard`\n      await txSend(\n        'onboard',\n        OnboardingContract.instance.methods,\n        onboardArguments,\n        txArguments\n      );\n\n      // go to MemberDetails page for newly created member proposal\n      history.push(`/membership/${proposalId}`);\n    } catch (error) {\n      // Set any errors from Web3 utils or explicitly set above.\n      setSubmitError(error);\n    }\n  }\n\n  function renderSubmitStatus(): React.ReactNode {\n    // Either Snapshot or chain tx\n    if (\n      txStatus === Web3TxStatus.AWAITING_CONFIRM ||\n      proposalSignAndSendStatus === Web3TxStatus.AWAITING_CONFIRM\n    ) {\n      return 'Awaiting your confirmation\\u2026';\n    }\n\n    // Only for chain tx\n    switch (txStatus) {\n      case Web3TxStatus.PENDING:\n        return (\n          <>\n            <CycleMessage\n              intervalMs={2000}\n              messages={TX_CYCLE_MESSAGES}\n              useFirstItemStart\n              render={(message) => {\n                return <FadeIn key={message}>{message}</FadeIn>;\n              }}\n            />\n\n            <EtherscanURL url={txEtherscanURL} isPending />\n          </>\n        );\n      case Web3TxStatus.FULFILLED:\n        return (\n          <>\n            <div>Proposal submitted!</div>\n\n            <EtherscanURL url={txEtherscanURL} />\n          </>\n        );\n      default:\n        return null;\n    }\n  }\n\n  /**\n   * Render\n   */\n\n  // Render wallet auth message if user is not connected\n  if (!isConnected) {\n    return (\n      <RenderWrapper>\n        <div className=\"form__description--unauthorized\">\n          <p>Connect your wallet to submit a member proposal.</p>\n        </div>\n      </RenderWrapper>\n    );\n  }\n\n  // Render wrong network message if user is on wrong network\n  if (defaultChainError) {\n    return (\n      <RenderWrapper>\n        <div className=\"form__description--unauthorized\">\n          <p>{defaultChainError.message}</p>\n        </div>\n      </RenderWrapper>\n    );\n  }\n\n  return (\n    <RenderWrapper>\n      <form className=\"form\" onSubmit={(e) => e.preventDefault()}>\n        {/* ETH ADDRESS */}\n        <div className=\"form__input-row\">\n          <label className=\"form__input-row-label\" htmlFor={Fields.ethAddress}>\n            Applicant Address\n          </label>\n          <div className=\"form__input-row-fieldwrap\">\n            {/* @note We don't need the default value as it's handled in the useEffect above. */}\n            <input\n              aria-describedby={`error-${Fields.ethAddress}`}\n              aria-invalid={errors.ethAddress ? 'true' : 'false'}\n              id={Fields.ethAddress}\n              name={Fields.ethAddress}\n              ref={register({\n                validate: (ethAddress: string): string | boolean => {\n                  return !ethAddress\n                    ? FormFieldErrors.REQUIRED\n                    : !isEthAddressValid(ethAddress)\n                    ? FormFieldErrors.INVALID_ETHEREUM_ADDRESS\n                    : true;\n                },\n              })}\n              type=\"text\"\n              disabled={isInProcessOrDone}\n            />\n\n            <InputError\n              error={getValidationError(Fields.ethAddress, errors)}\n              id={`error-${Fields.ethAddress}`}\n            />\n          </div>\n        </div>\n\n        {/* ETH AMOUNT */}\n        <div className=\"form__input-row\">\n          <label className=\"form__input-row-label\" htmlFor={Fields.ethAmount}>\n            Amount\n          </label>\n          <div className=\"form__input-row-fieldwrap--narrow\">\n            <div className=\"input__suffix-wrap\">\n              <input\n                className=\"input__suffix\"\n                aria-describedby={`error-${Fields.ethAmount}`}\n                aria-invalid={errors.ethAmount ? 'true' : 'false'}\n                id={Fields.ethAmount}\n                name={Fields.ethAmount}\n                onChange={() =>\n                  setValue(\n                    Fields.ethAmount,\n                    formatNumber(getValues().ethAmount)\n                  )\n                }\n                ref={register({\n                  validate: (value: string): string | boolean => {\n                    const amount = Number(stripFormatNumber(value));\n\n                    return value === ''\n                      ? FormFieldErrors.REQUIRED\n                      : isNaN(amount)\n                      ? FormFieldErrors.INVALID_NUMBER\n                      : amount <= 0\n                      ? 'The value must be greater than 0 ETH.'\n                      : amount >= Number(userAccountBalance?.eth)\n                      ? 'Insufficient funds.'\n                      : true;\n                  },\n                })}\n                type=\"text\"\n                disabled={isInProcessOrDone}\n              />\n              <div className=\"input__suffix-item\">ETH</div>\n            </div>\n\n            <InputError\n              error={getValidationError(Fields.ethAmount, errors)}\n              id={`error-${Fields.ethAmount}`}\n            />\n          </div>\n          <div className=\"form__input-addon\">\n            available:{' '}\n            <span className=\"text-underline\">\n              {userAccountBalance\n                ? formatDecimal(Number(userAccountBalance.eth))\n                : '---'}{' '}\n              ETH\n            </span>\n          </div>\n        </div>\n\n        {/* SUBMIT */}\n        <button\n          aria-label={isInProcess ? 'Submitting your proposal.' : ''}\n          className=\"button\"\n          disabled={isInProcessOrDone}\n          onClick={async () => {\n            if (isInProcessOrDone) return;\n\n            if (!(await trigger())) {\n              return;\n            }\n\n            handleSubmit(getValues());\n          }}\n          type=\"submit\">\n          {isInProcess ? <Loader /> : isDone ? 'Done' : 'Submit'}\n        </button>\n\n        {/* SUBMIT STATUS */}\n        {isInProcessOrDone && (\n          <div className=\"form__submit-status-container\">\n            {renderSubmitStatus()}\n          </div>\n        )}\n\n        {/* SUBMIT ERROR */}\n        {createMemberError && (\n          <div className=\"form__submit-error-container\">\n            <ErrorMessageWithDetails\n              renderText=\"Something went wrong while submitting the proposal.\"\n              error={createMemberError}\n            />\n          </div>\n        )}\n      </form>\n    </RenderWrapper>\n  );\n}\n\nfunction RenderWrapper(props: React.PropsWithChildren<any>): JSX.Element {\n  /**\n   * Render\n   */\n\n  return (\n    <Wrap className=\"section-wrapper\">\n      <FadeIn>\n        <div className=\"titlebar\">\n          <h2 className=\"titlebar__title\">Join</h2>\n        </div>\n\n        <div className=\"form-wrapper\">\n          <div className=\"form__description\">\n            <p>\n              Nulla aliquet porttitor venenatis. Donec a dui et dui fringilla\n              consectetur id nec massa. Aliquam erat volutpat. Sed ut dui ut\n              lacus dictum fermentum vel tincidunt neque. Sed sed lacinia...\n            </p>\n          </div>\n\n          {/* RENDER CHILDREN */}\n          {props.children}\n        </div>\n      </FadeIn>\n    </Wrap>\n  );\n}\n","import React from 'react';\nimport {useHistory} from 'react-router-dom';\n\nimport {ProposalHeaderNames} from '../../util/enums';\n// import {truncateEthAddress} from '../../util/helpers';\nimport Wrap from '../../components/common/Wrap';\nimport FadeIn from '../../components/common/FadeIn';\n// import ProposalCard from '../../components/proposals/ProposalCard';\n// import {\n//   fakeMembershipProposalsVoting,\n//   fakeMembershipProposalsRequest,\n//   fakeMembershipProposalsPassed,\n//   fakeMembershipProposalsFailed,\n//   FakeProposal,\n// } from '../../components/proposals/_mockData';\n\nexport default function Membership() {\n  /**\n   * Their hooks\n   */\n\n  // const history = useHistory();\n\n  /**\n   * Variables\n   */\n\n  const votingProposals = /* renderProposalCards(fakeMembershipProposalsVoting) */ [] as any;\n  const requestProposals = /* renderProposalCards(fakeMembershipProposalsRequest) */ [] as any;\n  const passedProposals = /* renderProposalCards(fakeMembershipProposalsPassed) */ [] as any;\n  const failedProposals = /* renderProposalCards(fakeMembershipProposalsFailed) */ [] as any;\n\n  /**\n   * Functions\n   */\n\n  /* function renderProposalCards(proposals: FakeProposal[]) {\n    return proposals.map((proposal) => {\n      return (\n        <ProposalCard\n          key={proposal.snapshotProposal.hash}\n          onClick={handleClickProposalDetails(proposal.snapshotProposal.hash)}\n          proposal={proposal}\n          name={truncateEthAddress(proposal.snapshotProposal.name, 7)}\n        />\n      );\n    });\n  } */\n\n  /* function handleClickProposalDetails(proposalHash: string) {\n    return () => {\n      if (!proposalHash) return;\n\n      history.push(`/membership/${proposalHash}`);\n    };\n  } */\n\n  /**\n   * Render\n   */\n\n  return (\n    <RenderWrapper>\n      <div className=\"grid--fluid grid-container\">\n        {/* VOTING PROPOSALS */}\n        {votingProposals.length > 0 && (\n          <>\n            <div className=\"grid__header\">{ProposalHeaderNames.VOTING}</div>\n            <div className=\"grid__cards\">{votingProposals}</div>\n          </>\n        )}\n\n        {/* PENDING PROPOSALS (DRAFTS, NOT SPONSORED) */}\n        {requestProposals.length > 0 && (\n          <>\n            <div className=\"grid__header\">{ProposalHeaderNames.REQUESTS}</div>\n            <div className=\"grid__cards\">{requestProposals}</div>\n          </>\n        )}\n\n        {/* PASSED PROPOSALS */}\n        {passedProposals.length > 0 && (\n          <>\n            <div className=\"grid__header\">{ProposalHeaderNames.PASSED}</div>\n            <div className=\"grid__cards\">{passedProposals}</div>\n          </>\n        )}\n\n        {/* FAILED PROPOSALS */}\n        {failedProposals.length > 0 && (\n          <>\n            <div className=\"grid__header\">{ProposalHeaderNames.FAILED}</div>\n            <div className=\"grid__cards\">{failedProposals}</div>\n          </>\n        )}\n      </div>\n    </RenderWrapper>\n  );\n}\n\nfunction RenderWrapper(props: React.PropsWithChildren<any>): JSX.Element {\n  /**\n   * Their hooks\n   */\n\n  const history = useHistory();\n\n  /**\n   * Functions\n   */\n\n  function viewMembers(event: React.MouseEvent<HTMLButtonElement>) {\n    event.preventDefault();\n    history.push('/members');\n  }\n\n  /**\n   * Render\n   */\n\n  return (\n    <Wrap className=\"section-wrapper\">\n      <FadeIn>\n        <div className=\"titlebar\">\n          <h2 className=\"titlebar__title\">Membership</h2>\n          <button className=\"titlebar__action\" onClick={viewMembers}>\n            View members\n          </button>\n        </div>\n        {/* RENDER CHILDREN */}\n        @TODO\n        {props.children}\n      </FadeIn>\n    </Wrap>\n  );\n}\n","import React from 'react';\n\nimport Wrap from '../../components/common/Wrap';\nimport FadeIn from '../../components/common/FadeIn';\n\nexport default function NotFound() {\n  return (\n    <Wrap className=\"section-wrapper\">\n      <FadeIn>\n        <div style={{textAlign: 'center', fontSize: '5rem'}}>\n          <h3>\n            4\n            <span\n              className=\"pulse\"\n              role=\"img\"\n              aria-label=\"404, not found\"\n              style={{display: 'inline-block'}}>\n              \n            </span>\n            4\n          </h3>\n        </div>\n      </FadeIn>\n    </Wrap>\n  );\n}\n","import {lazy, Suspense} from 'react';\nimport {useSelector} from 'react-redux';\n\nimport {ContractAdapterNames} from '../web3/types';\nimport {CycleEllipsis} from '../feedback';\nimport {ProposalData} from './types';\nimport {StoreState} from '../../store/types';\nimport {VotingAdapterName} from '../adapters-extensions/enums';\nimport ErrorMessageWithDetails from '../common/ErrorMessageWithDetails';\n\ntype ProposalActionsProps = {\n  adapterName: ContractAdapterNames;\n  proposal: ProposalData;\n};\n\n/**\n * Lazy load action component tree\n */\nconst ProposalWithOffchainVoteActions = lazy(\n  () => import('./ProposalWithOffchainVoteActions')\n);\n\nconst fadeInProps = {duration: 150};\nconst cycleEllipsisStyles = {\n  display: 'inline-block',\n  width: '100%',\n  fontSize: '1.5rem',\n};\n\nexport default function ProposalActions(\n  props: ProposalActionsProps\n): JSX.Element {\n  const {adapterName, proposal} = props;\n\n  const votingAdapterName = useSelector(\n    (s: StoreState) => s.contracts.VotingContract?.adapterOrExtensionName\n  );\n\n  function renderActions() {\n    if (!votingAdapterName) {\n      return <></>;\n    }\n\n    switch (votingAdapterName) {\n      case VotingAdapterName.OffchainVotingContract:\n        return (\n          <ProposalWithOffchainVoteActions\n            adapterName={adapterName}\n            proposal={proposal}\n          />\n        );\n      // @todo On-chain Voting\n      // case VotingAdapterName.VotingContract:\n      //   return <></>\n      default:\n        const error = new Error(\n          `\"${votingAdapterName}\" is not a valid voting adapter name.`\n        );\n\n        return (\n          <ErrorMessageWithDetails\n            error={error}\n            renderText=\"Something went wrong\"\n          />\n        );\n    }\n  }\n\n  return (\n    <Suspense\n      fallback={\n        <span className=\"text-center\" style={cycleEllipsisStyles}>\n          <CycleEllipsis intervalMs={200} fadeInProps={fadeInProps} />\n        </span>\n      }>\n      {renderActions()}\n    </Suspense>\n  );\n}\n","type ProposalAmountProps = {\n  /**\n   * Amount in WEI\n   */\n  amount: string;\n  amountUnit: string;\n  amount2?: string;\n  amount2Unit?: string;\n};\n\nexport default function ProposalAmount(props: ProposalAmountProps) {\n  const {amount, amountUnit, amount2, amount2Unit} = props;\n\n  /**\n   * Render\n   */\n\n  return (\n    <div className=\"proposaldetails__amount\">\n      <span>\n        {`${amount} ${amountUnit}`}\n        {/* assumes second amount is value requested from the DAO */}\n        {amount2 && (\n          <>\n            <br />\n            <small>for</small>\n            <br />\n            {`${amount2} ${amount2Unit}`}\n          </>\n        )}\n      </span>\n    </div>\n  );\n}\n","import {ProposalData} from './types';\n\nimport {truncateEthAddress} from '../../util/helpers';\n\ntype ProposalDetailsProps = {\n  proposal: ProposalData;\n  /**\n   * A render prop to render amount(s) badge.\n   */\n  renderAmountBadge?: () => React.ReactNode;\n  /**\n   * A render prop to render any action button flows for a proposal.\n   */\n  renderActions: () => React.ReactNode;\n};\n\nexport default function ProposalDetails(props: ProposalDetailsProps) {\n  const {proposal, renderAmountBadge, renderActions} = props;\n\n  const commonData = proposal.getCommonSnapshotProposalData();\n\n  /**\n   * Render\n   */\n\n  if (!commonData) {\n    return null;\n  }\n\n  return (\n    <>\n      <div className=\"proposaldetails__header\">Proposal Details</div>\n      <div className=\"proposaldetails\">\n        {/* PROPOSAL NAME (an address in most cases) AND BODY */}\n        <div className=\"proposaldetails__content\">\n          <h3>{truncateEthAddress(commonData.msg.payload.name || '', 7)}</h3>\n\n          <p>{commonData.msg.payload.body}</p>\n        </div>\n\n        {/* SIDEBAR */}\n        <div className=\"proposaldetails__status\">\n          {/* AMOUNT(S) IF RELEVANT FOR PROPOSAL */}\n          {renderAmountBadge && renderAmountBadge()}\n\n          {/* SPONSOR & VOTING ACTIONS */}\n          {renderActions()}\n        </div>\n      </div>\n    </>\n  );\n}\n","import React from 'react';\nimport {useHistory, useParams} from 'react-router-dom';\nimport Web3 from 'web3';\n\nimport {AsyncStatus} from '../../util/types';\nimport {ContractAdapterNames} from '../../components/web3/types';\nimport {formatDecimal} from '../../util/helpers';\nimport {useProposalOrDraft} from '../../components/proposals/hooks';\nimport ErrorMessageWithDetails from '../../components/common/ErrorMessageWithDetails';\nimport FadeIn from '../../components/common/FadeIn';\nimport LoaderWithEmoji from '../../components/feedback/LoaderWithEmoji';\nimport NotFound from '../subpages/NotFound';\nimport ProposalActions from '../../components/proposals/ProposalActions';\nimport ProposalAmount from '../../components/proposals/ProposalAmount';\nimport ProposalDetails from '../../components/proposals/ProposalDetails';\nimport Wrap from '../../components/common/Wrap';\n\nexport default function MembershipDetails() {\n  /**\n   * @todo\n   *\n   * 1. Fetch proposal by ID from the subgraph.\n   * 2. Determine if sponsored\n   * 3. Get Snapshot data\n   *   3.1 If sponsored, get data about proposal from Snapshot (use flag to also search by draft hash).\n   *   3.2 If not sponsored, get data about draft from Snapshot.\n   */\n\n  /**\n   * Their hooks\n   */\n\n  // Get hash for fetching the proposal.\n  const {proposalId} = useParams<{proposalId: string}>();\n\n  /**\n   * @todo Get subgraph proposal and determine if it has been sponsored\n   *   so we know how to search snapshot-hub.\n   */\n\n  // ...\n\n  /**\n   * Our hooks\n   */\n\n  // @todo Use dynamic `SnapshotType` depending on subgraph data for `type` arg.\n  const {\n    proposalData,\n    proposalError,\n    proposalNotFound,\n    proposalStatus,\n  } = useProposalOrDraft(proposalId);\n\n  /**\n   * Render\n   */\n\n  // Render loading\n  if (proposalStatus === AsyncStatus.PENDING) {\n    return (\n      <RenderWrapper>\n        <div style={{width: '3rem', margin: '0 auto'}}>\n          <LoaderWithEmoji />\n        </div>\n      </RenderWrapper>\n    );\n  }\n\n  // Render 404 no proposal found\n  if (proposalNotFound) {\n    return (\n      <RenderWrapper>\n        <NotFound />\n      </RenderWrapper>\n    );\n  }\n\n  // Render error\n  if (proposalStatus === AsyncStatus.REJECTED || proposalError) {\n    return (\n      <RenderWrapper>\n        <div className=\"text-center\">\n          <ErrorMessageWithDetails\n            error={proposalError}\n            renderText=\"Something went wrong.\"\n          />\n        </div>\n      </RenderWrapper>\n    );\n  }\n\n  // Render proposal\n  if (proposalData) {\n    const {daoProposal} = proposalData;\n    const commonData = proposalData.getCommonSnapshotProposalData();\n\n    // @todo use amount from proposal.subgraphproposal\n    let amount = '\\u2026';\n    try {\n      amount = formatDecimal(\n        Number(Web3.utils.fromWei(daoProposal?.amount, 'ether'))\n      );\n    } catch (error) {\n      amount = '\\u2026';\n    }\n\n    return (\n      <RenderWrapper>\n        <ProposalDetails\n          proposal={proposalData}\n          renderAmountBadge={() => (\n            <ProposalAmount\n              amount={amount}\n              amountUnit={commonData?.msg.payload.metadata.amountUnit}\n            />\n          )}\n          renderActions={() => (\n            <ProposalActions\n              adapterName={ContractAdapterNames.onboarding}\n              proposal={proposalData}\n            />\n          )}\n        />\n      </RenderWrapper>\n    );\n  }\n\n  // Render nothing. Should never reach this case.\n  return <></>;\n}\n\nfunction RenderWrapper(props: React.PropsWithChildren<any>): JSX.Element {\n  /**\n   * Their hooks\n   */\n\n  const history = useHistory();\n\n  /**\n   * Functions\n   */\n\n  function goToAll(event: React.MouseEvent<HTMLButtonElement>) {\n    event.preventDefault();\n\n    history.push('/membership');\n  }\n\n  /**\n   * Render\n   */\n\n  return (\n    <Wrap className=\"section-wrapper\">\n      <FadeIn>\n        <div className=\"titlebar\">\n          <h2 className=\"titlebar__title\">Membership</h2>\n          <button className=\"titlebar__action\" onClick={goToAll}>\n            View all\n          </button>\n        </div>\n\n        {/* RENDER CHILDREN */}\n        {props.children}\n      </FadeIn>\n    </Wrap>\n  );\n}\n","import React, {useState, useCallback, useEffect} from 'react';\nimport {\n  SnapshotType,\n  SnapshotProposalData,\n  prepareVoteProposalData,\n} from '@openlaw/snapshot-js-erc712';\nimport {useForm} from 'react-hook-form';\nimport {useSelector} from 'react-redux';\nimport {useHistory} from 'react-router-dom';\nimport {toBN, AbiItem, toWei} from 'web3-utils';\n\nimport {ETH_TOKEN_ADDRESS, GUILD_ADDRESS, SHARES_ADDRESS} from '../../config';\nimport {\n  getValidationError,\n  stripFormatNumber,\n  formatNumber,\n  formatDecimal,\n} from '../../util/helpers';\nimport {\n  useContractSend,\n  useETHGasPrice,\n  useIsDefaultChain,\n} from '../../components/web3/hooks';\nimport {ContractAdapterNames, Web3TxStatus} from '../../components/web3/types';\nimport {FormFieldErrors} from '../../util/enums';\nimport {isEthAddressValid} from '../../util/validation';\nimport {StoreState} from '../../store/types';\nimport {TX_CYCLE_MESSAGES} from '../../components/web3/config';\nimport {multicall, MulticallTuple} from '../../components/web3/helpers';\nimport {useSignAndSubmitProposal} from '../../components/proposals/hooks';\nimport {useWeb3Modal} from '../../components/web3/hooks';\nimport CycleMessage from '../../components/feedback/CycleMessage';\nimport ErrorMessageWithDetails from '../../components/common/ErrorMessageWithDetails';\nimport FadeIn from '../../components/common/FadeIn';\nimport InputError from '../../components/common/InputError';\nimport Loader from '../../components/feedback/Loader';\nimport Wrap from '../../components/common/Wrap';\nimport EtherscanURL from '../../components/web3/EtherscanURL';\nimport {default as ERC20ABI} from '../../truffle-contracts/ERC20.json';\n\nenum Fields {\n  type = 'type',\n  selectedToken = 'selectedToken',\n  memberAddress = 'memberAddress',\n  amount = 'amount',\n  notes = 'notes',\n}\n\ntype FormInputs = {\n  type: string;\n  selectedToken: string;\n  memberAddress: string;\n  amount: string;\n  notes: string;\n};\n\ntype TransferArguments = [\n  string, // `dao`\n  string, // `proposalId`\n  string, // `shareHolderAddr`\n  string, // `token`\n  string, // `amount`\n  string // `data`\n];\n\ntype InitialTokenDetails = {\n  address: string;\n  daoBalance: string;\n};\n\ntype TokenDetails = InitialTokenDetails & {\n  name: string;\n  symbol: string;\n  decimals: number;\n};\n\nexport default function CreateTransferProposal() {\n  /**\n   * Selectors\n   */\n\n  const DistributeContract = useSelector(\n    (state: StoreState) => state.contracts?.DistributeContract\n  );\n  const DaoRegistryContract = useSelector(\n    (state: StoreState) => state.contracts?.DaoRegistryContract\n  );\n  const BankExtensionContract = useSelector(\n    (state: StoreState) => state.contracts?.BankExtensionContract\n  );\n  const isActiveMember = useSelector(\n    (s: StoreState) => s.connectedMember?.isActiveMember\n  );\n\n  /**\n   * Hooks\n   */\n\n  const {defaultChainError} = useIsDefaultChain();\n  const {connected, account, web3Instance} = useWeb3Modal();\n  const gasPrices = useETHGasPrice();\n  const {\n    txError,\n    txEtherscanURL,\n    txIsPromptOpen,\n    txSend,\n    txStatus,\n  } = useContractSend();\n\n  const {\n    proposalData,\n    proposalSignAndSendStatus,\n    signAndSendProposal,\n  } = useSignAndSubmitProposal<SnapshotType.proposal>();\n\n  /**\n   * Their hooks\n   */\n\n  const form = useForm<FormInputs>({\n    mode: 'onBlur',\n    reValidateMode: 'onChange',\n  });\n  const history = useHistory();\n\n  /**\n   * State\n   */\n\n  const [submitError, setSubmitError] = useState<Error>();\n  const [daoTokens, setDaoTokens] = useState<TokenDetails[]>();\n  const [selectedTokenBalance, setSelectedTokenBalance] = useState<string>();\n\n  /**\n   * Variables\n   */\n\n  const {errors, getValues, setValue, register, trigger, watch} = form;\n  const typeValue = watch('type');\n  const isTypeAllMembers = typeValue === 'all members';\n  const selectedTokenValue = watch('selectedToken');\n\n  const createTransferError = submitError || txError;\n  const isConnected = connected && account;\n  const erc20ABI: AbiItem[] = ERC20ABI as any;\n\n  const isInProcess =\n    txStatus === Web3TxStatus.AWAITING_CONFIRM ||\n    txStatus === Web3TxStatus.PENDING ||\n    proposalSignAndSendStatus === Web3TxStatus.AWAITING_CONFIRM ||\n    proposalSignAndSendStatus === Web3TxStatus.PENDING;\n\n  const isDone =\n    txStatus === Web3TxStatus.FULFILLED &&\n    proposalSignAndSendStatus === Web3TxStatus.FULFILLED;\n\n  const isInProcessOrDone = isInProcess || isDone || txIsPromptOpen;\n\n  /**\n   * Cached callbacks\n   */\n\n  const getDaoTokensCached = useCallback(getDaoTokens, [\n    BankExtensionContract,\n    account,\n    erc20ABI,\n    web3Instance,\n  ]);\n\n  const getSelectedTokenBalanceCached = useCallback(getSelectedTokenBalance, [\n    account,\n    selectedTokenValue,\n  ]);\n\n  /**\n   * Effects\n   */\n\n  useEffect(() => {\n    getDaoTokensCached();\n  }, [getDaoTokensCached]);\n\n  useEffect(() => {\n    getSelectedTokenBalanceCached();\n  }, [getSelectedTokenBalanceCached]);\n\n  /**\n   * Functions\n   */\n\n  async function getDaoTokens() {\n    if (!account || !BankExtensionContract || !web3Instance) {\n      setDaoTokens(undefined);\n      return;\n    }\n\n    try {\n      const {\n        abi: bankABI,\n        contractAddress: bankAddress,\n        instance: {methods: bankMethods},\n      } = BankExtensionContract;\n\n      const nbTokens = await bankMethods.nbTokens().call();\n\n      if (Number(nbTokens) < 1) {\n        setDaoTokens([]);\n      } else {\n        let parsedAndSortedTokens: TokenDetails[] = [];\n\n        // Build calls to get DAO token list with details\n        const getTokenABI = bankABI.find((item) => item.name === 'getToken');\n        const getTokenCalls = [...Array(Number(nbTokens)).keys()].map(\n          (index): MulticallTuple => [\n            bankAddress,\n            getTokenABI as AbiItem,\n            [index.toString()],\n          ]\n        );\n        const fetchedTokens: string[] = await multicall({\n          calls: getTokenCalls,\n          web3Instance,\n        });\n\n        const balanceOfABI = bankABI.find((item) => item.name === 'balanceOf');\n        const getDaoTokenBalanceCalls = fetchedTokens.map(\n          (token): MulticallTuple => [\n            bankAddress,\n            balanceOfABI as AbiItem,\n            [GUILD_ADDRESS, token],\n          ]\n        );\n        const daoTokenBalances: string[] = await multicall({\n          calls: getDaoTokenBalanceCalls,\n          web3Instance,\n        });\n\n        const tokensArray: InitialTokenDetails[] = fetchedTokens\n          .map((token, index) => ({\n            address: token,\n            daoBalance: daoTokenBalances[index],\n          }))\n          // Don't need to include tokens that have 0 balance\n          .filter((tokenObj) => toBN(tokenObj.daoBalance).gt(toBN(0)));\n\n        const ethToken = tokensArray.find(\n          (token) => token.address === ETH_TOKEN_ADDRESS\n        );\n        if (ethToken) {\n          parsedAndSortedTokens.push({\n            ...ethToken,\n            name: 'Ether',\n            symbol: 'ETH',\n            decimals: 18,\n          });\n        }\n\n        // Filter out Ether to handle ERC20 tokens\n        const erc20Tokens = tokensArray.filter(\n          (token) => token.address !== ETH_TOKEN_ADDRESS\n        );\n\n        if (erc20Tokens.length > 0) {\n          const nameABI = erc20ABI.find((item) => item.name === 'name');\n          const nameCalls = erc20Tokens.map(\n            (token): MulticallTuple => [\n              token.address as string,\n              nameABI as AbiItem,\n              [],\n            ]\n          );\n          const symbolABI = erc20ABI.find((item) => item.name === 'symbol');\n          const symbolCalls = erc20Tokens.map(\n            (token): MulticallTuple => [\n              token.address as string,\n              symbolABI as AbiItem,\n              [],\n            ]\n          );\n          const decimalsABI = erc20ABI.find((item) => item.name === 'decimals');\n          const decimalsCalls = erc20Tokens.map(\n            (token): MulticallTuple => [\n              token.address as string,\n              decimalsABI as AbiItem,\n              [],\n            ]\n          );\n          const erc20DetailsCalls = [\n            ...nameCalls,\n            ...symbolCalls,\n            ...decimalsCalls,\n          ];\n          let results = await multicall({\n            calls: erc20DetailsCalls,\n            web3Instance,\n          });\n          let chunkedResults = [];\n          while (results.length) {\n            chunkedResults.push(results.splice(0, erc20Tokens.length));\n          }\n          const [names, symbols, decimals] = chunkedResults;\n\n          const parsedAndSortedERC20Tokens = erc20Tokens\n            .map((token, index) => ({\n              ...token,\n              name: names[index],\n              symbol: symbols[index],\n              decimals: decimals[index],\n            }))\n            .sort((a, b) => a.name.localeCompare(b.name));\n\n          parsedAndSortedTokens = [\n            ...parsedAndSortedTokens,\n            ...parsedAndSortedERC20Tokens,\n          ];\n        }\n\n        setDaoTokens(parsedAndSortedTokens);\n      }\n    } catch (error) {\n      console.error(error);\n      setDaoTokens(undefined);\n    }\n  }\n\n  async function getSelectedTokenBalance() {\n    if (!account || !selectedTokenValue) {\n      setSelectedTokenBalance(undefined);\n      return;\n    }\n\n    try {\n      const selectedTokenObj = JSON.parse(selectedTokenValue);\n      const balance = selectedTokenObj.daoBalance;\n      const balanceBN = toBN(balance);\n      const decimals = selectedTokenObj.decimals;\n      const divisor = toBN(10).pow(toBN(decimals));\n      const beforeDecimal = balanceBN.div(divisor);\n      const afterDecimal = balanceBN.mod(divisor);\n      const balanceReadable = afterDecimal.eq(toBN(0))\n        ? beforeDecimal.toString()\n        : `${beforeDecimal.toString()}.${afterDecimal.toString()}`;\n\n      setSelectedTokenBalance(balanceReadable);\n    } catch (error) {\n      console.error(error);\n      setSelectedTokenBalance(undefined);\n    }\n  }\n\n  async function handleSubmit(values: FormInputs) {\n    try {\n      if (!isConnected) {\n        throw new Error(\n          'No user account was found. Please makes sure your wallet is connected.'\n        );\n      }\n\n      if (!DistributeContract) {\n        throw new Error('No DistributeContract found.');\n      }\n\n      if (!DaoRegistryContract) {\n        throw new Error('No DaoRegistryContract found.');\n      }\n\n      if (!account) {\n        throw new Error('No account found.');\n      }\n\n      if (!web3Instance) {\n        throw new Error('No Web3 instance was found.');\n      }\n\n      const {selectedToken, memberAddress, amount, notes} = values;\n      const selectedTokenObj = JSON.parse(selectedToken);\n      const {symbol, decimals, address: tokenAddress} = selectedTokenObj;\n      let amountArg;\n      if (tokenAddress === ETH_TOKEN_ADDRESS) {\n        amountArg = toWei(stripFormatNumber(amount), 'ether');\n      } else {\n        const multiplier = toBN(10).pow(toBN(decimals));\n        const amountWithDecimals = toBN(stripFormatNumber(amount)).mul(\n          multiplier\n        );\n        amountArg = amountWithDecimals.toString();\n      }\n\n      // Maybe set proposal info from previous attempt\n      let proposalId: string = proposalData?.uniqueId || '';\n      let data: SnapshotProposalData | undefined = proposalData?.data;\n      let signature: string = proposalData?.signature || '';\n\n      const bodyIntro = isTypeAllMembers\n        ? 'Transfer to all members pro rata.'\n        : `Transfer to ${memberAddress}.`;\n\n      // Only submit to snapshot if there is not already a proposal ID returned from a previous attempt.\n      if (!proposalId) {\n        const body = notes ? `${bodyIntro}\\n${notes}` : bodyIntro;\n        const name = isTypeAllMembers ? 'All members' : memberAddress;\n        const now = Math.floor(Date.now() / 1000);\n\n        // Sign and submit proposal for snapshot-hub\n        const {\n          uniqueId,\n          data: returnData,\n          signature: returnSignature,\n        } = await signAndSendProposal({\n          partialProposalData: {\n            name,\n            body,\n            metadata: {\n              amountUnit: symbol,\n              tokenDecimals: decimals,\n              isTypeAllMembers,\n            },\n            timestamp: now.toString(),\n          },\n          adapterName: ContractAdapterNames.distribute,\n          type: SnapshotType.proposal,\n        });\n\n        proposalId = uniqueId;\n        data = returnData;\n        signature = returnSignature;\n      }\n\n      const memberAddressArg = isTypeAllMembers\n        ? '0x0000000000000000000000000000000000000000' //indicates distribution to all active members\n        : memberAddress;\n      /**\n       * Prepare `data` argument for submission to DAO\n       *\n       * For information about which data the smart contract needs for signature verification (e.g. `hashMessage`):\n       * @link https://github.com/openlawteam/molochv3-contracts/blob/master/contracts/adapters/voting/OffchainVoting.sol\n       */\n      const preparedVoteVerificationBytes = data\n        ? prepareVoteProposalData(\n            {\n              payload: {\n                name: data.payload.name,\n                body: data.payload.body,\n                choices: data.payload.choices,\n                snapshot: data.payload.snapshot.toString(),\n                start: data.payload.start,\n                end: data.payload.end,\n              },\n              sig: signature,\n              space: data.space,\n              timestamp: parseInt(data.timestamp),\n            },\n            web3Instance\n          )\n        : '';\n\n      const transferArguments: TransferArguments = [\n        DaoRegistryContract.contractAddress,\n        proposalId,\n        memberAddressArg,\n        tokenAddress,\n        amountArg,\n        preparedVoteVerificationBytes,\n      ];\n\n      const txArguments = {\n        from: account || '',\n        // Set a fast gas price\n        ...(gasPrices ? {gasPrice: gasPrices.fast} : null),\n      };\n\n      // Execute contract call for `submitProposal`\n      await txSend(\n        'submitProposal',\n        DistributeContract.instance.methods,\n        transferArguments,\n        txArguments\n      );\n\n      // go to TransferDetails page for newly created transfer proposal\n      history.push(`/transfers/${proposalId}`);\n    } catch (error) {\n      // Set any errors from Web3 utils or explicitly set above.\n      setSubmitError(error);\n    }\n  }\n\n  function renderSubmitStatus(): React.ReactNode {\n    // Either Snapshot or chain tx\n    if (\n      txStatus === Web3TxStatus.AWAITING_CONFIRM ||\n      proposalSignAndSendStatus === Web3TxStatus.AWAITING_CONFIRM\n    ) {\n      return 'Awaiting your confirmation\\u2026';\n    }\n\n    // Only for chain tx\n    switch (txStatus) {\n      case Web3TxStatus.PENDING:\n        return (\n          <>\n            <CycleMessage\n              intervalMs={2000}\n              messages={TX_CYCLE_MESSAGES}\n              useFirstItemStart\n              render={(message) => {\n                return <FadeIn key={message}>{message}</FadeIn>;\n              }}\n            />\n\n            <EtherscanURL url={txEtherscanURL} isPending />\n          </>\n        );\n      case Web3TxStatus.FULFILLED:\n        return (\n          <>\n            <div>Proposal submitted!</div>\n\n            <EtherscanURL url={txEtherscanURL} />\n          </>\n        );\n      default:\n        return null;\n    }\n  }\n\n  function renderSelectedTokenBalance() {\n    if (!selectedTokenBalance) {\n      return '---';\n    }\n\n    const isBalanceInt = Number.isInteger(Number(selectedTokenBalance));\n    return isBalanceInt\n      ? selectedTokenBalance\n      : formatDecimal(Number(selectedTokenBalance));\n  }\n\n  function getUnauthorizedMessage() {\n    // user is not connected\n    if (!isConnected) {\n      return 'Connect your wallet to submit a transfer proposal.';\n    }\n\n    // user is on wrong network\n    if (defaultChainError) {\n      return defaultChainError.message;\n    }\n\n    // user is not an active member\n    if (!isActiveMember) {\n      return 'Either you are not a member, or your membership is not active.';\n    }\n  }\n\n  async function isActiveMemberWithShares(address: string) {\n    if (!BankExtensionContract) {\n      console.error('No BankExtensionContract found.');\n      return false;\n    }\n\n    const sharesBalance = await BankExtensionContract.instance.methods\n      .balanceOf(address, SHARES_ADDRESS)\n      .call();\n\n    return toBN(sharesBalance).gt(toBN(0));\n  }\n\n  /**\n   * Render\n   */\n\n  // Render unauthorized message\n\n  if (!isConnected || defaultChainError || !isActiveMember) {\n    return (\n      <RenderWrapper>\n        <div className=\"form__description--unauthorized\">\n          <p>{getUnauthorizedMessage()}</p>\n        </div>\n      </RenderWrapper>\n    );\n  }\n\n  return (\n    <RenderWrapper>\n      <form className=\"form\" onSubmit={(e) => e.preventDefault()}>\n        {/* TYPE */}\n        <div className=\"form__input-row\">\n          <label className=\"form__input-row-label\">Type</label>\n          <div className=\"form__input-row-fieldwrap\">\n            <select\n              name={Fields.type}\n              ref={register}\n              disabled={isInProcessOrDone}>\n              <option value=\"single member\">Single member</option>\n              <option value=\"all members\">All members</option>\n            </select>\n          </div>\n        </div>\n\n        {/* MEMBER ADDRESS */}\n        {!isTypeAllMembers && (\n          <div className=\"form__input-row\">\n            <label className=\"form__input-row-label\">Member Address</label>\n            <div className=\"form__input-row-fieldwrap\">\n              <input\n                aria-describedby={`error-${Fields.memberAddress}`}\n                aria-invalid={errors.memberAddress ? 'true' : 'false'}\n                name={Fields.memberAddress}\n                ref={register({\n                  validate: async (\n                    memberAddress: string\n                  ): Promise<string | boolean> => {\n                    return !memberAddress\n                      ? FormFieldErrors.REQUIRED\n                      : !isEthAddressValid(memberAddress)\n                      ? FormFieldErrors.INVALID_ETHEREUM_ADDRESS\n                      : !(await isActiveMemberWithShares(memberAddress))\n                      ? 'The address is not an active member with SHARES.'\n                      : true;\n                  },\n                })}\n                type=\"text\"\n                disabled={isInProcessOrDone}\n              />\n\n              <InputError\n                error={getValidationError(Fields.memberAddress, errors)}\n                id={`error-${Fields.memberAddress}`}\n              />\n            </div>\n          </div>\n        )}\n\n        {/* SELECTED TOKEN */}\n        <div className=\"form__input-row\">\n          <label className=\"form__input-row-label\">Asset</label>\n          <div className=\"form__input-row-fieldwrap\">\n            <select\n              aria-describedby={`error-${Fields.selectedToken}`}\n              aria-invalid={errors.selectedToken ? 'true' : 'false'}\n              name={Fields.selectedToken}\n              ref={register({\n                validate: (token: string): string | boolean => {\n                  return !daoTokens || daoTokens.length < 1\n                    ? 'No tokens available for distribution.'\n                    : !token\n                    ? FormFieldErrors.REQUIRED\n                    : true;\n                },\n              })}\n              disabled={isInProcessOrDone}>\n              <option value=\"\">Select from DAO assets</option>\n              {daoTokens?.map((token) => (\n                <option\n                  key={token.address}\n                  value={JSON.stringify(\n                    token\n                  )}>{`${token.name} (${token.symbol})`}</option>\n              ))}\n            </select>\n\n            <InputError\n              error={getValidationError(Fields.selectedToken, errors)}\n              id={`error-${Fields.selectedToken}`}\n            />\n          </div>\n        </div>\n\n        {/* AMOUNT */}\n        <div className=\"form__input-row\">\n          <label className=\"form__input-row-label\">Amount</label>\n          <div className=\"form__input-row-fieldwrap--narrow\">\n            <div className=\"input__suffix-wrap\">\n              <input\n                className=\"input__suffix\"\n                aria-describedby={`error-${Fields.amount}`}\n                aria-invalid={errors.amount ? 'true' : 'false'}\n                name={Fields.amount}\n                onChange={() =>\n                  setValue(Fields.amount, formatNumber(getValues().amount))\n                }\n                ref={register({\n                  validate: (amount: string): string | boolean => {\n                    const amountToNumber = Number(stripFormatNumber(amount));\n                    const selectedTokenObj =\n                      selectedTokenValue && JSON.parse(selectedTokenValue);\n                    const isSelectedTokenEth =\n                      selectedTokenObj?.address === ETH_TOKEN_ADDRESS;\n\n                    return amount === ''\n                      ? FormFieldErrors.REQUIRED\n                      : isNaN(amountToNumber)\n                      ? FormFieldErrors.INVALID_NUMBER\n                      : amountToNumber <= 0\n                      ? 'The value must be greater than 0.'\n                      : amountToNumber > Number(selectedTokenBalance)\n                      ? 'Insufficient funds.'\n                      : isSelectedTokenEth\n                      ? true\n                      : !Number.isInteger(amountToNumber)\n                      ? 'The value must be an integer for an ERC20 token.'\n                      : true;\n                  },\n                })}\n                type=\"text\"\n                disabled={isInProcessOrDone}\n              />\n\n              <div className=\"input__suffix-item\">\n                {(selectedTokenValue &&\n                  JSON.parse(selectedTokenValue).symbol) ||\n                  '___'}\n              </div>\n            </div>\n\n            <InputError\n              error={getValidationError(Fields.amount, errors)}\n              id={`error-${Fields.amount}`}\n            />\n\n            <div className=\"form__input-description\">\n              {isTypeAllMembers\n                ? \"If the proposal passes, this total amount will be distributed pro rata to all members' internal accounts, based on the current number of shares held by each member.\"\n                : \"If the proposal passes, this amount will be distributed to the member's internal account.\"}\n            </div>\n          </div>\n\n          <div className=\"form__input-addon\">\n            available:{' '}\n            <span className=\"text-underline\">\n              {renderSelectedTokenBalance()}\n            </span>\n          </div>\n        </div>\n\n        {/* NOTES */}\n        <div className=\"form__textarea-row\">\n          <label className=\"form__input-row-label\">Notes</label>\n          <div className=\"form__input-row-fieldwrap\">\n            <textarea\n              name={Fields.notes}\n              placeholder=\"Transactions purpose...\"\n              ref={register}\n              disabled={isInProcessOrDone}\n            />\n          </div>\n        </div>\n\n        {/* SUBMIT */}\n        <button\n          className=\"button\"\n          disabled={isInProcessOrDone}\n          onClick={async () => {\n            if (isInProcessOrDone) return;\n\n            if (!(await trigger())) {\n              return;\n            }\n\n            handleSubmit(getValues());\n          }}\n          type=\"submit\">\n          {isInProcess ? <Loader /> : isDone ? 'Done' : 'Submit'}\n        </button>\n\n        {/* SUBMIT STATUS */}\n        {isInProcessOrDone && (\n          <div className=\"form__submit-status-container\">\n            {renderSubmitStatus()}\n          </div>\n        )}\n\n        {/* SUBMIT ERROR */}\n        {createTransferError && (\n          <div className=\"form__submit-error-container\">\n            <ErrorMessageWithDetails\n              renderText=\"Something went wrong while submitting the proposal.\"\n              error={createTransferError}\n            />\n          </div>\n        )}\n      </form>\n    </RenderWrapper>\n  );\n}\n\nfunction RenderWrapper(props: React.PropsWithChildren<any>): JSX.Element {\n  /**\n   * Render\n   */\n\n  return (\n    <Wrap className=\"section-wrapper\">\n      <FadeIn>\n        <div className=\"titlebar\">\n          <h2 className=\"titlebar__title\">Transfer Proposal</h2>\n        </div>\n\n        <div className=\"form-wrapper\">\n          <div className=\"form__description\">\n            <p>\n              Nulla aliquet porttitor venenatis. Donec a dui et dui fringilla\n              consectetur id nec massa. Aliquam erat volutpat. Sed ut dui ut\n              lacus dictum fermentum vel tincidunt neque. Sed sed lacinia...\n            </p>\n          </div>\n\n          {/* RENDER CHILDREN */}\n          {props.children}\n        </div>\n      </FadeIn>\n    </Wrap>\n  );\n}\n","import React, {useState, useCallback, useEffect} from 'react';\nimport {SnapshotType} from '@openlaw/snapshot-js-erc712';\nimport {useForm} from 'react-hook-form';\nimport {useSelector} from 'react-redux';\nimport {Link, useHistory} from 'react-router-dom';\nimport {Contract as Web3Contract} from 'web3-eth-contract/types';\nimport {toBN, AbiItem} from 'web3-utils';\n\nimport {\n  getValidationError,\n  stripFormatNumber,\n  formatNumber,\n  formatDecimal,\n} from '../../util/helpers';\nimport {\n  useContractSend,\n  useETHGasPrice,\n  useIsDefaultChain,\n} from '../../components/web3/hooks';\nimport {ContractAdapterNames, Web3TxStatus} from '../../components/web3/types';\nimport {FormFieldErrors} from '../../util/enums';\nimport {isEthAddressValid} from '../../util/validation';\nimport {truncateEthAddress} from '../../util/helpers';\nimport {SHARES_ADDRESS} from '../../config';\nimport {StoreState} from '../../store/types';\nimport {TX_CYCLE_MESSAGES} from '../../components/web3/config';\nimport {useSignAndSubmitProposal} from '../../components/proposals/hooks';\nimport {useWeb3Modal} from '../../components/web3/hooks';\nimport CycleMessage from '../../components/feedback/CycleMessage';\nimport ErrorMessageWithDetails from '../../components/common/ErrorMessageWithDetails';\nimport FadeIn from '../../components/common/FadeIn';\nimport InputError from '../../components/common/InputError';\nimport Loader from '../../components/feedback/Loader';\nimport Wrap from '../../components/common/Wrap';\nimport EtherscanURL from '../../components/web3/EtherscanURL';\n\nenum Fields {\n  applicantAddress = 'applicantAddress',\n  erc20Address = 'erc20Address',\n  tributeAmount = 'tributeAmount',\n  requestAmount = 'requestAmount',\n  description = 'description',\n}\n\ntype FormInputs = {\n  applicantAddress: string;\n  erc20Address: string;\n  tributeAmount: string;\n  requestAmount: string;\n  description: string;\n};\n\ntype TributeArguments = [\n  string, // `dao`\n  string, // `proposalId`\n  string, // `applicant`\n  string, // `tokenToMint`\n  string, // `requestAmount`\n  string, // `tokenAddr`\n  string // `tributeAmount`\n];\n\ntype TokenApproveArguments = [\n  string, // `spender`\n  string // `value`\n];\n\ntype ERC20Details = {\n  symbol: string;\n  decimals: number;\n};\n\ntype BN = ReturnType<typeof toBN>;\n\nexport default function CreateTributeProposal() {\n  /**\n   * Selectors\n   */\n\n  const TributeContract = useSelector(\n    (state: StoreState) => state.contracts?.TributeContract\n  );\n  const DaoRegistryContract = useSelector(\n    (state: StoreState) => state.contracts?.DaoRegistryContract\n  );\n\n  /**\n   * Hooks\n   */\n\n  const {defaultChainError} = useIsDefaultChain();\n  const {connected, account, web3Instance} = useWeb3Modal();\n  const gasPrices = useETHGasPrice();\n  const {\n    txError,\n    txEtherscanURL,\n    txIsPromptOpen,\n    txSend,\n    txStatus,\n  } = useContractSend();\n  const {\n    txError: txErrorTokenApprove,\n    txEtherscanURL: txEtherscanURLTokenApprove,\n    txIsPromptOpen: txIsPromptOpenTokenApprove,\n    txSend: txSendTokenApprove,\n    txStatus: txStatusTokenApprove,\n  } = useContractSend();\n\n  const {\n    proposalData,\n    proposalSignAndSendStatus,\n    signAndSendProposal,\n  } = useSignAndSubmitProposal<SnapshotType.draft>();\n\n  /**\n   * Their hooks\n   */\n\n  const form = useForm<FormInputs>({\n    mode: 'onBlur',\n    reValidateMode: 'onChange',\n  });\n  const history = useHistory();\n\n  /**\n   * State\n   */\n\n  const [submitError, setSubmitError] = useState<Error>();\n  const [userERC20Balance, setUserERC20Balance] = useState<string>();\n  const [erc20Details, setERC20Details] = useState<ERC20Details>();\n  const [erc20Contract, setERC20Contract] = useState<Web3Contract>();\n\n  /**\n   * Variables\n   */\n\n  const {errors, getValues, setValue, register, trigger, watch} = form;\n  const erc20AddressValue = watch('erc20Address');\n\n  const createTributeError = submitError || txError || txErrorTokenApprove;\n  const isConnected = connected && account;\n\n  const isInProcess =\n    txStatus === Web3TxStatus.AWAITING_CONFIRM ||\n    txStatus === Web3TxStatus.PENDING ||\n    txStatusTokenApprove === Web3TxStatus.AWAITING_CONFIRM ||\n    txStatusTokenApprove === Web3TxStatus.PENDING ||\n    proposalSignAndSendStatus === Web3TxStatus.AWAITING_CONFIRM ||\n    proposalSignAndSendStatus === Web3TxStatus.PENDING;\n\n  const isDone =\n    txStatus === Web3TxStatus.FULFILLED &&\n    proposalSignAndSendStatus === Web3TxStatus.FULFILLED;\n\n  const isInProcessOrDone =\n    isInProcess || isDone || txIsPromptOpen || txIsPromptOpenTokenApprove;\n\n  /**\n   * Cached callbacks\n   */\n\n  const getERC20ContractCached = useCallback(getERC20Contract, [\n    erc20AddressValue,\n    web3Instance,\n  ]);\n\n  const getERC20DetailsCached = useCallback(getERC20Details, [\n    account,\n    erc20Contract,\n  ]);\n\n  const getUserERC20BalanceCached = useCallback(getUserERC20Balance, [\n    account,\n    erc20Contract,\n  ]);\n\n  /**\n   * Effects\n   */\n\n  useEffect(() => {\n    getERC20ContractCached();\n  }, [getERC20ContractCached]);\n\n  useEffect(() => {\n    getERC20DetailsCached();\n  }, [getERC20DetailsCached]);\n\n  useEffect(() => {\n    getUserERC20BalanceCached();\n  }, [getUserERC20BalanceCached]);\n\n  // Set the value of `applicantAddress` if the `account` changes\n  useEffect(() => {\n    setValue(Fields.applicantAddress, account);\n  }, [account, setValue]);\n\n  /**\n   * Functions\n   */\n\n  async function getERC20Contract() {\n    if (!web3Instance || !erc20AddressValue) {\n      setERC20Contract(undefined);\n      return;\n    }\n\n    try {\n      const {default: lazyERC20ABI} = await import(\n        '../../truffle-contracts/ERC20.json'\n      );\n      const erc20Contract: AbiItem[] = lazyERC20ABI as any;\n      const instance = new web3Instance.eth.Contract(\n        erc20Contract,\n        erc20AddressValue\n      );\n      setERC20Contract(instance);\n    } catch (error) {\n      console.error(error);\n      setERC20Contract(undefined);\n    }\n  }\n\n  async function getERC20Details() {\n    if (!account || !erc20Contract) {\n      setERC20Details(undefined);\n      return;\n    }\n\n    try {\n      const symbol = await erc20Contract.methods.symbol().call();\n      const decimals = await erc20Contract.methods.decimals().call();\n      setERC20Details({symbol, decimals: Number(decimals)});\n    } catch (error) {\n      console.error(error);\n      setERC20Details(undefined);\n    }\n  }\n\n  async function getUserERC20Balance() {\n    if (!account || !erc20Contract) {\n      setUserERC20Balance(undefined);\n      return;\n    }\n\n    try {\n      const balance = await erc20Contract.methods.balanceOf(account).call();\n      const balanceBN = toBN(balance);\n      const decimals = await erc20Contract.methods.decimals().call();\n      const divisor = toBN(10).pow(toBN(decimals));\n      const beforeDecimal = balanceBN.div(divisor);\n      const afterDecimal = balanceBN.mod(divisor);\n      const balanceReadable = afterDecimal.eq(toBN(0))\n        ? beforeDecimal.toString()\n        : `${beforeDecimal.toString()}.${afterDecimal.toString()}`;\n\n      setUserERC20Balance(balanceReadable);\n    } catch (error) {\n      console.error(error);\n      setUserERC20Balance(undefined);\n    }\n  }\n\n  async function handleSubmitTokenApprove(\n    tributeAmountWithDecimals: BN,\n    allowanceBN: BN\n  ) {\n    try {\n      if (!erc20Contract) {\n        throw new Error('No ERC20Contract found.');\n      }\n\n      if (!TributeContract) {\n        throw new Error('No TributeContract found.');\n      }\n\n      if (!account) {\n        throw new Error('No account found.');\n      }\n\n      const difference = tributeAmountWithDecimals.sub(allowanceBN);\n      const approveValue = allowanceBN.add(difference);\n      const tokenApproveArguments: TokenApproveArguments = [\n        TributeContract.contractAddress,\n        approveValue.toString(),\n      ];\n      const txArguments = {\n        from: account || '',\n        // Set a fast gas price\n        ...(gasPrices ? {gasPrice: gasPrices.fast} : null),\n      };\n\n      // Execute contract call for `approve`\n      await txSendTokenApprove(\n        'approve',\n        erc20Contract.methods,\n        tokenApproveArguments,\n        txArguments\n      );\n    } catch (error) {\n      throw error;\n    }\n  }\n\n  async function handleSubmit(values: FormInputs) {\n    try {\n      if (!isConnected) {\n        throw new Error(\n          'No user account was found. Please makes sure your wallet is connected.'\n        );\n      }\n\n      if (!TributeContract) {\n        throw new Error('No TributeContract found.');\n      }\n\n      if (!DaoRegistryContract) {\n        throw new Error('No DaoRegistryContract found.');\n      }\n\n      if (!account) {\n        throw new Error('No account found.');\n      }\n\n      if (!erc20Contract) {\n        throw new Error('No ERC20Contract found.');\n      }\n\n      if (!erc20Details) {\n        throw new Error('No ERC20 details found.');\n      }\n\n      const {\n        applicantAddress,\n        erc20Address,\n        tributeAmount,\n        requestAmount,\n        description,\n      } = values;\n      const multiplier = toBN(10).pow(toBN(erc20Details.decimals));\n      const tributeAmountWithDecimals = toBN(\n        stripFormatNumber(tributeAmount)\n      ).mul(multiplier);\n      const requestAmountArg = stripFormatNumber(requestAmount);\n\n      // Check if adapter is allowed to spend amount of tribute tokens on behalf\n      // of user. If allowance is not sufficient, approve the adapter to spend\n      // the amount of tokens needed for the user to provide the full tribute\n      // amount.\n      const allowance = await erc20Contract.methods\n        .allowance(account, TributeContract.contractAddress)\n        .call();\n      const allowanceBN = toBN(allowance);\n\n      if (tributeAmountWithDecimals.gt(allowanceBN)) {\n        try {\n          await handleSubmitTokenApprove(\n            tributeAmountWithDecimals,\n            allowanceBN\n          );\n        } catch (error) {\n          console.error(error);\n          throw new Error(\n            'Your ERC20 tokens could not be approved for transfer.'\n          );\n        }\n      }\n\n      // Maybe set proposal ID from previous attempt\n      let proposalId: string = proposalData?.uniqueId || '';\n\n      // Only submit to snapshot if there is not already a proposal ID returned from a previous attempt.\n      if (!proposalId) {\n        const bodyIntro =\n          applicantAddress.toLowerCase() === account.toLowerCase()\n            ? `Tribute from ${applicantAddress}.`\n            : `Tribute from ${truncateEthAddress(\n                account,\n                7\n              )} for applicant ${truncateEthAddress(applicantAddress, 7)}.`;\n        const body = description ? `${bodyIntro}\\n${description}` : bodyIntro;\n\n        // Sign and submit draft for snapshot-hub\n        const {uniqueId} = await signAndSendProposal({\n          partialProposalData: {\n            name: applicantAddress,\n            body,\n            metadata: {\n              tributeAmountUnit: erc20Details.symbol,\n              tributeTokenDecimals: erc20Details.decimals,\n              requestAmountUnit: 'SHARES',\n            },\n          },\n          adapterName: ContractAdapterNames.tribute,\n          type: SnapshotType.draft,\n        });\n\n        proposalId = uniqueId;\n      }\n\n      const tributeArguments: TributeArguments = [\n        DaoRegistryContract.contractAddress,\n        proposalId,\n        applicantAddress,\n        SHARES_ADDRESS,\n        requestAmountArg,\n        erc20Address,\n        tributeAmountWithDecimals.toString(),\n      ];\n\n      const txArguments = {\n        from: account || '',\n        // Set a fast gas price\n        ...(gasPrices ? {gasPrice: gasPrices.fast} : null),\n      };\n\n      // Execute contract call for `provideTribute`\n      await txSend(\n        'provideTribute',\n        TributeContract.instance.methods,\n        tributeArguments,\n        txArguments\n      );\n\n      // go to TributeDetails page for newly created tribute proposal\n      history.push(`/tributes/${proposalId}`);\n    } catch (error) {\n      // Set any errors from Web3 utils or explicitly set above.\n      setSubmitError(error);\n    }\n  }\n\n  function renderSubmitStatus(): React.ReactNode {\n    // Either Snapshot or chain tx\n    if (\n      txStatus === Web3TxStatus.AWAITING_CONFIRM ||\n      txStatusTokenApprove === Web3TxStatus.AWAITING_CONFIRM ||\n      proposalSignAndSendStatus === Web3TxStatus.AWAITING_CONFIRM\n    ) {\n      return 'Awaiting your confirmation\\u2026';\n    }\n\n    // If token approve transaction is confirmed\n    if (txStatusTokenApprove === Web3TxStatus.PENDING) {\n      return (\n        <>\n          <div>{'Approving your tokens for transfer\\u2026'}</div>\n\n          <EtherscanURL url={txEtherscanURLTokenApprove} isPending />\n        </>\n      );\n    }\n\n    // Only for chain tx\n    switch (txStatus) {\n      case Web3TxStatus.PENDING:\n        return (\n          <>\n            <CycleMessage\n              intervalMs={2000}\n              messages={TX_CYCLE_MESSAGES}\n              useFirstItemStart\n              render={(message) => {\n                return <FadeIn key={message}>{message}</FadeIn>;\n              }}\n            />\n\n            <EtherscanURL url={txEtherscanURL} isPending />\n          </>\n        );\n      case Web3TxStatus.FULFILLED:\n        return (\n          <>\n            <div>Proposal submitted!</div>\n\n            <EtherscanURL url={txEtherscanURL} />\n          </>\n        );\n      default:\n        return null;\n    }\n  }\n\n  function renderUserERC20Balance() {\n    if (!userERC20Balance) {\n      return '---';\n    }\n\n    const isBalanceInt = Number.isInteger(Number(userERC20Balance));\n    return isBalanceInt\n      ? userERC20Balance\n      : formatDecimal(Number(userERC20Balance));\n  }\n\n  /**\n   * Render\n   */\n\n  // Render wallet auth message if user is not connected\n  if (!isConnected) {\n    return (\n      <RenderWrapper>\n        <div className=\"form__description--unauthorized\">\n          <p>Connect your wallet to submit a tribute proposal.</p>\n        </div>\n      </RenderWrapper>\n    );\n  }\n\n  // Render wrong network message if user is on wrong network\n  if (defaultChainError) {\n    return (\n      <RenderWrapper>\n        <div className=\"form__description--unauthorized\">\n          <p>{defaultChainError.message}</p>\n        </div>\n      </RenderWrapper>\n    );\n  }\n\n  return (\n    <RenderWrapper>\n      <form className=\"form\" onSubmit={(e) => e.preventDefault()}>\n        {/* APPLICANT ADDRESS */}\n        <div className=\"form__input-row\">\n          <label className=\"form__input-row-label\">Applicant Address</label>\n          <div className=\"form__input-row-fieldwrap\">\n            {/* @note We don't need the default value as it's handled in the useEffect above. */}\n            <input\n              aria-describedby={`error-${Fields.applicantAddress}`}\n              aria-invalid={errors.applicantAddress ? 'true' : 'false'}\n              name={Fields.applicantAddress}\n              ref={register({\n                validate: (applicantAddress: string): string | boolean => {\n                  return !applicantAddress\n                    ? FormFieldErrors.REQUIRED\n                    : !isEthAddressValid(applicantAddress)\n                    ? FormFieldErrors.INVALID_ETHEREUM_ADDRESS\n                    : true;\n                },\n              })}\n              type=\"text\"\n              disabled={isInProcessOrDone}\n            />\n\n            <InputError\n              error={getValidationError(Fields.applicantAddress, errors)}\n              id={`error-${Fields.applicantAddress}`}\n            />\n          </div>\n        </div>\n\n        {/* ERC20 ADDRESS */}\n        <div className=\"form__input-row\">\n          <label className=\"form__input-row-label\">ERC20 Address</label>\n          <div className=\"form__input-row-fieldwrap\">\n            <input\n              aria-describedby={`error-${Fields.erc20Address}`}\n              aria-invalid={errors.erc20Address ? 'true' : 'false'}\n              name={Fields.erc20Address}\n              ref={register({\n                validate: (erc20Address: string): string | boolean => {\n                  return !erc20Address\n                    ? FormFieldErrors.REQUIRED\n                    : !isEthAddressValid(erc20Address)\n                    ? FormFieldErrors.INVALID_ETHEREUM_ADDRESS\n                    : true;\n                },\n              })}\n              type=\"text\"\n              disabled={isInProcessOrDone}\n            />\n\n            <InputError\n              error={getValidationError(Fields.erc20Address, errors)}\n              id={`error-${Fields.erc20Address}`}\n            />\n          </div>\n        </div>\n\n        {/* TRIBUTE AMOUNT */}\n        <div className=\"form__input-row\">\n          <label className=\"form__input-row-label\">Amount</label>\n          <div className=\"form__input-row-fieldwrap--narrow\">\n            <div className=\"input__suffix-wrap\">\n              <input\n                className=\"input__suffix\"\n                aria-describedby={`error-${Fields.tributeAmount}`}\n                aria-invalid={errors.tributeAmount ? 'true' : 'false'}\n                name={Fields.tributeAmount}\n                onChange={() =>\n                  setValue(\n                    Fields.tributeAmount,\n                    formatNumber(getValues().tributeAmount)\n                  )\n                }\n                ref={register({\n                  validate: (tributeAmount: string): string | boolean => {\n                    const amount = Number(stripFormatNumber(tributeAmount));\n\n                    return tributeAmount === ''\n                      ? FormFieldErrors.REQUIRED\n                      : isNaN(amount)\n                      ? FormFieldErrors.INVALID_NUMBER\n                      : amount <= 0\n                      ? 'The value must be greater than 0.'\n                      : amount > Number(userERC20Balance)\n                      ? 'Insufficient funds.'\n                      : !Number.isInteger(amount)\n                      ? 'The value must be an integer for an ERC20 token.'\n                      : true;\n                  },\n                })}\n                type=\"text\"\n                disabled={isInProcessOrDone}\n              />\n\n              <div className=\"input__suffix-item\">\n                {erc20Details?.symbol || '___'}\n              </div>\n            </div>\n\n            <InputError\n              error={getValidationError(Fields.tributeAmount, errors)}\n              id={`error-${Fields.tributeAmount}`}\n            />\n\n            <div className=\"form__input-description\">\n              This amount will be held in escrow pending a member vote. If the\n              proposal passes, the funds will automatically be sent to the DAO.\n              If the proposal fails, the funds will be refunded to you.\n            </div>\n          </div>\n\n          <div className=\"form__input-addon\">\n            available:{' '}\n            <span className=\"text-underline\">{renderUserERC20Balance()}</span>\n          </div>\n        </div>\n\n        {/* REQUEST AMOUNT */}\n        <div className=\"form__input-row\">\n          <label className=\"form__input-row-label\">Request Amount</label>\n          <div className=\"form__input-row-fieldwrap--narrow\">\n            <input\n              aria-describedby={`error-${Fields.requestAmount}`}\n              aria-invalid={errors.requestAmount ? 'true' : 'false'}\n              name={Fields.requestAmount}\n              onChange={() =>\n                setValue(\n                  Fields.requestAmount,\n                  formatNumber(getValues().requestAmount)\n                )\n              }\n              ref={register({\n                validate: (requestAmount: string): string | boolean => {\n                  const amount = Number(stripFormatNumber(requestAmount));\n\n                  return requestAmount === ''\n                    ? FormFieldErrors.REQUIRED\n                    : isNaN(amount)\n                    ? FormFieldErrors.INVALID_NUMBER\n                    : amount < 0\n                    ? 'The value must be at least 0.'\n                    : true;\n                },\n              })}\n              type=\"text\"\n              disabled={isInProcessOrDone}\n            />\n\n            <InputError\n              error={getValidationError(Fields.requestAmount, errors)}\n              id={`error-${Fields.requestAmount}`}\n            />\n\n            <div className=\"form__input-description\">\n              This is the amount of DAO tokens you are requesting be sent to the\n              Applicant Address in exchange for your tribute. Current member\n              allocations can be viewed{' '}\n              <Link to=\"/members\" target=\"_blank\" rel=\"noopener noreferrer\">\n                here\n              </Link>\n              .\n            </div>\n          </div>\n        </div>\n\n        {/* DESCRIPTION */}\n        <div className=\"form__textarea-row\">\n          <label className=\"form__input-row-label\">Description</label>\n          <div className=\"form__input-row-fieldwrap\">\n            <textarea\n              name={Fields.description}\n              placeholder=\"Say something about your tribute...\"\n              ref={register}\n              disabled={isInProcessOrDone}\n            />\n          </div>\n        </div>\n\n        {/* SUBMIT */}\n        <button\n          className=\"button\"\n          disabled={isInProcessOrDone}\n          onClick={async () => {\n            if (isInProcessOrDone) return;\n\n            if (!(await trigger())) {\n              return;\n            }\n\n            handleSubmit(getValues());\n          }}\n          type=\"submit\">\n          {isInProcess ? <Loader /> : isDone ? 'Done' : 'Submit'}\n        </button>\n\n        {/* SUBMIT STATUS */}\n        {isInProcessOrDone && (\n          <div className=\"form__submit-status-container\">\n            {renderSubmitStatus()}\n          </div>\n        )}\n\n        {/* SUBMIT ERROR */}\n        {createTributeError && (\n          <div className=\"form__submit-error-container\">\n            <ErrorMessageWithDetails\n              renderText=\"Something went wrong while submitting the proposal.\"\n              error={createTributeError}\n            />\n          </div>\n        )}\n      </form>\n    </RenderWrapper>\n  );\n}\n\nfunction RenderWrapper(props: React.PropsWithChildren<any>): JSX.Element {\n  /**\n   * Render\n   */\n\n  return (\n    <Wrap className=\"section-wrapper\">\n      <FadeIn>\n        <div className=\"titlebar\">\n          <h2 className=\"titlebar__title\">Tribute Proposal</h2>\n        </div>\n\n        <div className=\"form-wrapper\">\n          <div className=\"form__description\">\n            <p>\n              Nulla aliquet porttitor venenatis. Donec a dui et dui fringilla\n              consectetur id nec massa. Aliquam erat volutpat. Sed ut dui ut\n              lacus dictum fermentum vel tincidunt neque. Sed sed lacinia...\n            </p>\n          </div>\n\n          {/* RENDER CHILDREN */}\n          {props.children}\n        </div>\n      </FadeIn>\n    </Wrap>\n  );\n}\n","import React from 'react';\nimport {useHistory} from 'react-router-dom';\n\nimport Wrap from '../../components/common/Wrap';\nimport FadeIn from '../../components/common/FadeIn';\n\nexport default function Transfers() {\n  /**\n   * Render\n   */\n\n  return (\n    <RenderWrapper>\n      <div>Transfers @todo</div>\n    </RenderWrapper>\n  );\n}\n\nfunction RenderWrapper(props: React.PropsWithChildren<any>): JSX.Element {\n  /**\n   * Their hooks\n   */\n\n  const history = useHistory();\n\n  /**\n   * Functions\n   */\n\n  function goToNewProposal(event: React.MouseEvent<HTMLButtonElement>) {\n    event.preventDefault();\n    history.push('/transfer');\n  }\n\n  /**\n   * Render\n   */\n\n  return (\n    <Wrap className=\"section-wrapper\">\n      <FadeIn>\n        <div className=\"titlebar\">\n          <h2 className=\"titlebar__title\">Transfers</h2>\n          <button className=\"titlebar__action\" onClick={goToNewProposal}>\n            Make Transfer\n          </button>\n        </div>\n\n        {/* RENDER CHILDREN */}\n        {props.children}\n      </FadeIn>\n    </Wrap>\n  );\n}\n","import React from 'react';\nimport {useHistory, useParams} from 'react-router-dom';\nimport {toBN} from 'web3-utils';\n\nimport {AsyncStatus} from '../../util/types';\nimport {ContractAdapterNames} from '../../components/web3/types';\nimport {formatDecimal} from '../../util/helpers';\nimport {useProposalOrDraft} from '../../components/proposals/hooks';\nimport ErrorMessageWithDetails from '../../components/common/ErrorMessageWithDetails';\nimport FadeIn from '../../components/common/FadeIn';\nimport LoaderWithEmoji from '../../components/feedback/LoaderWithEmoji';\nimport NotFound from '../subpages/NotFound';\nimport ProposalActions from '../../components/proposals/ProposalActions';\nimport ProposalAmount from '../../components/proposals/ProposalAmount';\nimport ProposalDetails from '../../components/proposals/ProposalDetails';\nimport Wrap from '../../components/common/Wrap';\n\nexport default function TransferDetails() {\n  /**\n   * @todo\n   *\n   * 1. Fetch proposal by ID from the subgraph.\n   * 2. Determine if sponsored\n   * 3. Get Snapshot data\n   *   3.1 If sponsored, get data about proposal from Snapshot (use flag to also search by draft hash).\n   *   3.2 If not sponsored, get data about draft from Snapshot.\n   */\n\n  /**\n   * Their hooks\n   */\n\n  // Get hash for fetching the proposal.\n  const {proposalId} = useParams<{proposalId: string}>();\n\n  /**\n   * @todo Get subgraph proposal and determine if it has been sponsored\n   *   so we know how to search snapshot-hub.\n   */\n\n  // ...\n\n  /**\n   * Our hooks\n   */\n\n  // @todo Use dynamic `SnapshotType` depending on subgraph data for `type` arg.\n  const {\n    proposalData,\n    proposalError,\n    proposalNotFound,\n    proposalStatus,\n  } = useProposalOrDraft(proposalId);\n\n  /**\n   * Render\n   */\n\n  // Render loading\n  if (proposalStatus === AsyncStatus.PENDING) {\n    return (\n      <RenderWrapper>\n        <div style={{width: '3rem', margin: '0 auto'}}>\n          <LoaderWithEmoji />\n        </div>\n      </RenderWrapper>\n    );\n  }\n\n  // Render 404 no proposal found\n  if (proposalNotFound) {\n    return (\n      <RenderWrapper>\n        <NotFound />\n      </RenderWrapper>\n    );\n  }\n\n  // Render error\n  if (proposalStatus === AsyncStatus.REJECTED || proposalError) {\n    return (\n      <RenderWrapper>\n        <div className=\"text-center\">\n          <ErrorMessageWithDetails\n            error={proposalError}\n            renderText=\"Something went wrong.\"\n          />\n        </div>\n      </RenderWrapper>\n    );\n  }\n\n  // Render proposal\n  if (proposalData) {\n    const {daoProposal} = proposalData;\n    const commonData = proposalData.getCommonSnapshotProposalData();\n\n    // @todo use amounts from proposal.subgraphproposal\n    let transferAmount = '\\u2026';\n    try {\n      const divisor = toBN(10).pow(\n        toBN(commonData?.msg.payload.metadata.tokenDecimals)\n      );\n      const beforeDecimal = toBN(daoProposal?.amount).div(divisor);\n      const afterDecimal = toBN(daoProposal?.amount).mod(divisor);\n      const balanceReadable = afterDecimal.eq(toBN(0))\n        ? beforeDecimal.toString()\n        : `${beforeDecimal.toString()}.${afterDecimal.toString()}`;\n      const isTransferAmountInt = Number.isInteger(Number(balanceReadable));\n      transferAmount = isTransferAmountInt\n        ? balanceReadable\n        : formatDecimal(Number(balanceReadable));\n    } catch (error) {\n      // Fallback gracefully to ellipsis\n    }\n\n    return (\n      <RenderWrapper>\n        <ProposalDetails\n          proposal={proposalData}\n          renderAmountBadge={() => (\n            <ProposalAmount\n              amount={transferAmount}\n              amountUnit={commonData?.msg.payload.metadata.amountUnit}\n            />\n          )}\n          renderActions={() => (\n            <ProposalActions\n              adapterName={ContractAdapterNames.distribute}\n              proposal={proposalData}\n            />\n          )}\n        />\n      </RenderWrapper>\n    );\n  }\n\n  // Render nothing. Should never reach this case.\n  return <></>;\n}\n\nfunction RenderWrapper(props: React.PropsWithChildren<any>): JSX.Element {\n  /**\n   * Their hooks\n   */\n\n  const history = useHistory();\n\n  /**\n   * Functions\n   */\n\n  function goToAll(event: React.MouseEvent<HTMLButtonElement>) {\n    event.preventDefault();\n\n    history.push('/transfers');\n  }\n\n  /**\n   * Render\n   */\n\n  return (\n    <Wrap className=\"section-wrapper\">\n      <FadeIn>\n        <div className=\"titlebar\">\n          <h2 className=\"titlebar__title\">Transfers</h2>\n          <button className=\"titlebar__action\" onClick={goToAll}>\n            View all\n          </button>\n        </div>\n\n        {/* RENDER CHILDREN */}\n        {props.children}\n      </FadeIn>\n    </Wrap>\n  );\n}\n","import React from 'react';\nimport {useHistory} from 'react-router-dom';\n\nimport Wrap from '../../components/common/Wrap';\nimport FadeIn from '../../components/common/FadeIn';\n\nexport default function Tributes() {\n  /**\n   * Render\n   */\n\n  return (\n    <RenderWrapper>\n      <div>Tributes @todo</div>\n    </RenderWrapper>\n  );\n}\n\nfunction RenderWrapper(props: React.PropsWithChildren<any>): JSX.Element {\n  /**\n   * Their hooks\n   */\n\n  const history = useHistory();\n\n  /**\n   * Functions\n   */\n\n  function goToNewProposal(event: React.MouseEvent<HTMLButtonElement>) {\n    event.preventDefault();\n    history.push('/tribute');\n  }\n\n  /**\n   * Render\n   */\n\n  return (\n    <Wrap className=\"section-wrapper\">\n      <FadeIn>\n        <div className=\"titlebar\">\n          <h2 className=\"titlebar__title\">Tributes</h2>\n          <button className=\"titlebar__action\" onClick={goToNewProposal}>\n            Provide Tribute\n          </button>\n        </div>\n\n        {/* RENDER CHILDREN */}\n        {props.children}\n      </FadeIn>\n    </Wrap>\n  );\n}\n","import React from 'react';\nimport {useHistory, useParams} from 'react-router-dom';\nimport {toBN} from 'web3-utils';\n\nimport {AsyncStatus} from '../../util/types';\nimport {ContractAdapterNames} from '../../components/web3/types';\nimport {formatDecimal, formatNumber} from '../../util/helpers';\nimport {useProposalOrDraft} from '../../components/proposals/hooks';\nimport ErrorMessageWithDetails from '../../components/common/ErrorMessageWithDetails';\nimport FadeIn from '../../components/common/FadeIn';\nimport LoaderWithEmoji from '../../components/feedback/LoaderWithEmoji';\nimport NotFound from '../subpages/NotFound';\nimport ProposalActions from '../../components/proposals/ProposalActions';\nimport ProposalAmount from '../../components/proposals/ProposalAmount';\nimport ProposalDetails from '../../components/proposals/ProposalDetails';\nimport Wrap from '../../components/common/Wrap';\n\nexport default function TributeDetails() {\n  /**\n   * @todo\n   *\n   * 1. Fetch proposal by ID from the subgraph.\n   * 2. Determine if sponsored\n   * 3. Get Snapshot data\n   *   3.1 If sponsored, get data about proposal from Snapshot (use flag to also search by draft hash).\n   *   3.2 If not sponsored, get data about draft from Snapshot.\n   */\n\n  /**\n   * Their hooks\n   */\n\n  // Get hash for fetching the proposal.\n  const {proposalId} = useParams<{proposalId: string}>();\n\n  /**\n   * @todo Get subgraph proposal and determine if it has been sponsored\n   *   so we know how to search snapshot-hub.\n   */\n\n  // ...\n\n  /**\n   * Our hooks\n   */\n\n  // @todo Use dynamic `SnapshotType` depending on subgraph data for `type` arg.\n  const {\n    proposalData,\n    proposalError,\n    proposalNotFound,\n    proposalStatus,\n  } = useProposalOrDraft(proposalId);\n\n  /**\n   * Render\n   */\n\n  // Render loading\n  if (proposalStatus === AsyncStatus.PENDING) {\n    return (\n      <RenderWrapper>\n        <div style={{width: '3rem', margin: '0 auto'}}>\n          <LoaderWithEmoji />\n        </div>\n      </RenderWrapper>\n    );\n  }\n\n  // Render 404 no proposal found\n  if (proposalNotFound) {\n    return (\n      <RenderWrapper>\n        <NotFound />\n      </RenderWrapper>\n    );\n  }\n\n  // Render error\n  if (proposalStatus === AsyncStatus.REJECTED || proposalError) {\n    return (\n      <RenderWrapper>\n        <div className=\"text-center\">\n          <ErrorMessageWithDetails\n            error={proposalError}\n            renderText=\"Something went wrong.\"\n          />\n        </div>\n      </RenderWrapper>\n    );\n  }\n\n  // Render proposal\n  if (proposalData) {\n    const {daoProposal} = proposalData;\n    const commonData = proposalData.getCommonSnapshotProposalData();\n\n    // @todo use amounts from proposal.subgraphproposal\n    let tributeAmount = '\\u2026';\n    try {\n      const divisor = toBN(10).pow(\n        toBN(commonData?.msg.payload.metadata.tributeTokenDecimals)\n      );\n      const beforeDecimal = toBN(daoProposal?.tributeAmount).div(divisor);\n      const afterDecimal = toBN(daoProposal?.tributeAmount).mod(divisor);\n      const balanceReadable = afterDecimal.eq(toBN(0))\n        ? beforeDecimal.toString()\n        : `${beforeDecimal.toString()}.${afterDecimal.toString()}`;\n      const isTributeAmountInt = Number.isInteger(Number(balanceReadable));\n      tributeAmount = isTributeAmountInt\n        ? balanceReadable\n        : formatDecimal(Number(balanceReadable));\n    } catch (error) {\n      // Fallback gracefully to ellipsis\n    }\n\n    let requestAmount = '\\u2026';\n    try {\n      requestAmount = formatNumber(daoProposal?.requestAmount);\n    } catch (error) {\n      // Fallback gracefully to ellipsis\n    }\n\n    return (\n      <RenderWrapper>\n        <ProposalDetails\n          proposal={proposalData}\n          renderAmountBadge={() => (\n            <ProposalAmount\n              amount={tributeAmount}\n              amountUnit={commonData?.msg.payload.metadata.tributeAmountUnit}\n              amount2={requestAmount}\n              amount2Unit={commonData?.msg.payload.metadata.requestAmountUnit}\n            />\n          )}\n          renderActions={() => (\n            <ProposalActions\n              adapterName={ContractAdapterNames.tribute}\n              proposal={proposalData}\n            />\n          )}\n        />\n      </RenderWrapper>\n    );\n  }\n\n  // Render nothing. Should never reach this case.\n  return <></>;\n}\n\nfunction RenderWrapper(props: React.PropsWithChildren<any>): JSX.Element {\n  /**\n   * Their hooks\n   */\n\n  const history = useHistory();\n\n  /**\n   * Functions\n   */\n\n  function goToAll(event: React.MouseEvent<HTMLButtonElement>) {\n    event.preventDefault();\n\n    history.push('/tributes');\n  }\n\n  /**\n   * Render\n   */\n\n  return (\n    <Wrap className=\"section-wrapper\">\n      <FadeIn>\n        <div className=\"titlebar\">\n          <h2 className=\"titlebar__title\">Tributes</h2>\n          <button className=\"titlebar__action\" onClick={goToAll}>\n            View all\n          </button>\n        </div>\n\n        {/* RENDER CHILDREN */}\n        {props.children}\n      </FadeIn>\n    </Wrap>\n  );\n}\n","import React from 'react';\n\nimport Wrap from '../../components/common/Wrap';\nimport FadeIn from '../../components/common/FadeIn';\n\nexport default function CreateGovernanceProposal() {\n  /**\n   * Render\n   */\n\n  return (\n    <RenderWrapper>\n      <div>CreateGovernanceProposal @todo</div>\n    </RenderWrapper>\n  );\n}\n\nfunction RenderWrapper(props: React.PropsWithChildren<any>): JSX.Element {\n  /**\n   * Render\n   */\n\n  return (\n    <Wrap className=\"section-wrapper\">\n      <FadeIn>\n        <div className=\"titlebar\">\n          <h2 className=\"titlebar__title\">Governance Proposal</h2>\n        </div>\n\n        {/* RENDER CHILDREN */}\n        {props.children}\n      </FadeIn>\n    </Wrap>\n  );\n}\n","import React from 'react';\nimport {useHistory} from 'react-router-dom';\n\nimport Wrap from '../../components/common/Wrap';\nimport FadeIn from '../../components/common/FadeIn';\n\nexport default function GovernanceProposals() {\n  /**\n   * Render\n   */\n\n  return (\n    <RenderWrapper>\n      <div>GovernanceProposals @todo</div>\n    </RenderWrapper>\n  );\n}\n\nfunction RenderWrapper(props: React.PropsWithChildren<any>): JSX.Element {\n  /**\n   * Their hooks\n   */\n\n  const history = useHistory();\n\n  /**\n   * Functions\n   */\n\n  function goToNewProposal(event: React.MouseEvent<HTMLButtonElement>) {\n    event.preventDefault();\n    history.push('/governance-proposal');\n  }\n\n  /**\n   * Render\n   */\n\n  return (\n    <Wrap className=\"section-wrapper\">\n      <FadeIn>\n        <div className=\"titlebar\">\n          <h2 className=\"titlebar__title\">Governance</h2>\n          <button className=\"titlebar__action\" onClick={goToNewProposal}>\n            New Proposal\n          </button>\n        </div>\n\n        {/* RENDER CHILDREN */}\n        {props.children}\n      </FadeIn>\n    </Wrap>\n  );\n}\n","import React from 'react';\nimport {useHistory} from 'react-router-dom';\n\nimport Wrap from '../../components/common/Wrap';\nimport FadeIn from '../../components/common/FadeIn';\n\nexport default function GovernanceProposalDetails() {\n  /**\n   * Render\n   */\n\n  return (\n    <RenderWrapper>\n      <div>GovernanceProposalDetails @todo</div>\n    </RenderWrapper>\n  );\n}\n\nfunction RenderWrapper(props: React.PropsWithChildren<any>): JSX.Element {\n  /**\n   * Their hooks\n   */\n\n  const history = useHistory();\n\n  /**\n   * Functions\n   */\n\n  function viewAll(event: React.MouseEvent<HTMLButtonElement>) {\n    event.preventDefault();\n    history.push('/governance-proposals');\n  }\n\n  /**\n   * Render\n   */\n\n  return (\n    <Wrap className=\"section-wrapper\">\n      <FadeIn>\n        <div className=\"titlebar\">\n          <h2 className=\"titlebar__title\">Governance</h2>\n          <button className=\"titlebar__action\" onClick={viewAll}>\n            View all\n          </button>\n        </div>\n\n        {/* RENDER CHILDREN */}\n        {props.children}\n      </FadeIn>\n    </Wrap>\n  );\n}\n","import {FakeMember} from './_mockData';\n\ntype MemberCardProps = {\n  member: FakeMember; // placeholder prop\n  name: string;\n  onClick: (ethereumAddress: string) => void;\n};\n\n/**\n * Shows a preview of a members's profile\n *\n * @param {MemberCardProps} props\n * @returns {JSX.Element}\n */\nexport default function MemberCard(props: MemberCardProps): JSX.Element {\n  const {member, name, onClick} = props;\n\n  /**\n   * Functions\n   */\n\n  function handleClick() {\n    const ethereumAddress = member.address;\n\n    onClick(ethereumAddress);\n  }\n\n  /**\n   * Render\n   */\n\n  return (\n    <div className=\"membercard\" onClick={handleClick}>\n      {/* TITLE */}\n      <h3 className=\"membercard__title\">{name}</h3>\n    </div>\n  );\n}\n","// @todo delete this file when no longer needed. (Fake data needed for\n// placeholder components to render styles)\n\nexport type FakeMember = {\n  address: string;\n};\n\nexport const fakeMembers: FakeMember[] = [\n  {\n    address: '0xd38f1A08f9894CE69Bdf796271dC9e4099fC5043',\n  },\n  {\n    address: '0x927A9928Fe2eD6415e4D7761314c3466C3dc78f9',\n  },\n  {\n    address: '0x2e4707940C2d65221ee352945f0551738BCd026E',\n  },\n  {\n    address: '0xF2603046726414C5Dd0B0AE07a842209010AfbC5',\n  },\n  {\n    address: '0x01410229072479e1e4d33490a7052439d7893ed6',\n  },\n  {\n    address: '0x69732A015EE3A371714C99CcF6291fF774638E77',\n  },\n  {\n    address: '0x2b22914fd1A891a4b11A39B11bD53f0e0434a63A',\n  },\n  {\n    address: '0xD47d51c4963aB981A062dd15aE5e442B1Ee9425C',\n  },\n  {\n    address: '0x6197776A13a094370e3F71452fA868937A9f2334',\n  },\n];\n","import {useHistory} from 'react-router-dom';\n\nimport {truncateEthAddress} from '../../util/helpers';\nimport Wrap from '../../components/common/Wrap';\nimport FadeIn from '../../components/common/FadeIn';\nimport MemberCard from './MemberCard';\nimport {fakeMembers, FakeMember} from './_mockData';\n\nexport default function Members() {\n  /**\n   * Their hooks\n   */\n\n  const history = useHistory();\n\n  /**\n   * Variables\n   */\n\n  const activeMembers = renderMemberCards(fakeMembers);\n\n  /**\n   * Functions\n   */\n\n  function renderMemberCards(members: FakeMember[]) {\n    return members.map((member) => {\n      return (\n        <MemberCard\n          key={member.address}\n          onClick={handleClickMemberProfile(member.address)}\n          member={member}\n          name={truncateEthAddress(member.address, 7)}\n        />\n      );\n    });\n  }\n\n  function handleClickMemberProfile(ethereumAddress: string) {\n    return () => {\n      if (!ethereumAddress) return;\n\n      history.push(`/members/${ethereumAddress}`);\n    };\n  }\n\n  /**\n   * Render\n   */\n\n  return (\n    <RenderWrapper>\n      <div className=\"grid--fluid grid-container\">\n        {/* ACTIVE MEMBERS */}\n        <>\n          <div className=\"grid__header\">Active Members</div>\n          <div className=\"grid__cards\">{activeMembers}</div>\n        </>\n      </div>\n    </RenderWrapper>\n  );\n}\n\nfunction RenderWrapper(props: React.PropsWithChildren<any>): JSX.Element {\n  /**\n   * Render\n   */\n\n  return (\n    <Wrap className=\"section-wrapper\">\n      <FadeIn>\n        <div className=\"titlebar\">\n          <h2 className=\"titlebar__title\">Members</h2>\n        </div>\n        {/* RENDER CHILDREN */}\n        {props.children}\n      </FadeIn>\n    </Wrap>\n  );\n}\n","import Web3 from 'web3';\n\nimport {DaoConstants} from './enums';\n// import {AclFlag} from './types';\n\nexport function getAdapterOrExtensionId(adapterName: DaoConstants): string {\n  return sha3(adapterName) as string;\n}\n\n/**\n * getConfigurationABIFunction()\n *\n * Returns the ABI functions used to configure adapters\n */\nexport function getConfigurationABIFunction(): Record<DaoConstants, string> {\n  return {\n    [DaoConstants.BANK]: 'configureExtension', //@todo `configureExtension` comes from the DaoFactory\n    [DaoConstants.CONFIGURATION]: 'submitConfigurationProposal',\n    [DaoConstants.DISTRIBUTE]: '', //@todo\n    [DaoConstants.FINANCING]: 'createFinancingRequest',\n    [DaoConstants.GUILDKICK]: 'submitKickProposal',\n    [DaoConstants.MANAGING]: 'createAdapterChangeRequest',\n    [DaoConstants.OFFCHAINVOTING]: 'configureDao',\n    [DaoConstants.ONBOARDING]: 'configureDao',\n    [DaoConstants.RAGEQUIT]: 'ragequit',\n    [DaoConstants.TRIBUTE]: 'configureDao',\n    [DaoConstants.VOTING]: 'configureDao',\n    [DaoConstants.WITHDRAW]: 'withdraw',\n  };\n}\n\n/**\n * getAccessControlLayer\n *\n * @param adapterName\n */\nexport function getAccessControlLayer(\n  adapterName: string\n): Record<string, any> {\n  const adapterFlags: Record<DaoConstants, any> = {\n    [DaoConstants.BANK]: {},\n    [DaoConstants.CONFIGURATION]: {\n      SUBMIT_PROPOSAL: true,\n      PROCESS_PROPOSAL: true,\n      SPONSOR_PROPOSAL: true,\n      SET_CONFIGURATION: true,\n    },\n    [DaoConstants.DISTRIBUTE]: {\n      SUBMIT_PROPOSAL: true,\n      SPONSOR_PROPOSAL: true,\n      PROCESS_PROPOSAL: true,\n      INTERNAL_TRANSFER: true,\n    },\n    [DaoConstants.TRIBUTE]: {\n      SUBMIT_PROPOSAL: true,\n      SPONSOR_PROPOSAL: true,\n      PROCESS_PROPOSAL: true,\n      NEW_MEMBER: true,\n      ADD_TO_BALANCE: true,\n      REGISTER_NEW_TOKEN: true,\n    },\n    [DaoConstants.FINANCING]: {\n      SUBMIT_PROPOSAL: true,\n      SPONSOR_PROPOSAL: true,\n      PROCESS_PROPOSAL: true,\n      ADD_TO_BALANCE: true,\n      SUB_FROM_BALANCE: true,\n    },\n    [DaoConstants.GUILDKICK]: {\n      SUBMIT_PROPOSAL: true,\n      SPONSOR_PROPOSAL: true,\n      PROCESS_PROPOSAL: true,\n      SUB_FROM_BALANCE: true,\n      ADD_TO_BALANCE: true,\n      JAIL_MEMBER: true,\n      UNJAIL_MEMBER: true,\n      INTERNAL_TRANSFER: true,\n    },\n    [DaoConstants.MANAGING]: {\n      SUBMIT_PROPOSAL: true,\n      PROCESS_PROPOSAL: true,\n      SPONSOR_PROPOSAL: true,\n      REMOVE_ADAPTER: true,\n      ADD_ADAPTER: true,\n    },\n    [DaoConstants.OFFCHAINVOTING]: {},\n    [DaoConstants.ONBOARDING]: {\n      SUBMIT_PROPOSAL: true,\n      SPONSOR_PROPOSAL: true,\n      PROCESS_PROPOSAL: true,\n      ADD_TO_BALANCE: true,\n      UPDATE_DELEGATE_KEY: true,\n      NEW_MEMBER: true,\n    },\n    [DaoConstants.RAGEQUIT]: {\n      SUB_FROM_BALANCE: true,\n      JAIL_MEMBER: true,\n      UNJAIL_MEMBER: true,\n      INTERNAL_TRANSFER: true,\n    },\n    [DaoConstants.VOTING]: {},\n    [DaoConstants.WITHDRAW]: {\n      WITHDRAW: true,\n      SUB_FROM_BALANCE: true,\n    },\n  };\n\n  const flags = adapterFlags[adapterName];\n\n  return {acl: accessFlags(flags)};\n}\n\n/**\n *   === INTERNAL HELPER FUNCTIONS ===\n */\n\n/**\n * accessFlags()\n *\n * @param flags\n */\nfunction accessFlags(flags: Record<string, boolean>): number {\n  const values = [\n    flags.ADD_ADAPTER,\n    flags.REMOVE_ADAPTER,\n    flags.JAIL_MEMBER,\n    flags.UNJAIL_MEMBER,\n    flags.SUBMIT_PROPOSAL,\n    flags.SPONSOR_PROPOSAL,\n    flags.PROCESS_PROPOSAL,\n    flags.UPDATE_DELEGATE_KEY,\n    flags.SET_CONFIGURATION,\n    flags.ADD_EXTENSION,\n    flags.REMOVE_EXTENSION,\n    flags.NEW_MEMBER,\n  ];\n\n  return entry(values) as number;\n}\n\n/**\n * sha3()\n *\n * @returns string | null\n * @param value\n */\nfunction sha3(value: string): string | null {\n  return Web3.utils.sha3(value);\n}\n\n/**\n * entry()\n *\n * @param values\n */\nfunction entry(values: Boolean[]): number {\n  return values\n    .map((v: any, idx: number) => (v !== undefined ? 2 ** idx : 0))\n    .reduce((a: any, b: any) => a + b);\n}\n","import {DaoConstants} from './enums';\nimport {getAdapterOrExtensionId} from './helpers';\n\nimport {\n  DEFAULT_CHAIN,\n  BANK_EXTENSION_CONTRACT_ADDRESS,\n  CONFIGURATION_CONTRACT_ADDRESS,\n  FINANCING_CONTRACT_ADDRESS,\n  GUILDKICK_CONTRACT_ADDRESS,\n  MANAGING_CONTRACT_ADDRESS,\n  ONBOARDING_CONTRACT_ADDRESS,\n  RAGEQUIT_CONTRACT_ADDRESS,\n  TRIBUTE_CONTRACT_ADDRESS,\n  VOTING_CONTRACT_ADDRESS,\n  WITHDRAW_CONTRACT_ADDRESS,\n  OFFCHAINVOTING_CONTRACT_ADDRESS,\n  DISTRIBUTE_CONTRACT_ADDRESS,\n} from '../../config';\n\ntype AdapterProps = {\n  adapterId?: string;\n  extensionId?: string;\n  name: string;\n  contractAddress: string;\n  description: string;\n};\n\nexport type AdaptersAndExtensionsType = {\n  isExtension?: boolean;\n  options?: Omit<\n    AdapterProps,\n    'adapterId' | 'extensionId' | 'name' | 'description' | 'contractAddress'\n  >;\n  optionDefaultTarget?: DaoConstants;\n} & Partial<AdapterProps>;\n\n/**\n * @note README [IMPORTANT]\n *\n *    HOW TO ADD A NEW DEFAULT ADAPTER OR EXTENSION\n *\n * 1. Add the new contract address to the `./src/config.ts`\n *    list ie: <NAME-OF-NEW-CONTRACT>_CONTRACT_ADDRESS\n *\n * 2. Create a new object in the following variable `defaultAdaptersAndExtensions`\n *    - Extensions: must have the key/value pair set `isExtension: true`\n *    - Choosing an adapter/extension from a group: must be defined within a nested `options` key\n */\nexport const defaultAdaptersAndExtensions: AdaptersAndExtensionsType[] = [\n  {\n    isExtension: true,\n    name: DaoConstants.BANK,\n    extensionId: getAdapterOrExtensionId(DaoConstants.BANK),\n    contractAddress: BANK_EXTENSION_CONTRACT_ADDRESS[DEFAULT_CHAIN],\n    description:\n      'Adds the banking capabilities to the DAO, and keeps track of the DAO accounts and internal token balances.',\n  },\n  {\n    name: DaoConstants.CONFIGURATION,\n    adapterId: getAdapterOrExtensionId(DaoConstants.CONFIGURATION),\n    contractAddress: CONFIGURATION_CONTRACT_ADDRESS[DEFAULT_CHAIN],\n    description:\n      'Manages storing and retrieving per-DAO settings required by shared adapters.',\n  },\n  {\n    name: DaoConstants.DISTRIBUTE,\n    adapterId: getAdapterOrExtensionId(DaoConstants.DISTRIBUTE),\n    contractAddress: DISTRIBUTE_CONTRACT_ADDRESS[DEFAULT_CHAIN],\n    description:\n      'Allows the members to distribute funds to one or all members of the DAO.',\n  },\n  {\n    name: DaoConstants.FINANCING,\n    adapterId: getAdapterOrExtensionId(DaoConstants.FINANCING),\n    contractAddress: FINANCING_CONTRACT_ADDRESS[DEFAULT_CHAIN],\n    description:\n      'Allows individuals and/or organizations to request funds to finance their projects, and the members of the DAO have the power to vote and decide which projects should be funded.',\n  },\n  {\n    name: DaoConstants.GUILDKICK,\n    adapterId: getAdapterOrExtensionId(DaoConstants.GUILDKICK),\n    contractAddress: GUILDKICK_CONTRACT_ADDRESS[DEFAULT_CHAIN],\n    description:\n      'Gives the members the freedom to choose which individuals or organizations should really be part of the DAO.',\n  },\n  {\n    name: DaoConstants.MANAGING,\n    adapterId: getAdapterOrExtensionId(DaoConstants.MANAGING),\n    contractAddress: MANAGING_CONTRACT_ADDRESS[DEFAULT_CHAIN],\n    description:\n      'Enhances the DAO capabilities by adding/updating the DAO Adapters through a voting process.',\n  },\n  {\n    name: DaoConstants.ONBOARDING,\n    adapterId: getAdapterOrExtensionId(DaoConstants.ONBOARDING),\n    contractAddress: ONBOARDING_CONTRACT_ADDRESS[DEFAULT_CHAIN],\n    description:\n      'Triggers the process of minting internal tokens in exchange of a specific token at a fixed price.',\n  },\n  {\n    name: DaoConstants.RAGEQUIT,\n    adapterId: getAdapterOrExtensionId(DaoConstants.RAGEQUIT),\n    contractAddress: RAGEQUIT_CONTRACT_ADDRESS[DEFAULT_CHAIN],\n    description:\n      'Gives the members the freedom to choose when it is the best time to exit the DAO for any given reason.',\n  },\n  {\n    name: DaoConstants.TRIBUTE,\n    adapterId: getAdapterOrExtensionId(DaoConstants.TRIBUTE),\n    contractAddress: TRIBUTE_CONTRACT_ADDRESS[DEFAULT_CHAIN],\n    description:\n      'Allows potential and existing DAO members to contribute any amount of ERC-20 tokens to the DAO in exchange for any amount of DAO internal tokens.',\n  },\n  {\n    options: [\n      {\n        name: DaoConstants.VOTING,\n        displayName: DaoConstants.OFFCHAINVOTING,\n        adapterId: getAdapterOrExtensionId(DaoConstants.VOTING),\n        contractAddress: OFFCHAINVOTING_CONTRACT_ADDRESS[DEFAULT_CHAIN],\n        description:\n          'Adds the offchain voting governance process to the DAO to support gasless voting.',\n      },\n      {\n        name: DaoConstants.VOTING,\n        displayName: DaoConstants.VOTING,\n        adapterId: getAdapterOrExtensionId(DaoConstants.VOTING),\n        contractAddress: VOTING_CONTRACT_ADDRESS[DEFAULT_CHAIN],\n        description:\n          'Adds the simple on chain voting governance process to the DAO.',\n      },\n    ],\n    optionDefaultTarget: DaoConstants.VOTING,\n  },\n  {\n    name: DaoConstants.WITHDRAW,\n    adapterId: getAdapterOrExtensionId(DaoConstants.WITHDRAW),\n    contractAddress: WITHDRAW_CONTRACT_ADDRESS[DEFAULT_CHAIN],\n    description:\n      'Allows the members to withdraw their funds from the DAO bank.',\n  },\n];\n","import {useCallback, useEffect, useState} from 'react';\nimport {useLazyQuery} from '@apollo/react-hooks';\nimport {useSelector} from 'react-redux';\n\nimport {StoreState} from '../../../store/types';\nimport {AsyncStatus} from '../../../util/types';\nimport {Adapters, Extensions} from '../types';\n\nimport {GET_ADAPTERS_AND_EXTENSIONS} from '../../../gql';\n\nimport {\n  defaultAdaptersAndExtensions,\n  AdaptersAndExtensionsType,\n} from '../config';\nimport {GQL_QUERY_POLLING_INTERVAL} from '../../../config';\n\nimport {DaoConstants} from '../enums';\n\nexport type AdapterType = {\n  __typename: string;\n  id: string;\n  acl: string;\n  adapterId: string;\n  adapterAddress: string;\n};\n\nexport type ExtensionType = {\n  __typename: string;\n  id: string;\n  extensionId: string;\n  extensionAddress: string;\n};\n\ntype UseAdaptersOrExtensionsReturn = {\n  adapterExtensionStatus: AsyncStatus;\n  getAdapterOrExtensionFromRedux: (\n    adapterName: DaoConstants\n  ) => Record<string, any>;\n  registeredAdaptersOrExtensions: AdapterType[] | undefined;\n  unRegisteredAdaptersOrExtensions: Adapters[] | undefined;\n};\n\nexport type AdaptersType = AdapterType & Adapters;\nexport type ExtensionsType = ExtensionType & Extensions;\n\n/**\n * useAdaptersOrExtensions\n *\n * This component queries The Graph API to get the daos adapters.\n * It returns the available adapters filtered by a search on the current dao.\n *\n * @returns {UseAdaptersOrExtensionsReturn}\n */\nexport function useAdaptersOrExtensions(): UseAdaptersOrExtensionsReturn {\n  /**\n   * Selectors\n   */\n  const {DaoRegistryContract, ...adapterExtensionContracts} = useSelector(\n    (s: StoreState) => s.contracts\n  );\n\n  /**\n   * Their hooks\n   */\n  const [\n    getRegisteredAdaptersAndExtensions,\n    {called, data, error},\n  ] = useLazyQuery(GET_ADAPTERS_AND_EXTENSIONS, {\n    pollInterval: GQL_QUERY_POLLING_INTERVAL,\n    variables: {daoAddress: DaoRegistryContract?.contractAddress.toLowerCase()},\n  });\n\n  /**\n   * State\n   */\n  const [\n    registeredAdaptersOrExtensions,\n    setRegisteredAdaptersOrExtensions,\n  ] = useState<AdapterType[] | undefined>();\n  const [\n    unRegisteredAdaptersOrExtensions,\n    setUnRegisteredAdaptersOrExtensions,\n  ] = useState<Adapters[] | undefined>();\n  const [\n    adapterExtensionStatus,\n    setAdapterExtensionStatus,\n  ] = useState<AsyncStatus>(AsyncStatus.STANDBY);\n\n  const getAdaptersAndExtensionsCached = useCallback(\n    getAdaptersAndExtensions,\n    []\n  );\n\n  useEffect(() => {\n    if (!called) {\n      getRegisteredAdaptersAndExtensions();\n    }\n  }, [called, getRegisteredAdaptersAndExtensions]);\n\n  // Get adapters and extensions from GQL\n  useEffect(() => {\n    if (!DaoRegistryContract?.contractAddress) return;\n\n    try {\n      setAdapterExtensionStatus(AsyncStatus.PENDING);\n\n      if (data) {\n        // extract adapters and extensions from gql data\n        const {adapters, extensions} = data.molochv3S[0] as Record<string, any>;\n\n        // create a list of registered and un-registered adapters and extensions\n        const {\n          registeredList,\n          unRegisteredList,\n        } = getAdaptersAndExtensionsCached(adapters, extensions);\n\n        setRegisteredAdaptersOrExtensions(registeredList);\n        setUnRegisteredAdaptersOrExtensions(unRegisteredList);\n\n        // done; lets set status to fulfilled\n        setAdapterExtensionStatus(AsyncStatus.FULFILLED);\n      } else {\n        if (error) {\n          throw new Error(error.message);\n        }\n      }\n    } catch (error) {\n      setRegisteredAdaptersOrExtensions(undefined);\n      setUnRegisteredAdaptersOrExtensions(undefined);\n\n      setAdapterExtensionStatus(AsyncStatus.REJECTED);\n    }\n  }, [DaoRegistryContract, data, error, getAdaptersAndExtensionsCached]);\n\n  /**\n   * getAdaptersAndExtensions\n   *\n   * Find all registered and un-registered adapters and extensions\n   *\n   * @param registeredDaoAdapters\n   * @param registeredDaoExtensions\n   */\n  function getAdaptersAndExtensions(\n    registeredDaoAdapters: any,\n    registeredDaoExtensions: any\n  ): Record<string, any> {\n    //@todo types\n\n    let registeredList: AdaptersAndExtensionsType[] = [];\n    let unRegisteredList: AdaptersAndExtensionsType[] = [];\n\n    const getAdapterFromGql = (adapterId: string) => {\n      return registeredDaoAdapters.find(\n        (adapter: AdaptersAndExtensionsType) => {\n          return adapter.adapterId?.toLowerCase() === adapterId?.toLowerCase();\n        }\n      );\n    };\n\n    const getExtensionFromGql = (extensionId: string) => {\n      return registeredDaoExtensions.find(\n        (extension: AdaptersAndExtensionsType) => {\n          return (\n            extension.extensionId?.toLowerCase() === extensionId?.toLowerCase()\n          );\n        }\n      );\n    };\n\n    defaultAdaptersAndExtensions.forEach(\n      (adapterOrExtension: AdaptersAndExtensionsType | any) => {\n        if (adapterOrExtension?.isExtension) {\n          // Add an extenaion\n\n          const gqlExtension = getExtensionFromGql(\n            adapterOrExtension.extensionId\n          );\n\n          if (gqlExtension) {\n            registeredList.push({\n              ...gqlExtension,\n              ...adapterOrExtension,\n              name: adapterOrExtension.name as DaoConstants,\n              description: adapterOrExtension.description,\n            } as AdaptersAndExtensionsType);\n          } else {\n            unRegisteredList.push({\n              ...adapterOrExtension,\n              name: adapterOrExtension.name as DaoConstants,\n              description: adapterOrExtension.description,\n            } as AdaptersAndExtensionsType);\n          }\n        } else if (adapterOrExtension?.options) {\n          // Check options for adapters and extensions\n\n          // dry-run check to see if any of the options have already been registered\n          const maybeSomeAdapters = adapterOrExtension?.options.some(\n            (s: any) => {\n              return !s.isExtension && getAdapterFromGql(s.adapterId);\n            }\n          );\n\n          // dry-run check to see if any of the options have already been registered\n          const maybeSomeExtensions = adapterOrExtension?.options.some(\n            (s: any) => {\n              return s.isExtension && getExtensionFromGql(s.extensionId);\n            }\n          );\n\n          // this means an adapter or extension has already been\n          // added from the options\n          if (maybeSomeAdapters || maybeSomeExtensions) {\n            let shouldSkip = false;\n\n            adapterOrExtension?.options?.forEach((option: any) => {\n              if (shouldSkip) {\n                return;\n              }\n\n              if (option?.isExtension) {\n                const gqlExtension = getExtensionFromGql(option.extensionId);\n\n                if (gqlExtension) {\n                  registeredList.push({\n                    ...gqlExtension,\n                    ...option,\n                    name: option.name as DaoConstants,\n                    description: option.description,\n                  } as AdaptersAndExtensionsType);\n\n                  shouldSkip = true;\n                  return;\n                } else {\n                  unRegisteredList.push({\n                    ...option,\n                    name: option.name as DaoConstants,\n                    description: option.description,\n                  } as AdaptersAndExtensionsType);\n                }\n              } else {\n                const gqlAdapter = getAdapterFromGql(option.adapterId);\n                if (gqlAdapter) {\n                  registeredList.push({\n                    ...gqlAdapter,\n                    ...option,\n                    name: option.name as DaoConstants,\n                    description: option.description,\n                  } as AdaptersAndExtensionsType);\n\n                  shouldSkip = true;\n                  return;\n                } else {\n                  unRegisteredList.push({\n                    ...option,\n                    name: option.name as DaoConstants,\n                    description: option.description,\n                  } as AdaptersAndExtensionsType);\n                }\n              }\n            });\n          } else {\n            // just add the options as a nested object;\n            // this will trigger the dropdown to display the options\n            unRegisteredList.push(adapterOrExtension);\n          }\n        } else {\n          // Add an adapter\n          const gqlAdapter = getAdapterFromGql(adapterOrExtension.adapterId);\n\n          if (gqlAdapter) {\n            registeredList.push({\n              ...gqlAdapter,\n              ...adapterOrExtension,\n              name: adapterOrExtension.name as DaoConstants,\n              description: adapterOrExtension.description,\n            } as AdaptersAndExtensionsType);\n          } else {\n            unRegisteredList.push({\n              ...adapterOrExtension,\n              name: adapterOrExtension.name as DaoConstants,\n              description: adapterOrExtension.description,\n            } as AdaptersAndExtensionsType);\n          }\n        }\n      }\n    );\n\n    return {\n      registeredList,\n      unRegisteredList,\n    };\n  }\n\n  /**\n   * getAdapterOrExtensionFromRedux\n   *\n   * @param adapterOrExtensionName DaoConstants\n   */\n  function getAdapterOrExtensionFromRedux(\n    adapterOrExtensionName: DaoConstants\n  ): Record<string, any> {\n    return Object.keys(adapterExtensionContracts)\n      .map((ae) => adapterExtensionContracts[ae])\n      .filter((ae) => ae) // filter out any `null` objects\n      .filter((ae) => ae.adapterOrExtensionName === adapterOrExtensionName)[0];\n  }\n\n  return {\n    adapterExtensionStatus,\n    getAdapterOrExtensionFromRedux,\n    registeredAdaptersOrExtensions,\n    unRegisteredAdaptersOrExtensions,\n  };\n}\n","import Web3 from 'web3';\n\nimport {FormFieldErrors} from '../../../util/enums';\nimport {useIsDefaultChain} from '../../web3/hooks';\n\ntype ValidationType =\n  | 'address'\n  | 'bytes32'\n  | 'bytes32[]'\n  | 'uint256'\n  | 'uint256[]';\n\nexport type ParamInputType = string | string[] | number | number[];\n\nexport enum ParamType {\n  ADDRESS = 'address',\n  BYTES32 = 'bytes32',\n  BYTES32_ARRAY = 'bytes32[]',\n  UINT256 = 'uint256',\n  UINT256_ARRAY = 'uint256[]',\n}\n\ntype UseValidationReturn = {\n  isParamInputValid: (\n    paramInput: ParamInputType,\n    paramType: ValidationType\n  ) => boolean;\n  getFormFieldError: (paramType: ValidationType) => string | FormFieldErrors;\n  formatInputByType: (inputValue: any, inputType: ParamType) => string;\n};\n\n/**\n * useValidation\n *\n * This hook validates the input values for the ABI parameters.\n *\n * @returns {UseValidationReturn}\n */\nexport function useValidation(): UseValidationReturn {\n  /**\n   * Hooks\n   */\n  const {defaultChain} = useIsDefaultChain();\n\n  function isParamInputValid(\n    paramInput: ParamInputType,\n    paramType: ValidationType\n  ): boolean {\n    const parameter: string = paramInput.toString();\n\n    const isValid: boolean =\n      paramType === ParamType.ADDRESS\n        ? isAddressValid(parameter)\n        : paramType === ParamType.BYTES32\n        ? isBytes32Valid(parameter)\n        : paramType === ParamType.BYTES32_ARRAY\n        ? isBytes32ArrayValid(parameter)\n        : paramType === ParamType.UINT256\n        ? isUint256Valid(parameter)\n        : paramType === ParamType.UINT256_ARRAY\n        ? isUint256ArrayValid(parameter)\n        : true;\n\n    return isValid;\n  }\n\n  function getFormFieldError(\n    paramType: ValidationType\n  ): string | FormFieldErrors {\n    return paramType === ParamType.ADDRESS\n      ? FormFieldErrors.INVALID_ETHEREUM_ADDRESS\n      : paramType === ParamType.BYTES32\n      ? FormFieldErrors.INVALID_BYTES32\n      : paramType === ParamType.BYTES32_ARRAY\n      ? FormFieldErrors.INVALID_BYTES32_ARRAY\n      : paramType === ParamType.UINT256\n      ? FormFieldErrors.INVALID_NUMBER\n      : paramType === ParamType.UINT256_ARRAY\n      ? FormFieldErrors.INVALID_NUMBER_ARRAY\n      : FormFieldErrors.REQUIRED;\n  }\n\n  /**\n   * isAddressValid()\n   *\n   * @returns boolean\n   * @param parameter string\n   */\n  function isAddressValid(parameter: string): boolean {\n    try {\n      if (!parameter) return false;\n\n      return (\n        Web3.utils.checkAddressChecksum(parameter, defaultChain) ||\n        Web3.utils.isAddress(parameter, defaultChain)\n      );\n    } catch (error) {\n      return false;\n    }\n  }\n\n  /**\n   * isBytes32Valid()\n   *\n   * @returns boolean\n   * @param parameter string\n   */\n  function isBytes32Valid(parameter: string): boolean {\n    try {\n      if (!parameter) return false;\n\n      return parameter.length === 66 && Web3.utils.isHex(parameter);\n    } catch (error) {\n      return false;\n    }\n  }\n\n  /**\n   * isBytes32ArrayValid()\n   *\n   * @returns boolean\n   * @param parameter string\n   */\n  function isBytes32ArrayValid(parameter: string): boolean {\n    try {\n      return Array.from(parameter.split(',')).every(\n        (p) => p.length === 66 && Web3.utils.isHex(p)\n      );\n    } catch (error) {\n      return false;\n    }\n  }\n\n  /**\n   * isUint256Valid\n   *\n   * @returns boolean\n   * @param parameter string\n   */\n  function isUint256Valid(parameter: string): boolean {\n    return !isNaN(Number(parameter));\n  }\n\n  /**\n   * isUint256ArrayValid()\n   *\n   * @returns boolean\n   * @param parameter string\n   */\n  function isUint256ArrayValid(parameter: string): boolean {\n    return Array.from(parameter.split(',')).every((p) => Number(p));\n  }\n\n  function formatInputByType(inputValue: any, inputType: any) {\n    const formatBytes32Array = (): string[] =>\n      Array.from(inputValue.split(','));\n    const formatUint256Array = (): number[] => {\n      return Array.from(inputValue.split(',').map((i: string) => Number(i)));\n    };\n\n    return inputType === ParamType.BYTES32_ARRAY\n      ? formatBytes32Array()\n      : inputType === ParamType.UINT256_ARRAY\n      ? formatUint256Array()\n      : inputType === ParamType.UINT256\n      ? Number(inputValue)\n      : inputValue;\n  }\n\n  return {\n    isParamInputValid,\n    getFormFieldError,\n    formatInputByType,\n  };\n}\n","import React, {Fragment} from 'react';\n\ninterface IProps {\n  checked: boolean;\n  id: string;\n  label: string;\n  name: string;\n  onChange: (event: React.ChangeEvent<HTMLInputElement>) => void;\n}\n\ntype OtherProps = {[key: string]: any; size?: CheckboxSize};\n\nexport enum CheckboxSize {\n  LARGE = 'large',\n  SMALL = 'small',\n}\n\nexport default function Checkbox({size, ...props}: IProps & OtherProps) {\n  return (\n    <Fragment>\n      <input\n        {...props}\n        aria-checked={props.checked}\n        checked={props.checked}\n        className={`checkbox-input ${props.className || ''} `}\n        id={props.id}\n        name={props.name}\n        onChange={props.onChange}\n        type=\"checkbox\"\n      />\n\n      <label className={`checkbox-label`} htmlFor={props.id}>\n        <span className={`checkbox-box ${size || CheckboxSize.SMALL}`}></span>\n        <span className={`checkbox-text`}>{props.label}</span>\n      </label>\n    </Fragment>\n  );\n}\n","import {useCallback, useEffect, useState} from 'react';\nimport {useSelector} from 'react-redux';\n\nimport {StoreState} from '../../store/types';\nimport {AsyncStatus} from '../../util/types';\nimport {\n  AddAdapterArguments,\n  AddExtensionArguments,\n  AdaptersOrExtensions,\n} from './types';\n\nimport {DaoConstants} from './enums';\n\nimport {\n  defaultAdaptersAndExtensions,\n  AdaptersAndExtensionsType,\n} from './config';\n\nimport {\n  getAdapterOrExtensionId,\n  getAccessControlLayer,\n  getConfigurationABIFunction,\n} from './helpers';\nimport {getDaoState, DaoState} from '../web3/helpers';\nimport {truncateEthAddress} from '../../util/helpers';\n\nimport {useAdaptersOrExtensions} from './hooks/useAdaptersOrExtensions';\nimport {useDao, useMemberActionDisabled} from '../../hooks';\nimport {useContractSend, useETHGasPrice, useWeb3Modal} from '../web3/hooks';\n\nimport ConfiguratorModal from './ConfigurationModal';\nimport AdapterExtensionSelectTarget from './AdapterOrExtensionSelectTarget';\nimport Checkbox, {CheckboxSize} from '../common/Checkbox';\nimport ErrorMessageWithDetails from '../common/ErrorMessageWithDetails';\nimport Loader from '../feedback/Loader';\n\nenum WhyDisableModalTitles {\n  FINALIZED_REASON = 'Why is finalizing disabled?',\n  CONFIGURATION_REASON = 'Why are configurations disabled?',\n}\n/**\n * AdapterOrExtensionManager()\n *\n * This components lists all the registered and unregistered adapters/extensions\n * from the list of available adapters in the `defaultAdaptersAndExtensions` in `./config.ts`\n *\n * It allows for adding unreigsterd adapters and extensions, configurating\n * registered adapters and extensions, and finalizing the DAO.\n *\n * @note it is not possible to manage the adapters/extensions if the DAO is finalized.\n */\nexport default function AdapterOrExtensionManager() {\n  /**\n   * Selectors\n   */\n  const {DaoRegistryContract, DaoFactoryContract} = useSelector(\n    (state: StoreState) => state.contracts\n  );\n\n  /**\n   * States\n   */\n  const [abiMethodName, setABIMethodName] = useState<string>('');\n  const [daoState, setDaoState] = useState<DaoState>();\n  const [isDone, setIsDone] = useState<Record<string, boolean> | undefined>();\n  const [inputParameters, setInputParameters] = useState<Record<string, any>>();\n  const [submitError, setSubmitError] = useState<Error>();\n  const [openModal, setOpenModal] = useState<boolean>(false);\n  const [selectAll, setSelectAll] = useState<boolean>(false);\n  const [selectionCount, setSelectionCount] = useState<number>(0);\n  const [selections, setSelections] = useState<\n    Record<string, boolean> | undefined\n  >();\n  const [\n    configureAdapterOrExtension,\n    setConfigureAdapterOrExtension,\n  ] = useState<AdaptersOrExtensions | undefined>();\n  const [isInProcess, setIsInProcess] = useState<\n    Record<string, boolean> | undefined\n  >();\n  const [whyDisabledReason, setWhyDisabledReason] = useState<\n    WhyDisableModalTitles | undefined\n  >();\n\n  /**\n   * Hooks\n   */\n  const {account} = useWeb3Modal();\n  const {\n    adapterExtensionStatus,\n    getAdapterOrExtensionFromRedux,\n    registeredAdaptersOrExtensions,\n    unRegisteredAdaptersOrExtensions,\n  } = useAdaptersOrExtensions();\n  const {dao, gqlError} = useDao();\n\n  const {\n    // txError,\n    // txEtherscanURL,\n    // txIsPromptOpen,\n    txSend,\n    // txStatus,\n  } = useContractSend();\n  const gasPrices = useETHGasPrice();\n  const {\n    isDisabled,\n    openWhyDisabledModal,\n    setOtherDisabledReasons,\n    WhyDisabledModal,\n  } = useMemberActionDisabled();\n\n  /**\n   * Variables\n   */\n  const isDAOExisting: Record<string, any> | undefined = dao;\n  const isDAOReady: boolean = daoState === DaoState.READY;\n  // grammatically naming is incorrect :)\n  const isAdaptersUnavailable: boolean =\n    adapterExtensionStatus === AsyncStatus.REJECTED &&\n    registeredAdaptersOrExtensions === undefined &&\n    unRegisteredAdaptersOrExtensions === undefined;\n  const isLoadingAdapters: boolean =\n    adapterExtensionStatus === AsyncStatus.PENDING;\n\n  // @todo track the prior selection of a dropdown target\n  // let priorSelectedTargetOption: DaoConstants | null = null;\n\n  const checkDaoStateCached = useCallback(checkDaoState, [\n    DaoRegistryContract,\n    dao?.name,\n    setOtherDisabledReasons,\n  ]);\n\n  // Check the Dao state\n  useEffect(() => {\n    checkDaoStateCached();\n  }, [checkDaoStateCached, DaoRegistryContract]);\n\n  // Sets the initial checkbox selections for non-registered adapters to `false`\n  // and sets the `Select All` checkbox to disabled if no adapters are available\n  useEffect(() => {\n    // Set the select all check to false by default\n    setSelectAll(false);\n\n    if (!unRegisteredAdaptersOrExtensions) return;\n\n    unRegisteredAdaptersOrExtensions &&\n      unRegisteredAdaptersOrExtensions?.forEach(\n        (adapterOrExtension: Record<string, any>) => {\n          // only add a selection if it doesn't have nested `options`\n          !adapterOrExtension?.options &&\n            setSelections((prevState: Record<string, boolean> | undefined) => ({\n              ...prevState,\n              [adapterOrExtension.name]: false,\n            }));\n        }\n      );\n  }, [isDisabled, unRegisteredAdaptersOrExtensions]);\n\n  // Updates checkbox selection counter when user selects a checkbox\n  useEffect(() => {\n    selections &&\n      setSelectionCount(\n        Object.values(selections).filter((adapter: boolean) => adapter === true)\n          .length\n      );\n  }, [selections]);\n\n  async function checkDaoState() {\n    if (!DaoRegistryContract) {\n      return;\n    }\n\n    try {\n      const finalizedMessage = `${dao?.name} is already finalized`;\n\n      const daoRegistryState = await getDaoState(DaoRegistryContract.instance);\n      setDaoState(daoRegistryState);\n\n      daoRegistryState === DaoState.READY &&\n        setOtherDisabledReasons([finalizedMessage]);\n    } catch (error) {\n      setDaoState(undefined);\n    }\n  }\n\n  /**\n   * handleAddAdapter\n   *\n   * Handles adding `adapter`\n   *\n   * @param adapter\n   */\n  function handleAddAdapter(adapter: Record<string, any>): void {\n    const adapterOrExtensionAddress = new Promise<any>((resolve, reject) => {\n      try {\n        // Get contract address\n        const {contractAddress} = getAdapterOrExtensionFromRedux(\n          adapter.name as DaoConstants\n        );\n\n        resolve(contractAddress);\n      } catch (error) {\n        // try and get the default contract address from the arg `adapter`\n        const contractAddress = adapter.contractAddress;\n\n        if (contractAddress) {\n          resolve(contractAddress);\n        } else {\n          reject(error);\n        }\n      }\n    });\n\n    adapterOrExtensionAddress\n      .then((contractAddress: string) => {\n        addAdapterOrExtension(contractAddress, adapter.name, 'ADAPTER');\n      })\n      .catch((error) => {\n        console.warn(\n          `Dao adapter contract not found, try adding the default \"${adapter.name}\" contract`\n        );\n      });\n  }\n\n  /**\n   * handleAddExtension\n   *\n   * Handle adding an `extension`\n   * @param extension\n   */\n  function handleAddExtension(extension: any): void {\n    const adapterOrExtensionAddress = new Promise<any>((resolve, reject) => {\n      try {\n        // Get contract address\n        const {contractAddress} = getAdapterOrExtensionFromRedux(\n          extension.name as DaoConstants\n        );\n\n        resolve(contractAddress);\n      } catch (error) {\n        // try and get the default contract address\n        // from the arg `adapter` or  `extension`\n        const contractAddress = extension.contractAddress;\n\n        if (contractAddress) {\n          resolve(contractAddress);\n        } else {\n          reject(error);\n        }\n      }\n    });\n\n    adapterOrExtensionAddress\n      .then((contractAddress: string) => {\n        addAdapterOrExtension(contractAddress, extension.name, 'EXTENSION');\n      })\n      .catch((error) => {\n        console.warn(\n          `Dao extension contract not found, try adding the default \"${extension.name}\" contract`,\n          error\n        );\n      });\n  }\n\n  async function addAdapterOrExtension(\n    adapterOrExtensionAddress: string,\n    adapterOrExtensionName: DaoConstants,\n    adapterOrExtensionType: 'ADAPTER' | 'EXTENSION'\n  ): Promise<void> {\n    setSubmitError(undefined);\n\n    if (!DaoRegistryContract) return;\n\n    try {\n      setIsInProcess((prevState) => ({\n        ...prevState,\n        [adapterOrExtensionName]: true,\n      }));\n\n      if (!adapterOrExtensionAddress) {\n        throw new Error(`${adapterOrExtensionType} address must not be empty`);\n      }\n\n      // 1. Get the bytes32 hash of the adapter name\n      const adapterOrExtensionId = getAdapterOrExtensionId(\n        adapterOrExtensionName\n      );\n\n      // 2. Get adapters access control layer (acl)\n      // these are the functions the adapter will have access to\n      const {acl} = getAccessControlLayer(adapterOrExtensionName);\n\n      // 3. Contract the function arguments base of its type\n      const addAdapterOrExtensionArguments:\n        | AddAdapterArguments\n        | AddExtensionArguments =\n        adapterOrExtensionType === 'ADAPTER'\n          ? [adapterOrExtensionId, adapterOrExtensionAddress, acl]\n          : [adapterOrExtensionId, adapterOrExtensionAddress, account];\n\n      const txArguments = {\n        from: account || '',\n        // Set a fast gas price\n        ...(gasPrices ? {gasPrice: gasPrices.fast} : null),\n      };\n\n      const txSendMethod =\n        adapterOrExtensionType === 'ADAPTER' ? 'addAdapter' : 'addExtension';\n\n      // Execute contract call for `addAdapter` or `addExtension`\n      await txSend(\n        txSendMethod,\n        DaoRegistryContract.instance.methods,\n        addAdapterOrExtensionArguments,\n        txArguments\n      );\n\n      setIsInProcess((prevState) => ({\n        ...prevState,\n        [adapterOrExtensionName]: false,\n      }));\n      setIsDone((prevState) => ({\n        ...prevState,\n        [adapterOrExtensionName]: true,\n      }));\n\n      // @todo re-initContracts\n    } catch (error) {\n      setIsInProcess((prevState) => ({\n        ...prevState,\n        [adapterOrExtensionName]: false,\n      }));\n\n      const errorMessage = new Error(\n        error && error?.code === 4001\n          ? error.message\n          : `Unable to add ${adapterOrExtensionName} ${adapterOrExtensionType}; ${error}`\n      );\n      setSubmitError(errorMessage);\n    }\n  }\n\n  /**\n   * handleAddSelectedAdapters()\n   *\n   * This function only adds adapters, not extensions\n   */\n  async function handleAddSelectedAdapters(): Promise<void> {\n    setSubmitError(undefined);\n\n    if (!DaoFactoryContract) {\n      throw new Error('DaoFactoryContract not found');\n    }\n\n    try {\n      let adaptersArguments: AddAdapterArguments[] = [];\n\n      // Set the `Add` button states to true for all selected adapters\n      for (const adapterName in selections) {\n        if (selections[adapterName]) {\n          // @todo check for extension\n          // Get adapterOrExtensionId from `defaultAdaptersAndExtensions`\n          const {\n            adapterId,\n          }: AdaptersAndExtensionsType = defaultAdaptersAndExtensions.filter(\n            (a: AdaptersAndExtensionsType) => a.name === adapterName\n          )[0];\n\n          // Get adapter contract address\n          const {contractAddress} = getAdapterOrExtensionFromRedux(\n            adapterName as DaoConstants\n          );\n\n          // Get adapters access control layer (acl)\n          // these are the functions the adapter will have access to\n          const {acl} = getAccessControlLayer(adapterName);\n\n          // skip if adapterId undefined\n          adapterId &&\n            adaptersArguments.push([adapterId, contractAddress, acl]);\n\n          setIsInProcess((prevState) => ({\n            ...prevState,\n            [adapterName]: true,\n          }));\n        }\n      }\n\n      const addAdaptersArguments: [string, AddAdapterArguments[]] = [\n        dao?.daoAddress,\n        adaptersArguments,\n      ];\n\n      const txArguments = {\n        from: account || '',\n        // Set a fast gas price\n        ...(gasPrices ? {gasPrice: gasPrices.fast} : null),\n      };\n\n      // Execute contract call for `addAdapters`\n      await txSend(\n        'addAdapters',\n        DaoFactoryContract.instance.methods,\n        addAdaptersArguments,\n        txArguments\n      );\n\n      // enable buttons @todo\n      // re-init contracts @todo\n    } catch (error) {\n      const errorMessage = new Error(\n        error && error?.code === 4001\n          ? error.message\n          : `Unable to add adapters; ${error}`\n      );\n      setSubmitError(errorMessage);\n\n      // reset all the checkboxes for the selected adapters\n      checkboxesSelection(false);\n      // reset all the buttons for the selected adapters\n      for (const adapterName in selections) {\n        setIsInProcess((prevState) => ({\n          ...prevState,\n          [adapterName]: false,\n        }));\n      }\n    }\n  }\n\n  /**\n   * configureAdapter\n   *\n   * @param adapter\n   */\n  async function handleConfigure(\n    adapterOrExtension: AdaptersOrExtensions\n  ): Promise<void> {\n    setSubmitError(undefined);\n\n    try {\n      // Get ABI function name\n      const abiFunctionName: string = getConfigurationABIFunction()[\n        adapterOrExtension.name\n      ];\n      // Get adapters/extension ABI\n      const {abi} = getAdapterOrExtensionFromRedux(adapterOrExtension.name);\n      // Get adapters/extension configure function input parameters\n      const {inputs} = abi.filter(\n        (p: Record<string, any>) => p.name === abiFunctionName\n      )[0];\n\n      setABIMethodName(abiFunctionName);\n      setConfigureAdapterOrExtension(adapterOrExtension);\n      setInputParameters(inputs);\n      setOpenModal(true);\n    } catch (error) {\n      const errorMessage = new Error(\n        error && error?.code === 4001\n          ? error.message\n          : `${adapterOrExtension.name} contract not found`\n      );\n      setSubmitError(errorMessage);\n    }\n  }\n\n  /**\n   * confirmFinalizePrompt\n   */\n  function confirmFinalizePrompt(): void {\n    if (window.confirm('Do you really want to finalize this DAO?')) {\n      handleFinalizeDao();\n    }\n  }\n\n  async function handleFinalizeDao(): Promise<void> {\n    window.alert(`Sorry, finalizing isn't ready yet!`);\n\n    try {\n      // get getDaoState when done\n    } catch (error) {}\n  }\n\n  // Handles the select all checkbox event\n  function handleOnChange(event: React.ChangeEvent<HTMLInputElement>): void {\n    checkboxesSelection(event.target.checked);\n  }\n\n  function checkboxesSelection(checked: boolean): void {\n    // Update the select all checkbox\n    setSelectAll(checked);\n\n    // Update all un-registered adapter/extension\n    for (const key in selections) {\n      setSelections((s) => ({\n        ...s,\n        [key]: checked,\n      }));\n    }\n  }\n\n  function handleSelectTargetChange({event, selectedTargetOption}: any): void {\n    // update the prior selected target to track the change\n    // so we can remove the old target from checkbox `selections`\n\n    // @todo Remove previously selected target if its from an `options` list\n\n    setSelections((s) => ({\n      ...s,\n      [selectedTargetOption]: event.target.checked,\n    }));\n  }\n\n  function renderDaoName() {\n    if (!dao && gqlError) {\n      window.scrollTo({\n        top: 0,\n        left: 200,\n        behavior: 'smooth',\n      });\n\n      return (\n        <ErrorMessageWithDetails\n          error={gqlError}\n          renderText=\"Something went wrong\"\n        />\n      );\n    }\n\n    if (dao) {\n      return (\n        <h3>\n          {dao.name} <small>{truncateEthAddress(dao.daoAddress, 7)}</small>\n        </h3>\n      );\n    }\n  }\n\n  function renderErrorMessage() {\n    if (submitError) {\n      window.scrollTo({\n        top: 0,\n        left: 200,\n        behavior: 'smooth',\n      });\n\n      return (\n        <ErrorMessageWithDetails\n          error={submitError}\n          renderText=\"Something went wrong\"\n        />\n      );\n    } else {\n      return <></>;\n    }\n  }\n\n  return (\n    <div className=\"adaptermanager\">\n      <h2>Adapter/Extension Manager</h2>\n      {renderDaoName()}\n      {renderErrorMessage()}\n      <p>\n        Nulla aliquet porttitor venenatis. Donec a dui et dui fringilla\n        consectetur id nec massa. Aliquam erat volutpat. Sed ut dui ut lacus\n        dictum fermentum vel tincidunt neque. Sed sed lacinia...\n      </p>\n      <div className=\"adapter-extension__selection\">\n        <div>\n          <Checkbox\n            id=\"selectAll\"\n            label={`${selectionCount} selected`}\n            checked={selectAll === true}\n            disabled={\n              isAdaptersUnavailable ||\n              isDisabled || // connected user is not an active member\n              unRegisteredAdaptersOrExtensions?.length === 0 || // nothing left to register\n              !isDAOExisting\n              /* @todo \n              - disable when selection is processing \n              - disable when there are no more unused adapters to select\n              */\n            }\n            name=\"selectAll\"\n            size={CheckboxSize.LARGE}\n            onChange={handleOnChange}\n          />\n        </div>\n        <div>\n          <button\n            className=\"button--secondary\"\n            disabled={selectionCount === 0 || isDisabled}\n            onClick={handleAddSelectedAdapters}>\n            Add selected\n          </button>\n        </div>\n      </div>\n\n      {isLoadingAdapters && <Loader text=\"Loading data from subgraph...\" />}\n      {isAdaptersUnavailable && <p>No adapters available</p>}\n\n      {/** UNUSED ADAPTERS AND EXTENSIONS TO ADD */}\n      {isDAOExisting &&\n        unRegisteredAdaptersOrExtensions &&\n        unRegisteredAdaptersOrExtensions?.length > 0 &&\n        unRegisteredAdaptersOrExtensions.map(\n          (adapter: Record<string, any>, idx: number) => (\n            <div className=\"adapter-extension__grid unregistered\" key={idx}>\n              {/** RENDER ADAPTER/EXTENSION DROPDOWN */}\n              {adapter?.options ? (\n                <AdapterExtensionSelectTarget\n                  adapterOrExtension={adapter}\n                  renderCheckboxAction={({selectedTargetOption}) => {\n                    return (\n                      <>\n                        <div className=\"adapter-extension__checkbox\">\n                          <Checkbox\n                            id={selectedTargetOption || 'empty'}\n                            label={''}\n                            checked={\n                              (selectedTargetOption &&\n                                selections &&\n                                selections[selectedTargetOption] === true) ||\n                              false\n                            }\n                            disabled={\n                              isDisabled ||\n                              selectedTargetOption === null ||\n                              adapter?.isExtension\n                            }\n                            name={selectedTargetOption || ''}\n                            size={CheckboxSize.LARGE}\n                            onChange={(event) => {\n                              selectedTargetOption &&\n                                handleSelectTargetChange({\n                                  event,\n                                  selectedTargetOption,\n                                });\n                            }}\n                          />\n                        </div>\n                      </>\n                    );\n                  }}\n                  renderActions={({\n                    selectedTargetOption,\n                    selectedTargetOptionProps,\n                  }) => {\n                    return (\n                      <>\n                        <div className=\"adapter-extension__add\">\n                          <button\n                            className=\"button--secondary\"\n                            disabled={\n                              selectedTargetOption === null ||\n                              (isInProcess &&\n                                isInProcess[selectedTargetOptionProps.name]) ||\n                              isDisabled\n                            }\n                            onClick={() =>\n                              selectedTargetOptionProps?.isExtension\n                                ? handleAddExtension(selectedTargetOptionProps)\n                                : handleAddAdapter(selectedTargetOptionProps)\n                            }>\n                            {isInProcess &&\n                            isInProcess[selectedTargetOptionProps.name] ? (\n                              <Loader />\n                            ) : isDone &&\n                              isDone[selectedTargetOptionProps.name] ? (\n                              'Done'\n                            ) : (\n                              'Add'\n                            )}\n                          </button>\n                        </div>\n                      </>\n                    );\n                  }}\n                />\n              ) : (\n                <>\n                  {/** RENDER ADAPTER/EXTENSION */}\n                  <div className=\"adapter-extension__checkbox\">\n                    <Checkbox\n                      id={adapter.name}\n                      label={''}\n                      checked={\n                        (selections && selections[adapter.name] === true) ||\n                        false\n                      }\n                      disabled={isDisabled}\n                      name={adapter.name}\n                      size={CheckboxSize.LARGE}\n                      onChange={(event) => {\n                        setSelections((s) => ({\n                          ...s,\n                          [adapter.name]: event.target.checked,\n                        }));\n                      }}\n                    />\n                  </div>\n\n                  <div className=\"adapter-extension__info\">\n                    <span className=\"adapter-extension__name\">\n                      {adapter.name} {adapter?.isExtension && '(EXTENSION)'}\n                    </span>\n                    <span className=\"adapter-extension__desc\">\n                      {adapter.description}\n                    </span>\n                  </div>\n\n                  <div className=\"adapter-extension__add\">\n                    <button\n                      className=\"button--secondary\"\n                      disabled={\n                        (isInProcess && isInProcess[adapter.name]) || isDisabled\n                      }\n                      onClick={() =>\n                        adapter?.isExtension\n                          ? handleAddExtension(adapter)\n                          : handleAddAdapter(adapter)\n                      }>\n                      {isInProcess && isInProcess[adapter.name] ? (\n                        <Loader />\n                      ) : isDone && isDone[adapter.name] ? (\n                        'Done'\n                      ) : (\n                        'Add'\n                      )}\n                    </button>\n                  </div>\n                </>\n              )}\n            </div>\n          )\n        )}\n\n      {/** CURRENTLY USED ADAPTERS/EXTENSIONS TO CONFIGURE OR REMOVE */}\n      {isDAOExisting &&\n        registeredAdaptersOrExtensions &&\n        registeredAdaptersOrExtensions?.length > 0 &&\n        registeredAdaptersOrExtensions.map(\n          (adapterOrExtension: Record<string, any>, idx: number) => (\n            <div\n              className=\"adapter-extension__grid registered\"\n              key={`${adapterOrExtension.id}-${idx}`}>\n              <div className=\"adapter-extension__info\">\n                <span className=\"adapter-extension__name\">\n                  {adapterOrExtension.name}{' '}\n                  {adapterOrExtension?.isExtension && '(EXTENSION)'}\n                </span>\n                <span className=\"adapter-extension__desc\">\n                  {adapterOrExtension.description}\n                </span>\n              </div>\n\n              <div className=\"adapter-extension__configure\">\n                <button\n                  className=\"button--secondary\"\n                  disabled={isDisabled || adapterOrExtension?.isExtension}\n                  onClick={() =>\n                    handleConfigure(adapterOrExtension as AdaptersOrExtensions)\n                  }>\n                  Configure\n                </button>\n              </div>\n            </div>\n          )\n        )}\n\n      {isDisabled && (\n        <div>\n          <button\n            className=\"button--help\"\n            onClick={() => {\n              openWhyDisabledModal();\n              setWhyDisabledReason(WhyDisableModalTitles.CONFIGURATION_REASON);\n            }}>\n            {WhyDisableModalTitles.CONFIGURATION_REASON}\n          </button>\n        </div>\n      )}\n\n      <div className=\"adapter-adapter-extension__finalize\">\n        <p>\n          If you're happy with your setup, you can finalize your DAO. After your\n          DAO is finalized you will need to submit a proposal to make changes.\n        </p>\n        <div>\n          <button\n            className=\"button--secondary finalize\"\n            disabled={\n              isAdaptersUnavailable || !isDAOExisting || isDAOReady\n              /* @todo \n              - also disable when selection is processing \n              - when there are no more unused adapters to select\n              */\n            }\n            onClick={confirmFinalizePrompt}>\n            Finalize Dao\n          </button>\n        </div>\n\n        {isDisabled && (\n          <div>\n            <button\n              className=\"button--help\"\n              onClick={() => {\n                openWhyDisabledModal();\n\n                setWhyDisabledReason(WhyDisableModalTitles.FINALIZED_REASON);\n              }}>\n              {WhyDisableModalTitles.FINALIZED_REASON}\n            </button>\n          </div>\n        )}\n\n        <WhyDisabledModal title={whyDisabledReason} />\n      </div>\n\n      {openModal && (\n        <ConfiguratorModal\n          abiMethodName={abiMethodName}\n          adapterOrExtension={configureAdapterOrExtension}\n          configurationInputs={inputParameters}\n          isOpen={openModal}\n          closeHandler={() => {\n            setOpenModal(false);\n          }}\n        />\n      )}\n    </div>\n  );\n}\n","import React, {useCallback, useEffect, useState} from 'react';\nimport {getApiStatus as getSnapshotAPIStatus} from '@openlaw/snapshot-js-erc712';\n\nimport {AsyncStatus} from './util/types';\nimport {getConnectedMember} from './store/actions';\nimport {ContractsStateEntry, ReduxDispatch, StoreState} from './store/types';\nimport {SNAPSHOT_HUB_API_URL} from './config';\nimport {useDispatch, useSelector} from 'react-redux';\nimport {useInitContracts, useIsDefaultChain} from './components/web3/hooks';\nimport {useIsMounted} from './hooks';\nimport {useWeb3Modal} from './components/web3/hooks';\nimport ErrorMessageWithDetails from './components/common/ErrorMessageWithDetails';\nimport FadeIn from './components/common/FadeIn';\nimport Header from './components/Header';\nimport Wrap from './components/common/Wrap';\n\ntype InitPropsRenderProps = {\n  error: Error | undefined;\n  isInitComplete: boolean;\n};\n\ntype InitProps = {\n  render: (p: InitPropsRenderProps) => React.ReactElement | null;\n};\n\ntype InitErrorProps = {\n  error: Error;\n};\n\n/**\n * Register any new async process names here.\n * It is mainly to check their progress before rendering.\n *\n * If the app is not dependent on a process before starting\n * do not add it here.\n */\nenum ProcessName {\n  initSnapshotAPI = 'initSnapshotAPI',\n}\n\n/**\n * Init Component\n *\n * Init will run any designated sync/async\n * setup processes and then render any child component\n * upon completion.\n *\n * In our case the children prop component to render is our app.\n *\n * @param {InitProps} props\n */\nexport default function Init(props: InitProps) {\n  const {render} = props;\n\n  /**\n   * Selectors\n   */\n\n  const daoRegistryContract = useSelector(\n    (s: StoreState) => s.contracts.DaoRegistryContract\n  );\n\n  /**\n   * State\n   */\n\n  const [error, setError] = useState<Error>();\n  const [isInitComplete, setIsInitComplete] = useState<boolean>(false);\n  const [processReadyMap, setProcessReadyMap] = useState<\n    Record<ProcessName, AsyncStatus>\n  >({\n    [ProcessName.initSnapshotAPI]: AsyncStatus.STANDBY,\n  });\n\n  /**\n   * Our hooks\n   */\n\n  const initContracts = useInitContracts();\n  const {account, connected, provider, web3Instance} = useWeb3Modal();\n  const {defaultChainError} = useIsDefaultChain();\n  const {isMountedRef} = useIsMounted();\n\n  /**\n   * Their hooks\n   */\n\n  const dispatch = useDispatch<ReduxDispatch>();\n\n  /**\n   * Cached callbacks\n   */\n\n  const handleInitContractsCached = useCallback(handleInitContracts, [\n    initContracts,\n  ]);\n  const handleGetMemberCached = useCallback(handleGetMember, [dispatch]);\n  const handleGetSnapshotAPIStatusCached = useCallback(\n    handleGetSnapshotAPIStatus,\n    [isMountedRef]\n  );\n\n  /**\n   * Effects\n   */\n\n  useEffect(() => {\n    setIsInitComplete(\n      Object.values(processReadyMap).every((fs) => fs === AsyncStatus.FULFILLED)\n    );\n  }, [processReadyMap]);\n\n  useEffect(() => {\n    connected && provider && web3Instance && handleInitContractsCached();\n  }, [connected, handleInitContractsCached, provider, web3Instance]);\n\n  useEffect(() => {\n    connected &&\n      account &&\n      daoRegistryContract &&\n      handleGetMemberCached(account, daoRegistryContract);\n  }, [account, connected, daoRegistryContract, handleGetMemberCached]);\n\n  useEffect(() => {\n    setError(defaultChainError);\n  }, [defaultChainError]);\n\n  useEffect(() => {\n    handleGetSnapshotAPIStatusCached();\n  }, [handleGetSnapshotAPIStatusCached]);\n\n  /**\n   * Functions\n   */\n\n  async function handleGetSnapshotAPIStatus() {\n    try {\n      if (!SNAPSHOT_HUB_API_URL) {\n        throw new Error('No Snapshot Hub API URL was found.');\n      }\n\n      const {data} = await getSnapshotAPIStatus(SNAPSHOT_HUB_API_URL);\n\n      // Choosing a slice of the data to make sure we have a response, not just 200 OK.\n      if (!data.version) {\n        throw new Error('Snapshot API is not ready.');\n      }\n\n      if (!isMountedRef.current) return;\n\n      setProcessReadyMap((p) => ({\n        ...p,\n        [ProcessName.initSnapshotAPI]: AsyncStatus.FULFILLED,\n      }));\n    } catch (error) {\n      if (!isMountedRef.current) return;\n\n      setError(new Error('Snapshot API is not responding.'));\n    }\n  }\n\n  async function handleInitContracts() {\n    try {\n      await initContracts();\n    } catch (error) {\n      setError(error);\n    }\n  }\n\n  async function handleGetMember(\n    account: string,\n    daoRegistryContract: ContractsStateEntry\n  ) {\n    try {\n      await dispatch(getConnectedMember(account, daoRegistryContract));\n    } catch (error) {\n      setError(error);\n    }\n  }\n\n  // Render children\n  return render({error, isInitComplete});\n}\n\n/**\n * InitError\n *\n * An error component that is meant to be used if the <Init /> component\n * could not complete any of its processes to provide the app with vital data.\n *\n * @param {InitErrorProps} props\n */\nexport function InitError(props: InitErrorProps) {\n  const {error} = props;\n\n  return (\n    <>\n      <Header />\n\n      <Wrap className=\"section-wrapper\">\n        <main>\n          <FadeIn>\n            <div\n              style={{\n                padding: '2em 1em 1em',\n                textAlign: 'center',\n              }}>\n              <h1 style={{fontSize: '2rem'}}>\n                <span\n                  className=\"pulse\"\n                  role=\"img\"\n                  aria-label=\"Emoji with eyes crossed out.\"\n                  style={{display: 'inline-block'}}>\n                  \n                </span>{' '}\n                Oops, something went wrong.\n              </h1>\n            </div>\n\n            <div\n              style={{\n                textAlign: 'center',\n                maxWidth: 600,\n                display: 'block',\n                margin: '0 auto',\n              }}>\n              <ErrorMessageWithDetails error={error} renderText=\"\" />\n            </div>\n          </FadeIn>\n        </main>\n      </Wrap>\n    </>\n  );\n}\n","import React, {useState} from 'react';\nimport {useForm} from 'react-hook-form';\nimport {useSelector} from 'react-redux';\nimport {AbiItem} from 'web3-utils/types';\n\nimport {DaoConstants} from './enums';\nimport {AdaptersOrExtensions} from './types';\nimport {StoreState} from '../../store/types';\nimport {Web3TxStatus} from '../web3/types';\nimport {FormFieldErrors} from '../../util/enums';\nimport {getValidationError} from '../../util/helpers';\nimport {useContractSend, useETHGasPrice, useWeb3Modal} from '../web3/hooks';\nimport {useAdaptersOrExtensions, useValidation} from './hooks';\nimport {ParamInputType, ParamType} from './hooks/useValidation';\n\nimport ErrorMessageWithDetails from '../common/ErrorMessageWithDetails';\nimport InputError from '../common/InputError';\nimport Loader from '../feedback/Loader';\n\ntype ConfigurationFormProps = {\n  abiConfigurationInputs: Record<string, any> | undefined;\n  abiMethodName: string;\n  adapterOrExtension: Pick<AdaptersOrExtensions, any> | undefined;\n  closeHandler?: () => void;\n};\n\ntype RemoveArgument = [\n  string // `adapterId` | `extensionId`\n];\n\nexport default function ConfigurationForm({\n  abiConfigurationInputs,\n  abiMethodName,\n  adapterOrExtension,\n  closeHandler,\n}: ConfigurationFormProps) {\n  /**\n   * Selectors\n   */\n  const {DaoRegistryContract} = useSelector(\n    (state: StoreState) => state.contracts\n  );\n\n  /**\n   * State\n   */\n  const [submitError, setSubmitError] = useState<Error>();\n  const [\n    configureAdapterStatus,\n    setConfigureAdapterStatus,\n  ] = useState<Web3TxStatus>(Web3TxStatus.STANDBY);\n  const [removeStatus, setRemoveStatus] = useState<Web3TxStatus>(\n    Web3TxStatus.STANDBY\n  );\n\n  /**\n   * Hooks\n   */\n  const {\n    txError,\n    // txEtherscanURL,\n    txIsPromptOpen,\n    txSend,\n    txStatus,\n  } = useContractSend();\n  const gasPrices = useETHGasPrice();\n  const {connected, account} = useWeb3Modal();\n  const {\n    isParamInputValid,\n    getFormFieldError,\n    formatInputByType,\n  } = useValidation();\n  const {getAdapterOrExtensionFromRedux} = useAdaptersOrExtensions();\n\n  /**\n   * Their hooks\n   */\n  const form = useForm<Record<string, any>>({\n    mode: 'onBlur',\n    reValidateMode: 'onChange',\n  });\n\n  /**\n   * Variables\n   */\n  const {errors, formState, getValues, setValue, register, trigger} = form;\n  const configureAdapterError = submitError || txError;\n  const isConnected = connected && account;\n\n  /**\n   * @note From the docs: \"Read the formState before render to subscribe the form state through Proxy\"\n   * @see https://react-hook-form.com/api#formState\n   */\n  const {isValid} = formState;\n\n  const isConfigureInProcess =\n    (txStatus === Web3TxStatus.AWAITING_CONFIRM ||\n      txStatus === Web3TxStatus.PENDING) &&\n    (configureAdapterStatus === Web3TxStatus.AWAITING_CONFIRM ||\n      configureAdapterStatus === Web3TxStatus.PENDING);\n  const isRemoveInProcess =\n    (txStatus === Web3TxStatus.AWAITING_CONFIRM ||\n      txStatus === Web3TxStatus.PENDING) &&\n    (removeStatus === Web3TxStatus.AWAITING_CONFIRM ||\n      removeStatus === Web3TxStatus.PENDING);\n\n  const isConfigureDone =\n    txStatus === Web3TxStatus.FULFILLED &&\n    configureAdapterStatus === Web3TxStatus.FULFILLED;\n  const isRemoveDone =\n    txStatus === Web3TxStatus.FULFILLED &&\n    removeStatus === Web3TxStatus.FULFILLED;\n\n  const isConfigureInProcessOrDone =\n    (isConfigureInProcess || isConfigureDone) && txIsPromptOpen;\n  const isRemoveInProcessOrDone =\n    (isRemoveInProcess || isRemoveDone) && txIsPromptOpen;\n\n  /**\n   * handleRemove()\n   */\n  async function handleRemove(): Promise<void> {\n    if (!DaoRegistryContract) return;\n\n    try {\n      setRemoveStatus(Web3TxStatus.AWAITING_CONFIRM);\n\n      const removeArguments: RemoveArgument = [\n        adapterOrExtension?.isExtension\n          ? adapterOrExtension?.extensionId\n          : adapterOrExtension?.adapterId,\n      ] as any;\n      const txArguments = {\n        from: account || '',\n        // Set a fast gas price\n        ...(gasPrices ? {gasPrice: gasPrices.fast} : null),\n      };\n\n      // Execute contract call for `removeAdapter` | `removeExtension`\n      await txSend(\n        adapterOrExtension?.isExtension ? 'removeExtension' : 'removeAdapter',\n        DaoRegistryContract.instance.methods,\n        removeArguments,\n        txArguments\n      );\n\n      setRemoveStatus(Web3TxStatus.FULFILLED);\n\n      // Close modal\n      closeHandler &&\n        setTimeout(() => {\n          closeHandler();\n          // @todo Display closing modal message\n        }, 3000);\n    } catch (error) {\n      setSubmitError(error);\n      setRemoveStatus(Web3TxStatus.REJECTED);\n    }\n  }\n\n  /**\n   * handleSubmit()\n   * @param values\n   */\n  async function handleSubmit(values: Record<string, any>) {\n    try {\n      setConfigureAdapterStatus(Web3TxStatus.PENDING);\n\n      const {\n        contractAddress,\n        instance: {methods},\n      } = getAdapterOrExtensionFromRedux(\n        adapterOrExtension?.name as DaoConstants\n      );\n\n      if (!isConnected) {\n        throw new Error(\n          'No user account was found. Please makes sure your wallet is connected.'\n        );\n      }\n\n      if (!contractAddress) {\n        throw new Error(`No ${adapterOrExtension?.name} contract found.`);\n      }\n\n      if (!account) {\n        throw new Error('No account found.');\n      }\n\n      let adapterConfigArguments: Array<ParamInputType> = [];\n      // construct method arguments\n      abiConfigurationInputs?.forEach((abiInput: AbiItem) => {\n        const inputValue = Object.entries(values).find(\n          (v: any) => v[0] === abiInput.name\n        );\n\n        if (inputValue) {\n          const formattedValue: ParamInputType = formatInputByType(\n            inputValue[1] as ParamInputType,\n            abiInput.type as ParamType\n          );\n\n          adapterConfigArguments.push(formattedValue);\n        }\n      });\n\n      const txArguments = {\n        from: account || '',\n        // Set a fast gas price\n        ...(gasPrices ? {gasPrice: gasPrices.fast} : null),\n      };\n\n      setConfigureAdapterStatus(Web3TxStatus.AWAITING_CONFIRM);\n\n      // Execute contract call\n      await txSend(abiMethodName, methods, adapterConfigArguments, txArguments);\n\n      setConfigureAdapterStatus(Web3TxStatus.FULFILLED);\n    } catch (error) {\n      // Set any errors from Web3 utils or explicitly set above.\n      setSubmitError(error);\n      setConfigureAdapterStatus(Web3TxStatus.REJECTED);\n    }\n  }\n\n  return (\n    <form className=\"form\" onSubmit={(e) => e.preventDefault()}>\n      {/* INPUT PARAMETERS */}\n      {abiConfigurationInputs &&\n        abiConfigurationInputs.map((input: Record<string, any>) => (\n          <div className=\"form__input-row\" key={input.name}>\n            <label className=\"form__input-row-label\">{input.name}</label>\n            <div className=\"form__input-row-fieldwrap\">\n              <input\n                aria-describedby={`error-${input.name}`}\n                aria-invalid={errors[input.name] ? 'true' : 'false'}\n                name={input.name}\n                placeholder={input.type}\n                type=\"text\"\n                onChange={() =>\n                  setValue(input.name[0], getValues()[input.name])\n                }\n                ref={register({\n                  validate: (value: string): string | boolean => {\n                    return value === ''\n                      ? FormFieldErrors.REQUIRED\n                      : isParamInputValid(value, input.type)\n                      ? true\n                      : getFormFieldError(input.type);\n                  },\n                })}\n                disabled={isConfigureInProcessOrDone}\n              />\n\n              <InputError\n                error={getValidationError(input.name, errors)}\n                id={`error-${input.name}`}\n              />\n            </div>\n          </div>\n        ))}\n\n      {/* SUBMIT */}\n      <button\n        className=\"button\"\n        disabled={isConfigureInProcessOrDone || isRemoveInProcessOrDone}\n        onClick={() => {\n          if (isConfigureInProcessOrDone) return;\n\n          if (!isValid) {\n            trigger();\n            return;\n          }\n\n          handleSubmit(getValues());\n        }}\n        type=\"submit\">\n        {isConfigureInProcess ? (\n          <Loader />\n        ) : isConfigureDone ? (\n          'Done'\n        ) : (\n          'Submit'\n        )}\n      </button>\n\n      {/* SUBMIT CONFIGURE STATUS */}\n      {/* <div className=\"form__submit-status-container\">\n      {isConfigureInProcessOrDone && renderSubmitStatus()}\n    </div> */}\n\n      {/* SUBMIT ERROR */}\n      {configureAdapterError && (\n        <div className=\"form__submit-error-container\">\n          <ErrorMessageWithDetails\n            renderText=\"Something went wrong while submitting the adapter configuration.\"\n            error={configureAdapterError}\n          />\n        </div>\n      )}\n\n      {/** REMOVE ADAPTER BUTTON - only show if DAO isn't finalized */}\n      <div className=\"adapter-extension__remove\">\n        <p>\n          Delete this adapter. Once you delete this adapter, it can be re-added\n          if the DAO isn't finalized.\n        </p>\n        <button\n          className=\"button--secondary\"\n          disabled={isRemoveInProcessOrDone || isConfigureInProcessOrDone}\n          onClick={handleRemove}>\n          {isRemoveInProcess ? <Loader /> : isRemoveDone ? 'Done' : 'Remove'}\n        </button>\n\n        {/* SUBMIT REMOVE STATUS */}\n        {/* <div className=\"form__submit-status-container\">\n        {isRemoveInProcessOrDone && renderSubmitStatus()}\n      </div> */}\n      </div>\n    </form>\n  );\n}\n","import React from 'react';\n\nimport {AdaptersOrExtensions} from './types';\nimport ConfigurationForm from './ConfigurationForm';\nimport Modal from '../common/Modal';\n\nimport TimesSVG from '../../assets/svg/TimesSVG';\n\ntype ConfiguratorModalProps = {\n  abiMethodName: string;\n  adapterOrExtension: AdaptersOrExtensions | undefined;\n  configurationInputs: Record<string, any> | undefined;\n  isOpen: boolean;\n  closeHandler: () => void;\n};\n\nexport default function ConfiguratorModal({\n  abiMethodName,\n  adapterOrExtension,\n  configurationInputs,\n  isOpen,\n  closeHandler,\n}: ConfiguratorModalProps) {\n  return (\n    <Modal\n      keyProp=\"adapter-extension-configuration\"\n      modalClassNames=\"adapter-extension-configure-modal\"\n      isOpen={isOpen}\n      isOpenHandler={() => {\n        closeHandler();\n      }}>\n      {/* MODEL CLOSE BUTTON */}\n      <>\n        <span\n          className=\"modal__close-button\"\n          onClick={() => {\n            closeHandler();\n          }}>\n          <TimesSVG />\n        </span>\n\n        <h1>{adapterOrExtension?.name.toUpperCase()}</h1>\n        <p>{adapterOrExtension?.description}</p>\n\n        <ConfigurationForm\n          abiConfigurationInputs={configurationInputs}\n          abiMethodName={abiMethodName}\n          adapterOrExtension={adapterOrExtension as AdaptersOrExtensions}\n          closeHandler={closeHandler}\n        />\n      </>\n    </Modal>\n  );\n}\n","import React, {useState} from 'react';\n\nimport {DaoConstants} from './enums';\n\ntype AdapterExtensionTarget = DaoConstants | null;\n\ntype AdapterExtensionSelectTargetRenderActionsArgs = {\n  selectedTargetOption: AdapterExtensionTarget;\n  selectedTargetOptionProps: any;\n};\n\ntype AdapterExtensionSelectTargetProps = {\n  defaultTarget?: AdapterExtensionTarget;\n  adapterOrExtension: Record<string, any>;\n  renderActions: (\n    a: AdapterExtensionSelectTargetRenderActionsArgs\n  ) => JSX.Element | null;\n  renderCheckboxAction: (a: {\n    selectedTargetOption: AdapterExtensionTarget;\n  }) => JSX.Element | null;\n};\n\n/**\n * AdapterExtensionSelectTarget\n *\n * Displays a drop-down confirm list with options to\n * choose to from the defined list of options in `./config.ts`\n\n *\n * @param {AdapterExtensionSelectTargetProps} props\n * @returns {JSX.Element}\n */\nexport default function AdapterExtensionSelectTarget(\n  props: AdapterExtensionSelectTargetProps\n) {\n  const {\n    adapterOrExtension,\n    defaultTarget,\n    renderActions,\n    renderCheckboxAction,\n  } = props;\n\n  /**\n   * State\n   */\n\n  const [\n    selectedTargetOption,\n    setSelectedTargetOption,\n  ] = useState<AdapterExtensionTarget>(defaultTarget || null);\n\n  const [\n    selectedTargetOptionProps,\n    setSelectedTargetOptionProps,\n  ] = useState<any>({});\n\n  /**\n   * Functions\n   */\n\n  function handleSelectTargetChange(\n    event: React.ChangeEvent<HTMLSelectElement>\n  ) {\n    const {value} = event.target;\n\n    setSelectedTargetOption(value as AdapterExtensionTarget);\n\n    const selectedTargetProps: string = adapterOrExtension?.options.find(\n      (selectedOption: any) => selectedOption.displayName === value\n    );\n\n    setSelectedTargetOptionProps(selectedTargetProps);\n  }\n\n  function renderDescription(selectedTargetOption: DaoConstants | null) {\n    if (!selectedTargetOption) return null;\n\n    try {\n      const description: string =\n        adapterOrExtension?.options.find(\n          (selectedOption: any) =>\n            selectedOption.displayName === selectedTargetOption\n        ).description || '';\n\n      return <span className=\"adapter-extension__desc\">{description}</span>;\n    } catch (error) {\n      console.warn(error);\n    }\n  }\n\n  return (\n    <>\n      {/* CHECKBOX ACTIONS */}\n      {renderCheckboxAction({selectedTargetOption})}\n\n      <div className=\"adapter-extension__info\">\n        {/* ADAPTER/EXTENSION TARGET DEFAULT NAME */}\n        <span className=\"adapter-extension__name\">\n          {adapterOrExtension?.optionDefaultTarget}\n          {adapterOrExtension?.isExtension && '(EXTENSION)'}\n        </span>\n\n        {/* CHOOSE ADAPTER/EXTENSION TARGET */}\n        <select className=\"select\" onChange={handleSelectTargetChange}>\n          <option\n            key={'adapterOrExtensionSelect'}\n            value=\"\"\n            disabled={selectedTargetOption !== null}>\n            Select a {adapterOrExtension?.optionDefaultTarget} type&hellip;\n          </option>\n\n          {adapterOrExtension?.options.map((option: any) => (\n            <option key={option.displayName} value={option.displayName}>\n              {option.displayName.toUpperCase()}\n            </option>\n          ))}\n        </select>\n\n        {renderDescription(selectedTargetOption)}\n      </div>\n\n      {/* BUTTON ACTIONS */}\n      {renderActions({selectedTargetOption, selectedTargetOptionProps})}\n    </>\n  );\n}\n","import {useEffect} from 'react';\nimport {useHistory, useParams} from 'react-router-dom';\n\nimport {truncateEthAddress} from '../../util/helpers';\nimport Wrap from '../../components/common/Wrap';\nimport FadeIn from '../../components/common/FadeIn';\nimport AdapterOrExtensionManager from '../../components/adapters-extensions/AdapterOrExtensionManager';\nimport {fakeMembers, FakeMember} from './_mockData';\n\nexport default function MemberProfile() {\n  /**\n   * Their hooks\n   */\n\n  // Get ethereumAddress for fetching the member.\n  // @todo Use this to check that active member exists.\n  const {ethereumAddress} = useParams<{ethereumAddress: string}>();\n  const history = useHistory();\n\n  /**\n   * Variables\n   */\n\n  // @todo replace with actual member fetch and member exists check\n  const activeMember: FakeMember | undefined = fakeMembers.find(\n    (member) => member.address.toLowerCase() === ethereumAddress.toLowerCase()\n  );\n\n  /**\n   * Effects\n   */\n\n  // Navigate to 404\n  useEffect(() => {\n    if (!activeMember) {\n      history.push('/404');\n    }\n  }, [history, activeMember]);\n\n  /**\n   * Render\n   */\n\n  if (activeMember) {\n    return (\n      <RenderWrapper>\n        <>\n          <div className=\"memberprofile__header\">Member Profile</div>\n          <div className=\"proposaldetails\">\n            {/* LEFT COLUMN */}\n\n            {/* MEMBER ADDRESS */}\n            <div className=\"memberprofile__left-column\">\n              <h3>\n                {truncateEthAddress((activeMember as FakeMember).address, 7)}\n              </h3>\n\n              <AdapterOrExtensionManager />\n            </div>\n\n            {/* RIGHT COLUMN */}\n            <div className=\"memberprofile__right-column\">\n              MemberProfile @todo\n            </div>\n          </div>\n        </>\n      </RenderWrapper>\n    );\n  }\n\n  // Render nothing. Should never reach this case.\n  return <></>;\n}\n\nfunction RenderWrapper(props: React.PropsWithChildren<any>): JSX.Element {\n  /**\n   * Their hooks\n   */\n\n  const history = useHistory();\n\n  /**\n   * Functions\n   */\n\n  function viewAll(event: React.MouseEvent<HTMLButtonElement>) {\n    event.preventDefault();\n    history.push('/members');\n  }\n\n  /**\n   * Render\n   */\n\n  return (\n    <Wrap className=\"section-wrapper\">\n      <FadeIn>\n        <div className=\"titlebar\">\n          <h2 className=\"titlebar__title\">Members</h2>\n          <button className=\"titlebar__action\" onClick={viewAll}>\n            View all\n          </button>\n        </div>\n\n        {/* RENDER CHILDREN */}\n        {props.children}\n      </FadeIn>\n    </Wrap>\n  );\n}\n","import React from 'react';\nimport {Route, Switch} from 'react-router-dom';\n\nimport GetStarted from './pages/start/GetStarted';\nimport CreateMembershipProposal from './pages/membership/CreateMembershipProposal';\nimport Membership from './pages/membership/Membership';\nimport MembershipDetails from './pages/membership/MembershipDetails';\nimport CreateTransferProposal from './pages/transfers/CreateTransferProposal';\nimport Transfers from './pages/transfers/Transfers';\nimport TransferDetails from './pages/transfers/TransferDetails';\nimport CreateTributeProposal from './pages/tributes/CreateTributeProposal';\nimport Tributes from './pages/tributes/Tributes';\nimport TributeDetails from './pages/tributes/TributeDetails';\nimport CreateGovernanceProposal from './pages/governance/CreateGovernanceProposal';\nimport GovernanceProposals from './pages/governance/GovernanceProposals';\nimport GovernanceProposalDetails from './pages/governance/GovernanceProposalDetails';\nimport Members from './pages/members/Members';\nimport MemberProfile from './pages/members/MemberProfile';\nimport NotFound from './pages/subpages/NotFound';\n\nexport default function Routes() {\n  return (\n    <Switch>\n      {[\n        <Route key=\"splash\" exact path=\"/\" render={() => <GetStarted />} />,\n        <Route\n          key=\"join\"\n          exact\n          path=\"/join\"\n          render={() => <CreateMembershipProposal />}\n        />,\n        <Route\n          key=\"membership\"\n          exact\n          path=\"/membership\"\n          render={() => <Membership />}\n        />,\n        <Route\n          key=\"membership-details\"\n          exact\n          path=\"/membership/:proposalId\"\n          render={() => <MembershipDetails />}\n        />,\n        <Route\n          key=\"transfer\"\n          exact\n          path=\"/transfer\"\n          render={() => <CreateTransferProposal />}\n        />,\n        <Route\n          key=\"transfers\"\n          exact\n          path=\"/transfers\"\n          render={() => <Transfers />}\n        />,\n        <Route\n          key=\"transfer-details\"\n          exact\n          path=\"/transfers/:proposalId\"\n          render={() => <TransferDetails />}\n        />,\n        <Route\n          key=\"tribute\"\n          exact\n          path=\"/tribute\"\n          render={() => <CreateTributeProposal />}\n        />,\n        <Route\n          key=\"tributes\"\n          exact\n          path=\"/tributes\"\n          render={() => <Tributes />}\n        />,\n        <Route\n          key=\"tribute-details\"\n          exact\n          path=\"/tributes/:proposalId\"\n          render={() => <TributeDetails />}\n        />,\n        <Route\n          key=\"governance-proposal\"\n          exact\n          path=\"/governance-proposal\"\n          render={() => <CreateGovernanceProposal />}\n        />,\n        <Route\n          key=\"governance-proposals\"\n          exact\n          path=\"/governance-proposals\"\n          render={() => <GovernanceProposals />}\n        />,\n        <Route\n          key=\"governance-proposal-details\"\n          exact\n          path=\"/governance-proposals/:proposalId\"\n          render={() => <GovernanceProposalDetails />}\n        />,\n        <Route\n          key=\"members\"\n          exact\n          path=\"/members\"\n          render={() => <Members />}\n        />,\n        <Route\n          key=\"member-profile\"\n          exact\n          path=\"/members/:ethereumAddress\"\n          render={() => <MemberProfile />}\n        />,\n        <Route key=\"no-match\" component={NotFound} />,\n      ]}\n    </Switch>\n  );\n}\n","import React from 'react';\n\nimport Footer from './components/Footer';\nimport Header from './components/Header';\nimport Head from './Head';\nimport Routes from './Routes';\n\nexport default function App() {\n  return (\n    <>\n      {/* HEAD (react-helmet) */}\n      <Head />\n\n      {/* HEADER */}\n      <Header />\n\n      <main>\n        <Routes />\n      </main>\n\n      {/* FOOTER */}\n      <Footer />\n    </>\n  );\n}\n","import {ReportHandler} from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({getCLS, getFID, getFCP, getLCP, getTTFB}) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {Provider} from 'react-redux';\nimport {BrowserRouter} from 'react-router-dom';\nimport {ApolloProvider} from '@apollo/react-hooks';\nimport {\n  ApolloClient,\n  InMemoryCache,\n  NormalizedCacheObject,\n} from '@apollo/client';\nimport WalletConnectProvider from '@walletconnect/web3-provider';\n\nimport {disableReactDevTools} from './util/helpers';\nimport {ENVIRONMENT, INFURA_PROJECT_ID, GRAPH_API_URL} from './config';\nimport {DefaultTheme} from './components/web3/hooks/useWeb3ModalManager';\nimport {store} from './store';\nimport App from './App';\nimport Init, {InitError} from './Init';\nimport Web3ModalManager from './components/web3/Web3ModalManager';\nimport reportWebVitals from './reportWebVitals';\n\nimport './assets/scss/style.scss';\n\nconst root = document.getElementById('root');\n\n// disable React dev tools for production\nENVIRONMENT === 'production' && disableReactDevTools();\n\n// will be deprecated eventually, for now we set it to false to silence the\n// console warning\nwindow.ethereum &&\n  window.ethereum.autoRefreshOnNetworkChange &&\n  (window.ethereum.autoRefreshOnNetworkChange = false);\n\n// Tell Web3modal what providers we have available.\n// Built-in web browser provider (only one can exist at a time),\n// MetaMask, Brave or Opera is added automatically by Web3modal\nfunction getProviderOptions() {\n  const providerOptions = {\n    // Injected providers\n    injected: {\n      display: {\n        name: 'MetaMask',\n        description: 'Connect with the provider in your Browser',\n      },\n      package: null,\n    },\n    // WalletConnect provider\n    walletconnect: {\n      display: {\n        name: 'WalletConnect',\n        description: 'Connect with your mobile wallet',\n      },\n      package: WalletConnectProvider,\n      options: {\n        infuraId: INFURA_PROJECT_ID, // required\n        qrcodeModalOptions: {\n          mobileLinks: ['rainbow', 'metamask', 'argent', 'trust'],\n        },\n      },\n    },\n  };\n  return providerOptions;\n}\n\n// Create apolloClient\nexport const apolloClient:\n  | ApolloClient<NormalizedCacheObject>\n  | undefined = new ApolloClient({\n  uri: GRAPH_API_URL,\n  cache: new InMemoryCache({\n    // Cache data may be lost when replacing the `adapters|extensions`\n    // field of a Query object. To address this problem\n    // (which is not a bug in Apollo Client), define a custom\n    // merge function for the Query.adapters|extensions field, so\n    // InMemoryCache can safely merge these objects\n    // https://www.apollographql.com/docs/react/caching/cache-field-behavior/#the-merge-function\n    typePolicies: {\n      Adapter: {\n        fields: {\n          adapters: {\n            merge(existing = [], incoming: any[]) {\n              return [...existing, ...incoming];\n            },\n          },\n        },\n      },\n      Extension: {\n        fields: {\n          extensions: {\n            merge(existing = [], incoming: any[]) {\n              return [...existing, ...incoming];\n            },\n          },\n        },\n      },\n    },\n  }),\n});\n\nif (root !== null) {\n  ReactDOM.render(\n    <Provider store={store}>\n      <BrowserRouter>\n        <Web3ModalManager\n          providerOptions={getProviderOptions()}\n          defaultTheme={DefaultTheme.LIGHT}>\n          <ApolloProvider client={apolloClient}>\n            <Init\n              render={({error, isInitComplete}) =>\n                error ? (\n                  <InitError error={error} />\n                ) : isInitComplete ? (\n                  <App />\n                ) : null\n              }\n            />\n          </ApolloProvider>\n        </Web3ModalManager>\n      </BrowserRouter>\n    </Provider>,\n    root\n  );\n}\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}